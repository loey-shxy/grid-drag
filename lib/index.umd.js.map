{"version":3,"file":"index.umd.js","sources":["../packages/src/utils/constant.ts","../packages/src/utils/grid.ts","../packages/src/components/GridsterItem.vue","../packages/src/components/AddComponent.vue","../node_modules/@arco-design/web-vue/es/_utils/is.js","../node_modules/@arco-design/web-vue/es/config-provider/context.js","../node_modules/@arco-design/web-vue/es/_utils/global-config.js","../node_modules/@arco-design/web-vue/es/_utils/vue-utils.js","../node_modules/@arco-design/web-vue/es/_utils/dom.js","../node_modules/@arco-design/web-vue/es/_virtual/plugin-vue_export-helper.js","../node_modules/@arco-design/web-vue/es/_components/icon-hover.js","../node_modules/@arco-design/web-vue/es/icon/icon-close/icon-close.js","../node_modules/@arco-design/web-vue/es/icon/icon-close/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-info-circle-fill/icon-info-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-info-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-check-circle-fill/icon-check-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-check-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-exclamation-circle-fill/icon-exclamation-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-exclamation-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-close-circle-fill/icon-close-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-close-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-loading/icon-loading.js","../node_modules/@arco-design/web-vue/es/icon/icon-loading/index.js","../node_modules/@arco-design/web-vue/es/_hooks/use-popup-manager.js","../node_modules/@arco-design/web-vue/es/message/message.js","../node_modules/@arco-design/web-vue/es/message/message-list.js","../node_modules/@arco-design/web-vue/es/message/index.js","../node_modules/@arco-design/web-vue/es/_utils/constant.js","../packages/src/components/GridDrag.vue","../packages/src/index.ts"],"sourcesContent":["export const COLUMNS = 24\r\nexport const MIN_HEIGHT = 60\r\nexport const MIN_WIDTH = 100","import type { ComponentItemModel, GridConfig, Position, Size, ContainerInfo } from \"../types/layout\";\r\nimport { COLUMNS, MIN_HEIGHT } from \"./constant\";\r\n\r\n// 查找可用位置自动向后排列\r\nexport function findAvailablePosition(\r\n  components: ComponentItemModel[],\r\n  newComponent: ComponentItemModel,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): Position | null {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n  const { gap, cellWidth } = gridConfig\r\n\r\n  // 首先对组件进行自动填充\r\n  autoFillComponentToGrid(newComponent, gridConfig)\r\n\r\n  console.log(`📦 填充后组件: ${newComponent.name}, 宽度: ${newComponent.width}, 高度: ${newComponent.height}`)\r\n\r\n  // 如果组件宽度超过容器宽度，无法放置\r\n  if (newComponent.width > containerWidth) {\r\n    console.warn('组件宽度超过容器宽度')\r\n    return null\r\n  }\r\n\r\n  // 计算组件占用的列数（组件宽度已经包含了间距，不需要再加gap）\r\n  const spanCols = Math.ceil(newComponent.width / (cellWidth + gap))\r\n  const actualSpanCols = Math.min(spanCols, COLUMNS)\r\n\r\n  console.log(`📏 组件占用列数: ${spanCols} -> ${actualSpanCols}`)\r\n\r\n  // 计算每列的当前高度\r\n  const columnHeights: number[] = new Array(COLUMNS).fill(0)\r\n\r\n  // 根据现有组件更新列高度\r\n  for (const comp of components) {\r\n    // 计算组件起始列：x坐标除以(列宽+间距)\r\n    const startCol = Math.floor(comp.x / (cellWidth + gap))\r\n    // 计算组件占用的列数（组件宽度已经包含了间距）\r\n    const compSpanCols = Math.ceil(comp.width / (cellWidth + gap))\r\n    const endCol = Math.min(startCol + compSpanCols, COLUMNS)\r\n    const compBottomY = comp.y + comp.height + gap\r\n\r\n    console.log(`📍 现有组件: ${comp.name}, 位置: (${comp.x}, ${comp.y}), 尺寸: ${comp.width}x${comp.height}`)\r\n    console.log(`📍 占用列: ${startCol} -> ${endCol} (${compSpanCols}列), 底部Y: ${compBottomY}`)\r\n\r\n    for (let i = startCol; i < endCol; i++) {\r\n      if (i >= 0 && i < COLUMNS) {\r\n        columnHeights[i] = Math.max(columnHeights[i] || 0, compBottomY)\r\n      }\r\n    }\r\n  }\r\n\r\n  console.log(`📊 列高度数组:`, columnHeights.slice(0, 12)) // 只显示前12列\r\n\r\n  // 找到最佳放置位置（高度最低的连续列）\r\n  let bestStartCol = 0\r\n  let minHeight = Infinity\r\n\r\n  for (let startCol = 0; startCol <= COLUMNS - actualSpanCols; startCol++) {\r\n    let maxHeightInRange = 0\r\n    for (let i = startCol; i < startCol + actualSpanCols; i++) {\r\n      maxHeightInRange = Math.max(maxHeightInRange, columnHeights[i] || 0)\r\n    }\r\n\r\n    if (maxHeightInRange < minHeight) {\r\n      minHeight = maxHeightInRange\r\n      bestStartCol = startCol\r\n    }\r\n  }\r\n\r\n  // 计算实际位置：列索引 * (列宽 + 间距)\r\n  const newX = bestStartCol * (cellWidth + gap)\r\n  const newY = minHeight\r\n\r\n  console.log(`🎯 最佳位置: 列${bestStartCol}, 高度${minHeight} -> 坐标(${newX}, ${newY})`)\r\n\r\n  // 检查是否超出容器高度\r\n  if (newY + newComponent.height > containerHeight) {\r\n    console.warn(`❌ 位置超出容器高度: ${newY + newComponent.height} > ${containerHeight}`)\r\n    return null\r\n  }\r\n\r\n  // 验证新位置不与现有组件重叠\r\n  const newPosition = { x: parseFloat(newX.toFixed(3)), y: parseFloat(newY.toFixed(3)) }\r\n  const newSize = { width: newComponent.width, height: newComponent.height }\r\n\r\n  for (const existingComp of components) {\r\n    if (hasOverlap(\r\n      newPosition,\r\n      newSize,\r\n      { x: existingComp.x, y: existingComp.y },\r\n      { width: existingComp.width, height: existingComp.height }\r\n    )) {\r\n      console.warn('新组件位置与现有组件重叠')\r\n      return null\r\n    }\r\n  }\r\n\r\n  return newPosition\r\n}\r\n\r\n// 智能高度吸附（只在与上面紧邻组件距离小于等于gap时才吸附）\r\nexport function snapToColumnGridWithSmartHeight(\r\n  position: Position,\r\n  componentSize: Size,\r\n  components: ComponentItemModel[],\r\n  currentId: string,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): Position {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n  const { gap } = gridConfig\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = (containerWidth - (COLUMNS - 1) * gap) / COLUMNS\r\n  const unitWidth = columnWidth + gap\r\n\r\n  // 计算最近的列位置\r\n  let nearestColumn = Math.round(position.x / unitWidth)\r\n\r\n  // 计算组件占用的列数（组件宽度已经包含了间距）\r\n  const componentCols = Math.ceil(componentSize.width / unitWidth)\r\n\r\n  // 确保组件不会超出右边界\r\n  const maxColumn = COLUMNS - componentCols\r\n  nearestColumn = Math.max(0, Math.min(nearestColumn, maxColumn))\r\n\r\n  // 计算吸附后的X坐标：列索引 * (列宽 + 间距)\r\n  const snappedX = nearestColumn * unitWidth\r\n\r\n  // 智能Y坐标处理\r\n  let snappedY = position.y\r\n\r\n  // 查找在当前组件上方且有水平重叠的组件\r\n  const candidateComponents = components.filter(comp => {\r\n    if (comp.id === currentId) return false\r\n\r\n    // 检查水平重叠（使用吸附后的X坐标）\r\n    const horizontalOverlap = snappedX < comp.x + comp.width && snappedX + componentSize.width > comp.x\r\n\r\n    // 检查是否在上方（组件底部在当前位置上方）\r\n    const isAbove = comp.y + comp.height <= position.y\r\n\r\n    return horizontalOverlap && isAbove\r\n  })\r\n\r\n  if (candidateComponents.length > 0) {\r\n    // 找到最接近的上方组件（距离当前位置最近的）\r\n    let closestComponent: ComponentItemModel | null = null\r\n    let minDistance = Infinity\r\n\r\n    for (const comp of candidateComponents) {\r\n      const distance = position.y - (comp.y + comp.height)\r\n      if (distance >= 0 && distance < minDistance) {\r\n        minDistance = distance\r\n        closestComponent = comp\r\n      }\r\n    }\r\n\r\n    // 如果距离小于等于gap，则吸附到该组件下方并留出gap距离\r\n    if (closestComponent && minDistance <= gap) {\r\n      snappedY = closestComponent.y + closestComponent.height + gap\r\n      console.log(`高度吸附: 距离=${minDistance}, 吸附到Y=${snappedY}`)\r\n    } else {\r\n      console.log(`不进行高度吸附: 距离=${minDistance} > gap=${gap}`)\r\n    }\r\n  }\r\n\r\n  // 确保组件不会超出下边界\r\n  if (snappedY + componentSize.height > containerHeight) {\r\n    snappedY = containerHeight - componentSize.height\r\n  }\r\n\r\n  // 确保Y坐标不为负数\r\n  snappedY = Math.max(0, snappedY)\r\n\r\n  return {\r\n    x: parseFloat(snappedX.toFixed(3)),\r\n    y: parseFloat(snappedY.toFixed(3))\r\n  }\r\n}\r\n\r\n// 重新组织布局（瀑布流布局，固定24列）\r\nexport function reorganizeLayout(\r\n  components: ComponentItemModel[],\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig,\r\n  skipAutoFill: boolean = false,\r\n  onlyOnSizeIncrease: boolean = false\r\n): boolean {\r\n  if (components.length === 0) return true\r\n\r\n  const { gap } = gridConfig\r\n  const containerWidth = containerInfo.width\r\n  const containerHeight = containerInfo.height\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = (containerWidth - (COLUMNS - 1) * gap) / COLUMNS\r\n\r\n  // 如果是尺寸减小的情况，只检查边界，不重新布局\r\n  if (onlyOnSizeIncrease) {\r\n    // 检查所有组件是否仍在容器范围内\r\n    for (const comp of components) {\r\n      if (comp.x + comp.width > containerWidth || comp.y + comp.height > containerHeight) {\r\n        // 如果有组件超出边界，需要调整\r\n        comp.x = Math.min(comp.x, containerWidth - comp.width)\r\n        comp.y = Math.min(comp.y, containerHeight - comp.height)\r\n        comp.x = Math.max(0, comp.x)\r\n        comp.y = Math.max(0, comp.y)\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  // 记录每列的当前高度\r\n  const columnHeights: number[] = new Array(COLUMNS).fill(0)\r\n\r\n  for (const comp of components) {\r\n    // 自动填充组件尺寸到栅格（可选）\r\n    if (!skipAutoFill) {\r\n      autoFillComponentToGrid(comp, gridConfig)\r\n    }\r\n\r\n    // 计算组件占用的列数（组件宽度已经包含了间距）\r\n    const spanCols = Math.ceil(comp.width / (columnWidth + gap))\r\n    const actualSpanCols = Math.min(spanCols, COLUMNS)\r\n\r\n    // 找到最佳放置位置（高度最低的连续列）\r\n    let bestStartCol = 0\r\n    let minHeight = Infinity\r\n\r\n    for (let startCol = 0; startCol <= COLUMNS - actualSpanCols; startCol++) {\r\n      // 计算这个位置的最大高度\r\n      let maxHeightInRange = 0\r\n      for (let i = startCol; i < startCol + actualSpanCols; i++) {\r\n        maxHeightInRange = Math.max(maxHeightInRange, columnHeights[i] || 0)\r\n      }\r\n\r\n      // 如果这个位置的高度更低，选择这个位置\r\n      if (maxHeightInRange < minHeight) {\r\n        minHeight = maxHeightInRange\r\n        bestStartCol = startCol\r\n      }\r\n    }\r\n\r\n    // 计算组件的实际位置：列索引 * (列宽 + 间距)\r\n    comp.x = parseFloat((bestStartCol * (columnWidth + gap)).toFixed(3))\r\n    comp.y = parseFloat(minHeight.toFixed(3))\r\n\r\n    // 检查是否超出容器高度\r\n    if (comp.y + comp.height > containerHeight) {\r\n      console.warn('组件超出容器高度，无法完成布局')\r\n      return false // 布局失败\r\n    }\r\n\r\n    // 更新占用列的高度\r\n    const newHeight = comp.y + comp.height + gap\r\n    for (let i = bestStartCol; i < bestStartCol + actualSpanCols; i++) {\r\n      columnHeights[i] = newHeight\r\n    }\r\n  }\r\n\r\n  return true // 布局成功\r\n}\r\n\r\n// 基于24列栅格系统的组件自动填充\r\nexport function autoFillComponentToGrid(\r\n  component: ComponentItemModel,\r\n  gridConfig: GridConfig\r\n): void {\r\n  // 确保最小尺寸\r\n  const { cellWidth, gap } = gridConfig\r\n  const minWidth = component.minWidth || cellWidth\r\n  const minHeight = component.minHeight || MIN_HEIGHT\r\n\r\n  component.width = Math.max(component.width, minWidth)\r\n  component.height = Math.max(component.height, minHeight)\r\n\r\n  // 如果组件宽度未填满栅格，则进行填充\r\n  // 计算组件应该占用的列数\r\n  const requiredCols = Math.ceil(component.width / (cellWidth + gap))\r\n  const actualCols = Math.min(requiredCols, COLUMNS)\r\n\r\n  // 计算填充后的宽度\r\n  const filledWidth = actualCols * cellWidth + (actualCols - 1) * gap\r\n\r\n  // 更新组件宽度为填充后的宽度\r\n  component.width = parseFloat(filledWidth.toFixed(3))\r\n}\r\n\r\n// 修改组件调整大小时也支持自动填充（基于24列栅格）\r\nexport function resizeComponentWithAutoFill(\r\n  component: ComponentItemModel,\r\n  newSize: Size,\r\n  gridConfig: GridConfig,\r\n): Size {\r\n  const { gap, cellWidth } = gridConfig\r\n\r\n  // 确保最小尺寸\r\n  const minWidth = component.minWidth || cellWidth\r\n  const minHeight = component.minHeight || MIN_HEIGHT\r\n\r\n  const actualWidth = Math.max(newSize.width, minWidth)\r\n  const actualHeight = Math.max(newSize.height, minHeight)\r\n\r\n  // 计算组件应该占用的列数\r\n  const requiredCols = Math.ceil(actualWidth / (cellWidth + gap))\r\n  const actualCols = Math.min(requiredCols, COLUMNS)\r\n\r\n  // 计算填充后的宽度\r\n  const filledWidth = actualCols * cellWidth + (actualCols - 1) * gap\r\n\r\n  // 确保填充后的宽度不小于最小值\r\n  const finalWidth = Math.max(filledWidth, minWidth)\r\n  // 高度不进行栅格填充，保持用户设置的高度\r\n  const finalHeight = Math.max(actualHeight, minHeight)\r\n\r\n  return {\r\n    width: parseFloat(finalWidth.toFixed(3)),\r\n    height: parseFloat(finalHeight.toFixed(3))\r\n  }\r\n}\r\n\r\n// 智能处理向右扩展宽度时的碰撞\r\nfunction handleRightExpansion(\r\n  components: ComponentItemModel[],\r\n  resizingComponent: ComponentItemModel,\r\n  newPosition: Position,\r\n  newSize: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): { affected: ComponentItemModel[]; canResize: boolean } {\r\n  const affected: ComponentItemModel[] = []\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n  const { gap } = gridConfig\r\n\r\n  // 创建调整后的组件副本\r\n  const resizedComponent = {\r\n    ...resizingComponent,\r\n    x: newPosition.x,\r\n    y: newPosition.y,\r\n    width: newSize.width,\r\n    height: newSize.height\r\n  }\r\n\r\n  // 找到所有与调整后组件有垂直重叠且在右侧的组件\r\n  const rightComponents = components.filter(comp => {\r\n    if (comp.id === resizingComponent.id) return false\r\n\r\n    // 检查垂直重叠\r\n    const verticalOverlap = !(resizedComponent.y + resizedComponent.height <= comp.y || comp.y + comp.height <= resizedComponent.y)\r\n\r\n    // 检查是否在右侧（原始位置的右侧）\r\n    const isOnRight = comp.x >= resizingComponent.x + resizingComponent.width - gap\r\n\r\n    return verticalOverlap && isOnRight\r\n  })\r\n\r\n  if (rightComponents.length === 0) {\r\n    return { affected: [], canResize: true }\r\n  }\r\n\r\n  // 按X坐标排序，从左到右处理\r\n  rightComponents.sort((a, b) => a.x - b.x)\r\n\r\n  const newRightEdge = resizedComponent.x + resizedComponent.width\r\n\r\n  // 检查是否会与右侧组件碰撞\r\n  let needsPush = false\r\n  let pushDistance = 0\r\n\r\n  for (const comp of rightComponents) {\r\n    const requiredDistance = newRightEdge + gap - comp.x\r\n    if (requiredDistance > 0) {\r\n      needsPush = true\r\n      pushDistance = requiredDistance\r\n      break // 只需要检查最近的组件\r\n    }\r\n  }\r\n\r\n  if (!needsPush) {\r\n    return { affected: [], canResize: true }\r\n  }\r\n\r\n  // 需要推动右侧组件\r\n  const componentsToMove: ComponentItemModel[] = []\r\n  const componentsToWrap: ComponentItemModel[] = [] // 需要换行的组件\r\n\r\n  // 首先确定哪些组件需要换行\r\n  for (const comp of rightComponents) {\r\n    const newX = comp.x + pushDistance\r\n\r\n    // 检查是否超出容器右边界\r\n    if (newX + comp.width > containerWidth) {\r\n      componentsToWrap.push(comp)\r\n    } else {\r\n      // 可以在当前行右移\r\n      componentsToMove.push({ ...comp, x: newX, y: comp.y })\r\n    }\r\n  }\r\n\r\n  // 处理需要换行的组件，确保它们不重叠\r\n  if (componentsToWrap.length > 0) {\r\n    // 创建包含调整后组件和已移动组件的临时列表\r\n    const allComponents = [\r\n      ...components.filter(c => c.id !== resizingComponent.id && !rightComponents.some(rc => rc.id === c.id)),\r\n      resizedComponent,\r\n      ...componentsToMove\r\n    ]\r\n\r\n    // 按X坐标排序需要换行的组件，确保从左到右处理\r\n    componentsToWrap.sort((a, b) => a.x - b.x)\r\n\r\n    for (const comp of componentsToWrap) {\r\n      // 尝试为每个需要换行的组件找到正下方的位置\r\n      const newY = findPositionBelowComponent(allComponents, comp, gridConfig)\r\n\r\n      // 检查是否超出容器底部\r\n      if (newY + comp.height > containerHeight) {\r\n        // 无法换行到下方，将组件推到容器最右侧\r\n        const rightmostX = containerWidth - comp.width\r\n\r\n        // 推到最右侧，保持原来的Y坐标\r\n        const movedComponent = { ...comp, x: rightmostX, y: comp.y }\r\n        componentsToMove.push(movedComponent)\r\n\r\n        // 将移动后的组件添加到临时列表中，供后续组件计算位置时参考\r\n        allComponents.push(movedComponent)\r\n\r\n        // 组件被推到最右侧，阻止调整宽度操作\r\n        return { affected: [], canResize: false }\r\n      } else {\r\n        // 可以换行到下方\r\n        const movedComponent = { ...comp, x: comp.x, y: newY }\r\n        componentsToMove.push(movedComponent)\r\n\r\n        // 将移动后的组件添加到临时列表中，供后续组件计算位置时参考\r\n        allComponents.push(movedComponent)\r\n      }\r\n    }\r\n  }\r\n\r\n  affected.push(...componentsToMove)\r\n  return { affected, canResize: true }\r\n}\r\n\r\n// 智能处理向下扩展高度时的碰撞\r\nfunction handleBottomExpansion(\r\n  components: ComponentItemModel[],\r\n  resizingComponent: ComponentItemModel,\r\n  newPosition: Position,\r\n  newSize: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): { affected: ComponentItemModel[]; canResize: boolean } {\r\n  const affected: ComponentItemModel[] = []\r\n  const { height: containerHeight } = containerInfo\r\n  const { gap } = gridConfig\r\n\r\n  // 创建调整后的组件副本\r\n  const resizedComponent = {\r\n    ...resizingComponent,\r\n    x: newPosition.x,\r\n    y: newPosition.y,\r\n    width: newSize.width,\r\n    height: newSize.height\r\n  }\r\n\r\n  // 找到所有与调整后组件有水平重叠且在下方的组件\r\n  const bottomComponents = components.filter(comp => {\r\n    if (comp.id === resizingComponent.id) return false\r\n\r\n    // 检查水平重叠\r\n    const horizontalOverlap = !(resizedComponent.x + resizedComponent.width <= comp.x || comp.x + comp.width <= resizedComponent.x)\r\n\r\n    // 检查是否在下方（原始位置的下方，考虑gap）\r\n    const isBelow = comp.y >= resizingComponent.y + resizingComponent.height - gap\r\n\r\n    return horizontalOverlap && isBelow\r\n  })\r\n\r\n  if (bottomComponents.length === 0) {\r\n    return { affected: [], canResize: true }\r\n  }\r\n\r\n  // 按Y坐标排序，从上到下处理\r\n  bottomComponents.sort((a, b) => a.y - b.y)\r\n\r\n  const newBottomEdge = resizedComponent.y + resizedComponent.height\r\n\r\n  // 检查是否会与下方组件碰撞\r\n  let needsPush = false\r\n  let pushDistance = 0\r\n\r\n  for (const comp of bottomComponents) {\r\n    const requiredDistance = newBottomEdge + gap - comp.y\r\n    if (requiredDistance > 0) {\r\n      needsPush = true\r\n      pushDistance = requiredDistance\r\n      break // 只需要检查最近的组件\r\n    }\r\n  }\r\n\r\n  if (!needsPush) {\r\n    return { affected: [], canResize: true }\r\n  }\r\n\r\n  // 需要推动下方组件\r\n  for (const comp of bottomComponents) {\r\n    const newY = comp.y + pushDistance\r\n\r\n    // 检查是否超出容器底部\r\n    if (newY + comp.height > containerHeight) {\r\n      return { affected: [], canResize: false } // 无法调整\r\n    }\r\n\r\n    affected.push({ ...comp, x: parseFloat(comp.x.toFixed(3)), y: parseFloat(newY.toFixed(3)) })\r\n  }\r\n\r\n  return { affected, canResize: true }\r\n}\r\n\r\n// 查找组件正下方的位置\r\nfunction findPositionBelowComponent(\r\n  components: ComponentItemModel[],\r\n  component: ComponentItemModel,\r\n  gridConfig: GridConfig\r\n): number {\r\n  const { gap } = gridConfig\r\n\r\n  // 从组件底部开始查找\r\n  let targetY = component.y + component.height + gap\r\n\r\n  // 找到与当前组件有水平重叠的所有组件\r\n  const overlappingComponents = components.filter(comp => {\r\n    if (comp.id === component.id) return false\r\n\r\n    // 检查是否有水平重叠（使用组件的原始X位置）\r\n    const horizontalOverlap = !(component.x + component.width <= comp.x || comp.x + comp.width <= component.x)\r\n\r\n    return horizontalOverlap\r\n  })\r\n\r\n  // 按Y坐标排序\r\n  overlappingComponents.sort((a, b) => a.y - b.y)\r\n\r\n  // 持续检查直到找到合适的位置\r\n  let foundPosition = false\r\n  while (!foundPosition) {\r\n    foundPosition = true\r\n\r\n    // 检查在targetY位置是否与任何组件重叠\r\n    for (const comp of overlappingComponents) {\r\n      // 检查垂直重叠\r\n      const verticalOverlap = !(targetY + component.height <= comp.y || comp.y + comp.height <= targetY)\r\n\r\n      if (verticalOverlap) {\r\n        // 有重叠，需要移到这个组件下方\r\n        targetY = comp.y + comp.height + gap\r\n        foundPosition = false\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  return targetY\r\n}\r\n\r\n// 智能处理右下角扩展时的碰撞（同时向右和向下）\r\nfunction handleBottomRightExpansion(\r\n  components: ComponentItemModel[],\r\n  resizingComponent: ComponentItemModel,\r\n  newPosition: Position,\r\n  newSize: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): { affected: ComponentItemModel[]; canResize: boolean } {\r\n  // 先处理向右扩展\r\n  const rightResult = handleRightExpansion(components, resizingComponent, newPosition, newSize, containerInfo, gridConfig)\r\n\r\n  if (!rightResult.canResize) {\r\n    return rightResult\r\n  }\r\n\r\n  // 创建包含右侧移动后组件的临时列表\r\n  const tempComponents = components.map(comp => {\r\n    const affectedComp = rightResult.affected.find(ac => ac.id === comp.id)\r\n    return affectedComp ? { ...comp, x: affectedComp.x, y: affectedComp.y } : comp\r\n  })\r\n\r\n  // 在临时列表基础上处理向下扩展\r\n  const bottomResult = handleBottomExpansion(tempComponents, resizingComponent, newPosition, newSize, containerInfo, gridConfig)\r\n\r\n  if (!bottomResult.canResize) {\r\n    return bottomResult\r\n  }\r\n\r\n  // 合并两个方向的影响组件\r\n  const allAffected: ComponentItemModel[] = []\r\n  const affectedIds = new Set<string>()\r\n\r\n  // 添加右侧移动的组件\r\n  for (const comp of rightResult.affected) {\r\n    allAffected.push(comp)\r\n    affectedIds.add(comp.id)\r\n  }\r\n\r\n  // 添加向下移动的组件（避免重复）\r\n  for (const comp of bottomResult.affected) {\r\n    if (!affectedIds.has(comp.id)) {\r\n      allAffected.push(comp)\r\n    } else {\r\n      // 如果组件既需要右移又需要下移，更新其位置\r\n      const existingComp = allAffected.find(ac => ac.id === comp.id)\r\n      if (existingComp) {\r\n        existingComp.y = comp.y // 更新Y坐标\r\n      }\r\n    }\r\n  }\r\n\r\n  return { affected: allAffected, canResize: true }\r\n}\r\n\r\n// 检查调整大小是否会影响其他组件，并返回需要更新的组件\r\nexport function getAffectedComponents(\r\n  components: ComponentItemModel[],\r\n  resizingComponent: ComponentItemModel,\r\n  newPosition: Position,\r\n  newSize: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig,\r\n  resizeType?: string\r\n): { affected: ComponentItemModel[]; canResize: boolean } {\r\n  // 判断调整类型\r\n  const widthIncreased = newSize.width > resizingComponent.width\r\n  const heightIncreased = newSize.height > resizingComponent.height\r\n  const positionChanged = newPosition.x !== resizingComponent.x || newPosition.y !== resizingComponent.y\r\n\r\n  // 如果位置改变了（左侧或上侧调整），使用原有逻辑\r\n  if (positionChanged) {\r\n    // 检查是否与其他组件重叠\r\n    const resizedComponent = {\r\n      ...resizingComponent,\r\n      x: newPosition.x,\r\n      y: newPosition.y,\r\n      width: newSize.width,\r\n      height: newSize.height\r\n    }\r\n\r\n    for (const otherComponent of components) {\r\n      if (otherComponent.id === resizingComponent.id) continue\r\n\r\n      if (hasOverlap(\r\n        { x: resizedComponent.x, y: resizedComponent.y },\r\n        { width: resizedComponent.width, height: resizedComponent.height },\r\n        { x: otherComponent.x, y: otherComponent.y },\r\n        { width: otherComponent.width, height: otherComponent.height }\r\n      )) {\r\n        return { affected: [], canResize: false }\r\n      }\r\n    }\r\n\r\n    return { affected: [], canResize: true }\r\n  }\r\n\r\n  // 根据调整类型选择处理方式\r\n  if (resizeType === 'bottom-right' && widthIncreased && heightIncreased) {\r\n    // 右下角调整：同时向右和向下扩展\r\n    return handleBottomRightExpansion(components, resizingComponent, newPosition, newSize, containerInfo, gridConfig)\r\n  } else if (resizeType === 'top-right' && widthIncreased && positionChanged) {\r\n    // 右上角调整：向右扩展宽度，位置可能改变\r\n    if (heightIncreased) {\r\n      // 如果高度也增加，先处理向右扩展\r\n      return handleRightExpansion(components, resizingComponent, newPosition, newSize, containerInfo, gridConfig)\r\n    } else {\r\n      // 只是位置改变，检查重叠\r\n      return { affected: [], canResize: !hasAnyOverlap(components, resizingComponent, newPosition, newSize) }\r\n    }\r\n  } else if (resizeType === 'bottom-left' && heightIncreased && positionChanged) {\r\n    // 左下角调整：向下扩展高度，位置可能改变\r\n    if (widthIncreased) {\r\n      // 如果宽度也增加，先处理向下扩展\r\n      return handleBottomExpansion(components, resizingComponent, newPosition, newSize, containerInfo, gridConfig)\r\n    } else {\r\n      // 只是位置改变，检查重叠\r\n      return { affected: [], canResize: !hasAnyOverlap(components, resizingComponent, newPosition, newSize) }\r\n    }\r\n  } else if (resizeType === 'top-left' && positionChanged) {\r\n    // 左上角调整：位置改变，检查重叠\r\n    return { affected: [], canResize: !hasAnyOverlap(components, resizingComponent, newPosition, newSize) }\r\n  } else if (widthIncreased && (resizeType === 'right' || resizeType?.includes('right'))) {\r\n    // 向右扩展宽度\r\n    return handleRightExpansion(components, resizingComponent, newPosition, newSize, containerInfo, gridConfig)\r\n  } else if (heightIncreased && (resizeType === 'bottom' || resizeType?.includes('bottom'))) {\r\n    // 向下扩展高度\r\n    return handleBottomExpansion(components, resizingComponent, newPosition, newSize, containerInfo, gridConfig)\r\n  } else {\r\n    // 其他情况，检查重叠\r\n    const resizedComponent = {\r\n      ...resizingComponent,\r\n      x: newPosition.x,\r\n      y: newPosition.y,\r\n      width: newSize.width,\r\n      height: newSize.height\r\n    }\r\n\r\n    for (const otherComponent of components) {\r\n      if (otherComponent.id === resizingComponent.id) continue\r\n\r\n      if (hasOverlap(\r\n        { x: resizedComponent.x, y: resizedComponent.y },\r\n        { width: resizedComponent.width, height: resizedComponent.height },\r\n        { x: otherComponent.x, y: otherComponent.y },\r\n        { width: otherComponent.width, height: otherComponent.height }\r\n      )) {\r\n        return { affected: [], canResize: false }\r\n      }\r\n    }\r\n\r\n    return { affected: [], canResize: true }\r\n  }\r\n}\r\n\r\n// 智能验证位置（考虑动态布局）\r\nexport function validatePositionWithLayout(\r\n  components: ComponentItemModel[],\r\n  currentId: string,\r\n  position: Position,\r\n  size: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig,\r\n  resizeType?: string\r\n): { valid: boolean; affectedComponents: ComponentItemModel[] } {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n\r\n  // 基础边界检查\r\n  if (position.x < 0 ||\r\n    position.y < 0 ||\r\n    position.x + size.width > containerWidth ||\r\n    position.y + size.height > containerHeight) {\r\n    return { valid: false, affectedComponents: [] }\r\n  }\r\n\r\n  // 获取受影响的组件\r\n  const currentComponent = components.find(c => c.id === currentId)\r\n  if (!currentComponent) {\r\n    return { valid: false, affectedComponents: [] }\r\n  }\r\n\r\n  const { affected, canResize } = getAffectedComponents(\r\n    components,\r\n    currentComponent,\r\n    position,\r\n    size,\r\n    containerInfo,\r\n    gridConfig,\r\n    resizeType\r\n  )\r\n\r\n  return { valid: canResize, affectedComponents: affected }\r\n}\r\n\r\n// 严格检查组件重叠\r\nfunction hasOverlap(\r\n  pos1: Position,\r\n  size1: Size,\r\n  pos2: Position,\r\n  size2: Size\r\n): boolean {\r\n  const overlapX = pos1.x < pos2.x + size2.width && pos1.x + size1.width > pos2.x\r\n  const overlapY = pos1.y < pos2.y + size2.height && pos1.y + size1.height > pos2.y\r\n  return overlapX && overlapY\r\n}\r\n\r\n// 检查调整后的组件是否与任何其他组件重叠\r\nfunction hasAnyOverlap(\r\n  components: ComponentItemModel[],\r\n  resizingComponent: ComponentItemModel,\r\n  newPosition: Position,\r\n  newSize: Size\r\n): boolean {\r\n  const resizedComponent = {\r\n    ...resizingComponent,\r\n    x: newPosition.x,\r\n    y: newPosition.y,\r\n    width: newSize.width,\r\n    height: newSize.height\r\n  }\r\n\r\n  for (const otherComponent of components) {\r\n    if (otherComponent.id === resizingComponent.id) continue\r\n\r\n    if (hasOverlap(\r\n      { x: resizedComponent.x, y: resizedComponent.y },\r\n      { width: resizedComponent.width, height: resizedComponent.height },\r\n      { x: otherComponent.x, y: otherComponent.y },\r\n      { width: otherComponent.width, height: otherComponent.height }\r\n    )) {\r\n      return true\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n// 智能验证拖拽位置（严格防止重叠）\r\nexport function validateDragPosition(\r\n  components: ComponentItemModel[],\r\n  currentId: string,\r\n  newPosition: Position,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): { valid: boolean; affectedComponents: ComponentItemModel[]; finalPosition: Position } {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n\r\n  // 获取当前组件\r\n  const currentComponent = components.find(c => c.id === currentId)\r\n  if (!currentComponent) {\r\n    return { valid: false, affectedComponents: [], finalPosition: newPosition }\r\n  }\r\n\r\n  const currentSize = { width: currentComponent.width, height: currentComponent.height }\r\n\r\n  // 使用智能高度吸附，只在与上面紧邻组件距离小于等于gap时才吸附\r\n  const snappedPosition = snapToColumnGridWithSmartHeight(\r\n    newPosition,\r\n    currentSize,\r\n    components,\r\n    currentId,\r\n    containerInfo,\r\n    gridConfig\r\n  )\r\n\r\n  // 基础边界检查\r\n  if (snappedPosition.x < 0 ||\r\n    snappedPosition.y < 0 ||\r\n    snappedPosition.x + currentSize.width > containerWidth ||\r\n    snappedPosition.y + currentSize.height > containerHeight) {\r\n    return { valid: false, affectedComponents: [], finalPosition: snappedPosition }\r\n  }\r\n\r\n  // 严格检查是否与其他组件重叠\r\n  for (const otherComponent of components) {\r\n    if (otherComponent.id === currentId) continue\r\n\r\n    if (hasOverlap(\r\n      snappedPosition,\r\n      currentSize,\r\n      { x: otherComponent.x, y: otherComponent.y },\r\n      { width: otherComponent.width, height: otherComponent.height }\r\n    )) {\r\n      // 发现重叠，拒绝此位置\r\n      return { valid: false, affectedComponents: [], finalPosition: snappedPosition }\r\n    }\r\n  }\r\n\r\n  // 没有重叠，可以自由拖拽\r\n  return { valid: true, affectedComponents: [], finalPosition: snappedPosition }\r\n}\r\n// 自适应布局：当视口尺寸变化时，重新计算组件的像素尺寸\r\nexport function adaptiveLayoutResize(\r\n  components: ComponentItemModel[],\r\n  oldCellWidth: number,\r\n  newCellWidth: number,\r\n  containerInfo: ContainerInfo\r\n): ComponentItemModel[] {\r\n  if (oldCellWidth === newCellWidth) {\r\n    return components // 列宽没有变化，不需要调整\r\n  }\r\n\r\n  const scaleRatio = newCellWidth / oldCellWidth\r\n\r\n  return components.map(component => {\r\n    // 重新计算组件的像素尺寸\r\n    const newPixelWidth = Math.round(component.width * scaleRatio)\r\n    const newPixelHeight = component.height // 高度保持不变，因为高度不依赖于列宽\r\n\r\n    // 确保组件不超出容器边界\r\n    const maxWidth = containerInfo.width - component.x\r\n    const maxHeight = containerInfo.height - component.y\r\n\r\n    return {\r\n      ...component,\r\n      width: Math.min(newPixelWidth, maxWidth),\r\n      height: Math.min(newPixelHeight, maxHeight)\r\n    }\r\n  })\r\n}\r\n\r\n// 自适应布局：当容器尺寸变化时的智能处理\r\nexport function adaptiveLayoutOnResize(\r\n  components: ComponentItemModel[],\r\n  oldContainerInfo: ContainerInfo,\r\n  newContainerInfo: ContainerInfo,\r\n  oldCellWidth: number,\r\n  newCellWidth: number,\r\n  gridConfig: GridConfig\r\n): ComponentItemModel[] {\r\n  // 如果容器宽度没有变化，直接返回\r\n  if (oldContainerInfo.width === newContainerInfo.width) {\r\n    return components\r\n  }\r\n\r\n  // 计算缩放比例\r\n  const cellWidthRatio = newCellWidth / oldCellWidth\r\n\r\n  return components.map(component => {\r\n    // 重新计算组件位置和尺寸\r\n    let newX = component.x\r\n    let newY = component.y\r\n    let newWidth = component.width\r\n    let newHeight = component.height\r\n\r\n    // 如果列宽发生变化，需要重新计算位置和宽度\r\n    if (cellWidthRatio !== 1) {\r\n      // 基于栅格系统重新计算位置和尺寸\r\n      const { gap } = gridConfig\r\n\r\n      // 更精确的栅格列计算\r\n      // 计算组件在旧栅格中的起始列（从0开始）\r\n      const oldStartColumn = Math.round(component.x / (oldCellWidth + gap))\r\n\r\n      // 计算组件占用的列数\r\n      // 组件宽度 = 列数 * cellWidth + (列数-1) * gap\r\n      // 所以 列数 = (组件宽度 + gap) / (cellWidth + gap)\r\n      const oldColumnsSpanned = Math.max(1, Math.round((component.width + gap) / (oldCellWidth + gap)))\r\n\r\n      // 基于新的列宽重新计算位置和宽度\r\n      newX = oldStartColumn * (newCellWidth + gap)\r\n      newWidth = oldColumnsSpanned * newCellWidth + (oldColumnsSpanned - 1) * gap\r\n\r\n      // 确保最小宽度（至少一列）\r\n      newWidth = Math.max(newWidth, newCellWidth)\r\n    }\r\n\r\n    // 确保组件不超出新的容器边界\r\n    if (newX + newWidth > newContainerInfo.width) {\r\n      // 如果组件超出右边界，调整位置或尺寸\r\n      const availableWidth = newContainerInfo.width - newX\r\n      if (availableWidth > 0) {\r\n        newWidth = Math.min(newWidth, availableWidth)\r\n      } else {\r\n        // 如果位置本身就超出边界，需要调整位置\r\n        newX = Math.max(0, newContainerInfo.width - newWidth)\r\n      }\r\n    }\r\n\r\n    if (newY + newHeight > newContainerInfo.height) {\r\n      // 如果组件超出下边界，调整高度\r\n      const availableHeight = newContainerInfo.height - newY\r\n      if (availableHeight > 0) {\r\n        newHeight = Math.min(newHeight, availableHeight)\r\n      }\r\n    }\r\n\r\n    return {\r\n      ...component,\r\n      x: parseFloat(newX.toFixed(3)),\r\n      y: parseFloat(newY.toFixed(3)),\r\n      width: parseFloat(newWidth.toFixed(3)),\r\n      height: parseFloat(newHeight.toFixed(3))\r\n    }\r\n  })\r\n}","<template>\r\n  <div class=\"gridster-item\" :class=\"{ resizing: isResizing }\" :style=\"componentStyle\" draggable=\"true\"\r\n    @dragstart=\"onDragStart\" @drag=\"onDrag\" @dragend=\"onDragEnd\">\r\n\r\n    <slot></slot>\r\n\r\n    <!-- 调整手柄 -->\r\n    <div class=\"resize-overlay\">\r\n      <div class=\"edge top\" @mousedown=\"onEdgeMouseDown('top', $event)\"></div>\r\n      <div class=\"edge right\" @mousedown=\"onEdgeMouseDown('right', $event)\"></div>\r\n      <div class=\"edge bottom\" @mousedown=\"onEdgeMouseDown('bottom', $event)\"></div>\r\n      <div class=\"edge left\" @mousedown=\"onEdgeMouseDown('left', $event)\"></div>\r\n      <div class=\"corner top-left\" @mousedown=\"onCornerMouseDown('top-left', $event)\"></div>\r\n      <div class=\"corner top-right\" @mousedown=\"onCornerMouseDown('top-right', $event)\"></div>\r\n      <div class=\"corner bottom-left\" @mousedown=\"onCornerMouseDown('bottom-left', $event)\"></div>\r\n      <div class=\"corner bottom-right\" @mousedown=\"onCornerMouseDown('bottom-right', $event)\"></div>\r\n    </div>\r\n\r\n    <icon-delete :size=\"16\" class=\"remove-btn\" @click=\"$emit('remove', component.id)\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref } from 'vue';\r\nimport type { ComponentItemModel, GridConfig, Position, Size, ContainerInfo } from '../types/layout';\r\nimport { resizeComponentWithAutoFill } from '../utils/grid'\r\nimport { MIN_HEIGHT, MIN_WIDTH } from '../utils/constant';\r\n\r\ninterface Props {\r\n  component: ComponentItemModel\r\n  gridConfig: GridConfig\r\n  containerInfo: ContainerInfo\r\n  allComponents?: ComponentItemModel[] // 添加所有组件列表\r\n}\r\n\r\nconst props = defineProps<Props>()\r\nconst emit = defineEmits<{\r\n  resize: [id: string, size: Size & Partial<Position> & { resizeType?: string }]\r\n  drag: [id: string, position: Position]\r\n  remove: [id: string]\r\n}>()\r\n\r\nconst isDragging = ref(false)\r\nconst isResizing = ref(false)\r\nconst currentResizeType = ref<string>('') // 'edge' or 'corner' + direction\r\nconst dragStartPosition = ref<Position>({ x: 0, y: 0 })\r\nconst dragOffset = ref<Position>({ x: 0, y: 0 })\r\n\r\n// 计算组件样式\r\nconst componentStyle = computed((): any => {\r\n  return {\r\n    position: 'absolute',\r\n    left: `${props.component.x}px`,\r\n    top: `${props.component.y}px`,\r\n    width: `${props.component.width}px`,\r\n    height: `${props.component.height}px`,\r\n    zIndex: isDragging.value || isResizing.value ? MIN_WIDTH : 1,\r\n    cursor: isResizing.value ? getResizeCursor(currentResizeType.value) : 'move'\r\n  }\r\n})\r\n\r\n// 获取调整时的光标样式\r\nconst getResizeCursor = (type: string) => {\r\n  const cursorMap: { [key: string]: string } = {\r\n    'top': 'n-resize',\r\n    'right': 'e-resize',\r\n    'bottom': 's-resize',\r\n    'left': 'w-resize',\r\n    'top-left': 'nw-resize',\r\n    'top-right': 'ne-resize',\r\n    'bottom-left': 'sw-resize',\r\n    'bottom-right': 'se-resize'\r\n  }\r\n  return cursorMap[type] || 'move'\r\n}\r\n\r\n// 边缘拖拽调整\r\nconst onEdgeMouseDown = (edge: string, e: MouseEvent) => {\r\n  e.preventDefault()\r\n  e.stopPropagation()\r\n\r\n  onResizeStart(edge, e)\r\n}\r\n\r\n// 角落拖拽调整\r\nconst onCornerMouseDown = (corner: string, e: MouseEvent) => {\r\n  e.preventDefault()\r\n  e.stopPropagation()\r\n\r\n  onResizeStart(corner, e)\r\n}\r\n\r\nconst onDragStart = (e: DragEvent) => {\r\n  isDragging.value = true;\r\n\r\n  e.dataTransfer?.setData('text/plain', props.component.id);\r\n  e.dataTransfer!.effectAllowed = 'move'\r\n\r\n  // 设置拖拽预览\r\n  const dragImage = e.currentTarget as HTMLElement\r\n  e.dataTransfer?.setDragImage(dragImage, 0, 0)\r\n\r\n\r\n  // 记录拖拽起始位置和鼠标偏移\r\n  const rect = dragImage.getBoundingClientRect()\r\n  dragStartPosition.value = {\r\n    x: props.component.x,\r\n    y: props.component.y\r\n  }\r\n  dragOffset.value = {\r\n    x: e.clientX - rect.left,\r\n    y: e.clientY - rect.top\r\n  }\r\n}\r\n\r\n// 添加拖拽过程中的实时位置更新\r\nconst onDrag = (e: DragEvent) => {\r\n  if (!isDragging.value) return\r\n\r\n  // 计算实时拖拽位置\r\n  const containerRect = (e.currentTarget as HTMLElement).parentElement?.getBoundingClientRect()\r\n\r\n  if (!containerRect) return\r\n\r\n  // 计算在容器内的位置\r\n  const pixelX = e.clientX - containerRect.left - dragOffset.value.x\r\n  const pixelY = e.clientY - containerRect.top - dragOffset.value.y\r\n\r\n  // 发射 drag 事件，让父组件处理位置更新\r\n  emit('drag', props.component.id, { x: pixelX, y: pixelY })\r\n}\r\n\r\n\r\nconst onDragEnd = () => {\r\n  isDragging.value = false\r\n  dragStartPosition.value = { x: 0, y: 0 }\r\n  dragOffset.value = { x: 0, y: 0 }\r\n}\r\n\r\n// 获取其他组件列表（排除当前组件）\r\nconst getOtherComponents = () => {\r\n  if (!props.allComponents) return []\r\n  return props.allComponents.filter(comp => comp.id !== props.component.id)\r\n}\r\n\r\n// 检查与左侧组件的距离\r\nconst checkLeftGap = (newX: number) => {\r\n  const otherComponents = getOtherComponents()\r\n  const gap = props.gridConfig.gap\r\n\r\n  for (const comp of otherComponents) {\r\n    // 检查是否在垂直方向有重叠\r\n    const verticalOverlap = !(props.component.y + props.component.height <= comp.y || comp.y + comp.height <= props.component.y)\r\n\r\n    if (verticalOverlap) {\r\n      // 检查是否在左侧\r\n      if (comp.x + comp.width <= props.component.x) {\r\n        const distance = newX - (comp.x + comp.width)\r\n        if (distance < gap) {\r\n          return comp.x + comp.width + gap // 返回最小允许的X坐标\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return newX // 没有冲突，返回原值\r\n}\r\n\r\n// 检查与上方组件的距离\r\nconst checkTopGap = (newY: number) => {\r\n  const otherComponents = getOtherComponents()\r\n  const gap = props.gridConfig.gap\r\n\r\n  for (const comp of otherComponents) {\r\n    // 检查是否在水平方向有重叠\r\n    const horizontalOverlap = !(props.component.x + props.component.width <= comp.x || comp.x + comp.width <= props.component.x)\r\n\r\n    if (horizontalOverlap) {\r\n      // 检查是否在上方\r\n      if (comp.y + comp.height <= props.component.y) {\r\n        const distance = newY - (comp.y + comp.height)\r\n        if (distance < gap) {\r\n          return comp.y + comp.height + gap // 返回最小允许的Y坐标\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return newY // 没有冲突，返回原值\r\n}\r\n\r\n// 调整大小（像素计算）\r\nconst onResizeStart = (type: string, e: MouseEvent) => {\r\n  e.preventDefault()\r\n  e.stopPropagation()\r\n\r\n  const startX = e.clientX\r\n  const startY = e.clientY\r\n  const startWidth = props.component.width\r\n  const startHeight = props.component.height\r\n  const startXPos = props.component.x\r\n  const startYPos = props.component.y\r\n\r\n  const containerWidth = props.containerInfo.width\r\n  const containerHeight = props.containerInfo.height\r\n\r\n  currentResizeType.value = type\r\n  isResizing.value = true\r\n\r\n  const onMouseMove = (moveEvent: MouseEvent) => {\r\n    if (moveEvent.buttons === 0) {\r\n      // 鼠标按钮释放，结束调整\r\n      onMouseUp()\r\n      return\r\n    }\r\n\r\n    const deltaX = moveEvent.clientX - startX\r\n    const deltaY = moveEvent.clientY - startY\r\n\r\n    let newWidth = startWidth\r\n    let newHeight = startHeight\r\n    let newX = startXPos\r\n    let newY = startYPos\r\n\r\n    // 根据手柄位置计算新的像素尺寸（简化逻辑，边缘调整不改变位置）\r\n    switch (type) {\r\n      case 'right':\r\n        // 右边缘：只改变宽度，从右侧扩展，左边缘保持不变\r\n        newWidth = Math.max(props.component.minWidth || MIN_WIDTH, startWidth + deltaX)\r\n        // 位置不变\r\n        break\r\n\r\n      case 'left':\r\n        // 左边缘：改变宽度，从左侧变化，右边缘保持不变\r\n        newWidth = Math.max(props.component.minWidth || MIN_WIDTH, startWidth - deltaX)\r\n        // 调整位置以保持右边缘不变\r\n        newX = startXPos + startWidth - newWidth\r\n        // 检查与左侧组件的gap距离\r\n        newX = checkLeftGap(newX)\r\n        // 根据调整后的X重新计算宽度\r\n        newWidth = startXPos + startWidth - newX\r\n        break\r\n\r\n      case 'bottom':\r\n        // 下边缘：只改变高度，从下侧扩展，上边缘保持不变\r\n        newHeight = Math.max(props.component.minHeight || MIN_HEIGHT, startHeight + deltaY)\r\n        // 位置不变\r\n        break\r\n\r\n      case 'top':\r\n        // 上边缘：改变高度，从上侧变化，下边缘保持不变\r\n        newHeight = Math.max(props.component.minHeight || MIN_HEIGHT, startHeight - deltaY)\r\n        // 调整位置以保持下边缘不变\r\n        newY = startYPos + startHeight - newHeight\r\n        // 检查与上方组件的gap距离\r\n        newY = checkTopGap(newY)\r\n        // 根据调整后的Y重新计算高度\r\n        newHeight = startYPos + startHeight - newY\r\n        break\r\n\r\n      case 'top-right':\r\n        // 右上角：左侧和底部不变\r\n        newWidth = Math.max(props.component.minWidth || MIN_WIDTH, startWidth + deltaX)\r\n        newHeight = Math.max(props.component.minHeight || MIN_HEIGHT, startHeight - deltaY)\r\n        // 调整Y位置以保持底部不变\r\n        newY = startYPos + startHeight - newHeight\r\n        // 检查与上方组件的gap距离\r\n        newY = checkTopGap(newY)\r\n        // 根据调整后的Y重新计算高度\r\n        newHeight = startYPos + startHeight - newY\r\n        // X位置不变（左侧不变）\r\n        break\r\n\r\n      case 'top-left':\r\n        // 左上角：右侧和底部不变\r\n        newWidth = Math.max(props.component.minWidth || MIN_WIDTH, startWidth - deltaX)\r\n        newHeight = Math.max(props.component.minHeight || MIN_HEIGHT, startHeight - deltaY)\r\n        // 调整位置以保持右侧和底部不变\r\n        newX = startXPos + startWidth - newWidth\r\n        newY = startYPos + startHeight - newHeight\r\n        // 检查与左侧和上方组件的gap距离\r\n        newX = checkLeftGap(newX)\r\n        newY = checkTopGap(newY)\r\n        // 根据调整后的位置重新计算尺寸\r\n        newWidth = startXPos + startWidth - newX\r\n        newHeight = startYPos + startHeight - newY\r\n        break\r\n\r\n      case 'bottom-left':\r\n        // 左下角：右侧和上侧不变\r\n        newWidth = Math.max(props.component.minWidth || MIN_WIDTH, startWidth - deltaX)\r\n        newHeight = Math.max(props.component.minHeight || MIN_HEIGHT, startHeight + deltaY)\r\n        // 调整X位置以保持右侧不变\r\n        newX = startXPos + startWidth - newWidth\r\n        // 检查与左侧组件的gap距离\r\n        newX = checkLeftGap(newX)\r\n        // 根据调整后的X重新计算宽度\r\n        newWidth = startXPos + startWidth - newX\r\n        // Y位置不变（上侧不变）\r\n        break\r\n\r\n      case 'bottom-right':\r\n        // 右下角：左侧和上侧不变\r\n        newWidth = Math.max(props.component.minWidth || MIN_WIDTH, startWidth + deltaX)\r\n        newHeight = Math.max(props.component.minHeight || MIN_HEIGHT, startHeight + deltaY)\r\n        // 位置不变（左侧和上侧不变）\r\n        break\r\n    }\r\n\r\n    // 边界检查：确保组件不超出容器\r\n    // 确保位置不为负数\r\n    newX = Math.max(0, newX)\r\n    newY = Math.max(0, newY)\r\n\r\n    // 确保组件不超出容器右边界和下边界\r\n    if (newX + newWidth > containerWidth) {\r\n      if (type.includes('left')) {\r\n        // 如果是从左侧调整，调整位置而不是宽度\r\n        newX = containerWidth - newWidth\r\n        newX = Math.max(0, newX)\r\n      } else {\r\n        // 如果是从右侧调整，调整宽度\r\n        newWidth = containerWidth - newX\r\n      }\r\n    }\r\n\r\n    if (newY + newHeight > containerHeight) {\r\n      if (type.includes('top')) {\r\n        // 如果是从上侧调整，调整位置而不是高度\r\n        newY = containerHeight - newHeight\r\n        newY = Math.max(0, newY)\r\n      } else {\r\n        // 如果是从下侧调整，调整高度\r\n        newHeight = containerHeight - newY\r\n      }\r\n    }\r\n\r\n    // 确保最小尺寸\r\n    newWidth = Math.max(props.component.minWidth || MIN_WIDTH, newWidth)\r\n    newHeight = Math.max(props.component.minHeight || MIN_HEIGHT, newHeight)\r\n\r\n    // 根据调整类型决定是否应用自动填充\r\n    let filledSize = { width: newWidth, height: newHeight }\r\n\r\n    // 只有在调整宽度相关的操作时才进行栅格填充\r\n    const isWidthResize = ['left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'].includes(type)\r\n\r\n    if (isWidthResize) {\r\n      // 应用自动填充（只对宽度）\r\n      filledSize = resizeComponentWithAutoFill(\r\n        props.component,\r\n        { width: newWidth, height: newHeight },\r\n        props.gridConfig\r\n      )\r\n    }\r\n\r\n    // 填充后的边界检查\r\n    if (newX + filledSize.width > containerWidth) {\r\n      filledSize.width = containerWidth - newX\r\n    }\r\n\r\n    // 高度边界检查（填充不会改变高度）\r\n    if (newY + filledSize.height > containerHeight) {\r\n      filledSize.height = containerHeight - newY\r\n    }\r\n\r\n    // 确保最终尺寸不小于最小值\r\n    filledSize.width = Math.max(props.component.minWidth || MIN_WIDTH, filledSize.width)\r\n    filledSize.height = Math.max(props.component.minHeight || MIN_HEIGHT, filledSize.height)\r\n\r\n    // 发射 resize 事件\r\n    emit('resize', props.component.id, {\r\n      width: parseFloat(filledSize.width.toFixed(3)),\r\n      height: parseFloat(filledSize.height.toFixed(3)),\r\n      x: parseFloat(newX.toFixed(3)),\r\n      y: parseFloat(newY.toFixed(3)),\r\n      resizeType: type\r\n    })\r\n  }\r\n\r\n  const onMouseUp = () => {\r\n    document.removeEventListener('mousemove', onMouseMove)\r\n    document.removeEventListener('mouseup', onMouseUp)\r\n    document.removeEventListener('mouseleave', onMouseUp) // 添加鼠标离开监听\r\n    isResizing.value = false\r\n    currentResizeType.value = ''\r\n  }\r\n\r\n  document.addEventListener('mousemove', onMouseMove)\r\n  document.addEventListener('mouseup', onMouseUp)\r\n  document.addEventListener('mouseleave', onMouseUp) // 鼠标离开窗口时也结束\r\n  isResizing.value = true\r\n  currentResizeType.value = ''\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.gridster-item {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  position: relative;\r\n  cursor: move;\r\n  transition: all 0.2s ease;\r\n  min-height: 0;\r\n  /* 允许收缩 */\r\n  min-width: 0;\r\n  /* 允许收缩 */\r\n\r\n  &:hover {\r\n    border-color: #007bff;\r\n    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.15);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.98);\r\n  }\r\n\r\n  .remove-btn {\r\n    position: absolute;\r\n    top: 2px;\r\n    right: 2px;\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n    cursor: pointer;\r\n    color: red;\r\n  }\r\n}\r\n\r\n.resize-overlay {\r\n  position: absolute;\r\n  top: -6px;\r\n  left: -6px;\r\n  right: -6px;\r\n  bottom: -6px;\r\n  pointer-events: none;\r\n}\r\n\r\n.gridster-item:hover .resize-overlay {\r\n  pointer-events: auto;\r\n}\r\n\r\n\r\n.edge {\r\n  position: absolute;\r\n  background: transparent;\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.edge:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.edge.top {\r\n  top: 0;\r\n  left: 6px;\r\n  right: 6px;\r\n  height: 6px;\r\n  cursor: n-resize;\r\n}\r\n\r\n.edge.right {\r\n  top: 6px;\r\n  right: 0;\r\n  bottom: 6px;\r\n  width: 6px;\r\n  cursor: e-resize;\r\n}\r\n\r\n.edge.bottom {\r\n  bottom: 0;\r\n  left: 6px;\r\n  right: 6px;\r\n  height: 6px;\r\n  cursor: s-resize;\r\n}\r\n\r\n.edge.left {\r\n  top: 6px;\r\n  left: 0;\r\n  bottom: 6px;\r\n  width: 6px;\r\n  cursor: w-resize;\r\n}\r\n\r\n.corner {\r\n  position: absolute;\r\n  background: transparent;\r\n  width: 12px;\r\n  height: 12px;\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.corner:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.corner.top-left {\r\n  top: 0;\r\n  left: 0;\r\n  cursor: nw-resize;\r\n}\r\n\r\n.corner.top-right {\r\n  top: 0;\r\n  right: 0;\r\n  cursor: ne-resize;\r\n}\r\n\r\n.corner.bottom-left {\r\n  bottom: 0;\r\n  left: 0;\r\n  cursor: sw-resize;\r\n}\r\n\r\n.corner.bottom-right {\r\n  bottom: 0;\r\n  right: 0;\r\n  cursor: se-resize;\r\n}\r\n\r\n.gridster-item:hover .remove-btn {\r\n  opacity: 1;\r\n}\r\n</style>","<template>\r\n  <a-modal \r\n    v-model:visible=\"visible\" \r\n    title=\"添加组件 \"\r\n    width=\"1000px\"\r\n    @ok=\"handleOk\" \r\n    @cancel=\"close\"\r\n  >\r\n    <div class=\"add-container\">\r\n      <a-alert>已选择：{{ selectedComponents .length }}</a-alert>\r\n      <div class=\"component-library\">\r\n        <div class=\"search-section\">\r\n          <a-input\r\n            v-model=\"searchQuery\"\r\n            type=\"text\"\r\n            placeholder=\"搜索组件...\"\r\n            class=\"search-input\"\r\n          />\r\n        </div>\r\n        \r\n        <a-scrollbar style=\"height: 500px;overflow: auto;\">\r\n          <div class=\"components-grid\">\r\n            <div\r\n              v-for=\"component in filteredComponents\"\r\n              :key=\"component.id\"\r\n              class=\"component-card\"\r\n              :class=\"{\r\n                'selected': isSelected(component),\r\n              }\"\r\n              @click=\"onComponentClick(component)\"\r\n            >\r\n              <slot name=\"component\" :component=\"component\"></slot>\r\n              <div class=\"selection-indicator\" v-if=\"isSelected(component)\">\r\n                ✓\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a-scrollbar>\r\n        <div class=\"empty-state\" v-if=\"filteredComponents.length === 0\">\r\n          未找到匹配的组件\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-modal>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue';\r\nimport type { ComponentItemModel } from '../types/layout';\r\n\r\ninterface Props {\r\n  componentLibrary: ComponentItemModel[]\r\n}\r\nconst props = defineProps<Props>()\r\nconst visible = ref(false)\r\nconst selectedComponents  = ref<ComponentItemModel[]>([])\r\n\r\ninterface Emits {\r\n  (e: 'confirm', components: ComponentItemModel[]): void\r\n  (e: 'cancel'): void\r\n}\r\n\r\nconst emit = defineEmits<Emits>()\r\n\r\nconst onComponentSelect = (component: ComponentItemModel) => {\r\n  const index = selectedComponents.value.findIndex(\r\n    item => item.id === component.id\r\n  )\r\n  \r\n  if (index > -1) {\r\n    // 如果已存在，则移除\r\n    selectedComponents.value.splice(index, 1)\r\n  } else {\r\n    // 如果不存在，则添加\r\n    selectedComponents.value.push(component)\r\n  }\r\n}\r\n\r\nconst searchQuery = ref('')\r\n\r\n// 过滤组件列表\r\nconst filteredComponents = computed(() => {\r\n  if (!searchQuery.value) {\r\n    return props.componentLibrary\r\n  }\r\n  \r\n  const query = searchQuery.value.toLowerCase()\r\n  return props.componentLibrary.filter(component =>\r\n    component.name.toLowerCase().includes(query)\r\n  )\r\n})\r\n\r\n// 检查组件是否被选中\r\nconst isSelected = (component: ComponentItemModel) => {\r\n  return selectedComponents.value.some(\r\n    selected => selected.id === component.id\r\n  )\r\n}\r\n\r\nconst onComponentClick = (component: ComponentItemModel) => {\r\n    // 创建组件副本，确保每次添加都是新的实例\r\n    const componentCopy: ComponentItemModel = {\r\n    ...component,\r\n    x: 0,\r\n    y: 0\r\n  }\r\n  onComponentSelect(componentCopy)\r\n}\r\n\r\nconst handleOk = () => {\r\n  if (selectedComponents.value.length > 0) {\r\n    close()\r\n    emit('confirm', selectedComponents.value)\r\n    // 重置选择状态\r\n    selectedComponents.value = []\r\n  }\r\n}\r\n\r\nconst close = () => {\r\n  visible.value = false\r\n}\r\n\r\nconst open = () => {\r\n  visible.value = true\r\n}\r\n\r\ndefineExpose({\r\n  open,\r\n  close\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-container {\r\n\r\n  :deep(.arco-alert) {\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .component-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 20px;\r\n\r\n    .component-item {\r\n      flex: 1;\r\n    }\r\n  }\r\n}\r\n\r\n.component-library {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.search-section {\r\n  padding: 16px 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.components-grid {\r\n  flex: 1;\r\n  padding: 16px 0;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n  gap: 16px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.component-card {\r\n  border: 2px solid #e8e8e8;\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  position: relative;\r\n  background: white;\r\n}\r\n\r\n.component-card:hover {\r\n  border-color: #007bff;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.component-card.selected {\r\n  border-color: #007bff;\r\n  background: #f0f8ff;\r\n}\r\n\r\n.component-card.disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.component-card.disabled:hover {\r\n  border-color: #e8e8e8;\r\n  transform: none;\r\n  box-shadow: none;\r\n}\r\n\r\n\r\n\r\n.selection-indicator {\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 8px;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #007bff;\r\n  color: white;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n}\r\n\r\n.disabled-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  color: #ff4444;\r\n  font-weight: 500;\r\n}\r\n\r\n.empty-state {\r\n  padding: 40px 24px;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 滚动条样式 */\r\n.components-grid::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.components-grid::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 3px;\r\n}\r\n\r\n.components-grid::-webkit-scrollbar-thumb {\r\n  background: #c1c1c1;\r\n  border-radius: 3px;\r\n}\r\n\r\n.components-grid::-webkit-scrollbar-thumb:hover {\r\n  background: #a8a8a8;\r\n}\r\n</style>","const opt = Object.prototype.toString;\nfunction isArray(obj) {\n  return opt.call(obj) === \"[object Array]\";\n}\nfunction isNull(obj) {\n  return opt.call(obj) === \"[object Null]\";\n}\nfunction isBoolean(obj) {\n  return opt.call(obj) === \"[object Boolean]\";\n}\nfunction isObject(obj) {\n  return opt.call(obj) === \"[object Object]\";\n}\nconst isPromise = (obj) => {\n  return opt.call(obj) === \"[object Promise]\";\n};\nfunction isString(obj) {\n  return opt.call(obj) === \"[object String]\";\n}\nfunction isNumber(obj) {\n  return opt.call(obj) === \"[object Number]\" && obj === obj;\n}\nfunction isUndefined(obj) {\n  return obj === void 0;\n}\nfunction isFunction(obj) {\n  return typeof obj === \"function\";\n}\nfunction isEmptyObject(obj) {\n  return isObject(obj) && Object.keys(obj).length === 0;\n}\nfunction isExist(obj) {\n  return obj || obj === 0;\n}\nfunction isWindow(el) {\n  return el === window;\n}\nconst isComponentInstance = (value) => {\n  return (value == null ? void 0 : value.$) !== void 0;\n};\nconst isQuarter = (fromat) => {\n  return /\\[Q]Q/.test(fromat);\n};\nfunction isDayjs(time) {\n  return isObject(time) && \"$y\" in time && \"$M\" in time && \"$D\" in time && \"$d\" in time && \"$H\" in time && \"$m\" in time && \"$s\" in time;\n}\nexport { isArray, isBoolean, isComponentInstance, isDayjs, isEmptyObject, isExist, isFunction, isNull, isNumber, isObject, isPromise, isQuarter, isString, isUndefined, isWindow };\n","const configProviderInjectionKey = Symbol(\"ArcoConfigProvider\");\nexport { configProviderInjectionKey };\n","import { getCurrentInstance, inject } from \"vue\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nconst COMPONENT_PREFIX = \"A\";\nconst CLASS_PREFIX = \"arco\";\nconst GLOBAL_CONFIG_NAME = \"$arco\";\nconst getComponentPrefix = (options) => {\n  var _a;\n  return (_a = options == null ? void 0 : options.componentPrefix) != null ? _a : COMPONENT_PREFIX;\n};\nconst setGlobalConfig = (app, options) => {\n  var _a;\n  if (options && options.classPrefix) {\n    app.config.globalProperties[GLOBAL_CONFIG_NAME] = {\n      ...(_a = app.config.globalProperties[GLOBAL_CONFIG_NAME]) != null ? _a : {},\n      classPrefix: options.classPrefix\n    };\n  }\n};\nconst getPrefixCls = (componentName) => {\n  var _a, _b, _c;\n  const instance = getCurrentInstance();\n  const configProvider = inject(configProviderInjectionKey, void 0);\n  const prefix = (_c = (_b = configProvider == null ? void 0 : configProvider.prefixCls) != null ? _b : (_a = instance == null ? void 0 : instance.appContext.config.globalProperties[GLOBAL_CONFIG_NAME]) == null ? void 0 : _a.classPrefix) != null ? _c : CLASS_PREFIX;\n  if (componentName) {\n    return `${prefix}-${componentName}`;\n  }\n  return prefix;\n};\nexport { getComponentPrefix, getPrefixCls, setGlobalConfig };\n","import { cloneVNode, isVNode, Fragment } from \"vue\";\nimport { isArray, isFunction, isString } from \"./is.js\";\nconst isElement = (vn) => {\n  return Boolean(vn && vn.shapeFlag & 1);\n};\nconst isComponent = (vn, type) => {\n  return Boolean(vn && vn.shapeFlag & 6);\n};\nconst isTextChildren = (child, children) => {\n  return Boolean(child && child.shapeFlag & 8);\n};\nconst isArrayChildren = (vn, children) => {\n  return Boolean(vn && vn.shapeFlag & 16);\n};\nconst isSlotsChildren = (vn, children) => {\n  return Boolean(vn && vn.shapeFlag & 32);\n};\nconst getFirstComponent = (children) => {\n  var _a, _b;\n  if (!children) {\n    return void 0;\n  }\n  for (const child of children) {\n    if (isElement(child) || isComponent(child)) {\n      return child;\n    }\n    if (isArrayChildren(child, child.children)) {\n      const result = getFirstComponent(child.children);\n      if (result)\n        return result;\n    } else if (isSlotsChildren(child, child.children)) {\n      const children2 = (_b = (_a = child.children).default) == null ? void 0 : _b.call(_a);\n      if (children2) {\n        const result = getFirstComponent(children2);\n        if (result)\n          return result;\n      }\n    } else if (isArray(child)) {\n      const result = getFirstComponent(child);\n      if (result)\n        return result;\n    }\n  }\n  return void 0;\n};\nconst isEmptyChildren = (children) => {\n  if (!children) {\n    return true;\n  }\n  for (const item of children) {\n    if (item.children) {\n      return false;\n    }\n  }\n  return true;\n};\nconst mergeFirstChild = (children, extraProps) => {\n  if (children && children.length > 0) {\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (isElement(child) || isComponent(child)) {\n        const props = isFunction(extraProps) ? extraProps(child) : extraProps;\n        children[i] = cloneVNode(child, props, true);\n        return true;\n      }\n      const _children = getChildrenArray(child);\n      if (_children && _children.length > 0) {\n        const result = mergeFirstChild(_children, extraProps);\n        if (result)\n          return true;\n      }\n    }\n  }\n  return false;\n};\nconst getChildrenArray = (vn) => {\n  if (isArrayChildren(vn, vn.children)) {\n    return vn.children;\n  }\n  if (isArray(vn)) {\n    return vn;\n  }\n  return void 0;\n};\nconst getFirstElementFromVNode = (vn) => {\n  var _a, _b;\n  if (isElement(vn)) {\n    return vn.el;\n  }\n  if (isComponent(vn)) {\n    if (((_a = vn.el) == null ? void 0 : _a.nodeType) === 1) {\n      return vn.el;\n    }\n    if ((_b = vn.component) == null ? void 0 : _b.subTree) {\n      const ele = getFirstElementFromVNode(vn.component.subTree);\n      if (ele)\n        return ele;\n    }\n  } else {\n    const children = getChildrenArray(vn);\n    return getFirstElementFromChildren(children);\n  }\n  return void 0;\n};\nconst getFirstElementFromChildren = (children) => {\n  if (children && children.length > 0) {\n    for (const child of children) {\n      const element = getFirstElementFromVNode(child);\n      if (element)\n        return element;\n    }\n  }\n  return void 0;\n};\nconst getAllElements = (children, includeText = false) => {\n  var _a, _b;\n  const results = [];\n  for (const item of children != null ? children : []) {\n    if (isElement(item) || isComponent(item) || includeText && isTextChildren(item, item.children)) {\n      results.push(item);\n    } else if (isArrayChildren(item, item.children)) {\n      results.push(...getAllElements(item.children, includeText));\n    } else if (isSlotsChildren(item, item.children)) {\n      results.push(...getAllElements((_b = (_a = item.children).default) == null ? void 0 : _b.call(_a), includeText));\n    } else if (isArray(item)) {\n      results.push(...getAllElements(item, includeText));\n    }\n  }\n  return results;\n};\nfunction unFragment(nodeList) {\n  function loop(nodes) {\n    const unFragmentNodeList = [];\n    nodes.forEach((node) => {\n      var _a, _b;\n      if (isVNode(node) && node.type === Fragment) {\n        if (isSlotsChildren(node, node.children)) {\n          unFragmentNodeList.push(...loop(((_b = (_a = node.children).default) == null ? void 0 : _b.call(_a)) || []));\n        } else if (isArrayChildren(node, node.children)) {\n          unFragmentNodeList.push(...loop(node.children));\n        } else if (isString(node.children)) {\n          unFragmentNodeList.push(node.children);\n        }\n      } else {\n        unFragmentNodeList.push(node);\n      }\n    });\n    return unFragmentNodeList;\n  }\n  return loop(nodeList);\n}\nconst getSlotFunction = (param) => {\n  if (param) {\n    if (isFunction(param))\n      return param;\n    return () => param;\n  }\n  return void 0;\n};\nconst getComponentsFromVNode = (vn, name) => {\n  var _a;\n  const components = [];\n  if (isComponent(vn, vn.type)) {\n    if (vn.type.name === name) {\n      if (vn.component) {\n        components.push(vn.component.uid);\n      }\n    } else if ((_a = vn.component) == null ? void 0 : _a.subTree) {\n      components.push(...getComponentsFromVNode(vn.component.subTree, name));\n    }\n  } else {\n    const children = getChildrenArray(vn);\n    if (children) {\n      components.push(...getComponentsFromChildren(children, name));\n    }\n  }\n  return components;\n};\nconst getComponentsFromChildren = (children, name) => {\n  const components = [];\n  if (children && children.length > 0) {\n    for (const child of children) {\n      components.push(...getComponentsFromVNode(child, name));\n    }\n  }\n  return components;\n};\nexport { getAllElements, getChildrenArray, getComponentsFromChildren, getComponentsFromVNode, getFirstComponent, getFirstElementFromChildren, getFirstElementFromVNode, getSlotFunction, isArrayChildren, isComponent, isElement, isEmptyChildren, isSlotsChildren, isTextChildren, mergeFirstChild, unFragment };\n","import { isString } from \"./is.js\";\nconst NOOP = () => {\n  return void 0;\n};\nconst getDocumentSize = () => {\n  const { body } = document;\n  const html = document.documentElement;\n  let topBody;\n  try {\n    const topWindow = window.top || window.self || window;\n    topBody = topWindow.document.body;\n  } catch {\n  }\n  return {\n    height: Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight,\n      (topBody == null ? void 0 : topBody.scrollHeight) || 0,\n      (topBody == null ? void 0 : topBody.clientHeight) || 0\n    ),\n    width: Math.max(\n      body.scrollWidth,\n      body.offsetWidth,\n      html.clientWidth,\n      html.scrollWidth,\n      html.offsetWidth,\n      (topBody == null ? void 0 : topBody.scrollWidth) || 0,\n      (topBody == null ? void 0 : topBody.clientWidth) || 0\n    )\n  };\n};\nconst isServerRendering = (() => {\n  try {\n    return !(typeof window !== \"undefined\" && document !== void 0);\n  } catch (e) {\n    return true;\n  }\n})();\nconst on = (() => {\n  if (isServerRendering) {\n    return NOOP;\n  }\n  return (element, event, handler, options = false) => {\n    element.addEventListener(\n      event,\n      handler,\n      options\n    );\n  };\n})();\nconst off = (() => {\n  if (isServerRendering) {\n    return NOOP;\n  }\n  return (element, type, handler, options = false) => {\n    element.removeEventListener(\n      type,\n      handler,\n      options\n    );\n  };\n})();\nconst contains = (root, ele) => {\n  if (!root || !ele) {\n    return false;\n  }\n  let node = ele;\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n};\nconst getOverlay = (type) => {\n  const popper = document.createElement(\"div\");\n  popper.setAttribute(\"class\", `arco-overlay arco-overlay-${type}`);\n  return popper;\n};\nconst querySelector = (selectors, container) => {\n  var _a;\n  if (isServerRendering) {\n    return NOOP();\n  }\n  return (_a = (container != null ? container : document).querySelector(selectors)) != null ? _a : void 0;\n};\nconst getElement = (target, container) => {\n  if (isString(target)) {\n    const selector = target[0] === \"#\" ? `[id='${target.slice(1)}']` : target;\n    return querySelector(selector, container);\n  }\n  return target;\n};\nconst getRelativeRect = (target, relative) => {\n  const targetRect = target.getBoundingClientRect();\n  const relativeRect = relative.getBoundingClientRect();\n  return {\n    top: targetRect.top - relativeRect.top,\n    bottom: relativeRect.bottom - targetRect.bottom,\n    left: targetRect.left - relativeRect.left,\n    right: relativeRect.right - targetRect.right,\n    width: targetRect.width,\n    height: targetRect.height\n  };\n};\nconst isScroll = (element) => {\n  return element.tagName === \"BODY\" ? document.documentElement.scrollHeight > window.innerHeight : element.scrollHeight > element.offsetHeight;\n};\nconst getScrollBarWidth = (element) => {\n  return element.tagName === \"BODY\" ? window.innerWidth - getDocumentSize().width : element.offsetWidth - element.clientWidth;\n};\nexport { NOOP, contains, getDocumentSize, getElement, getOverlay, getRelativeRect, getScrollBarWidth, isScroll, isServerRendering, off, on, querySelector };\n","var _export_sfc = (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val;\n  }\n  return sfc;\n};\nexport { _export_sfc as default };\n","import { defineComponent, openBlock, createElementBlock, normalizeClass, renderSlot } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconHover\",\n  props: {\n    prefix: {\n      type: String\n    },\n    size: {\n      type: String,\n      default: \"medium\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup() {\n    const prefixCls = getPrefixCls(\"icon-hover\");\n    return {\n      prefixCls\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", {\n    class: normalizeClass([\n      _ctx.prefixCls,\n      {\n        [`${_ctx.prefix}-icon-hover`]: _ctx.prefix,\n        [`${_ctx.prefixCls}-size-${_ctx.size}`]: _ctx.size !== \"medium\",\n        [`${_ctx.prefixCls}-disabled`]: _ctx.disabled\n      }\n    ])\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 2);\n}\nvar IconHover = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { IconHover as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconClose\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-close`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", { d: \"M9.857 9.858 24 24m0 0 14.142 14.142M24 24 38.142 9.858M24 24 9.857 38.142\" }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconClose = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconClose as default };\n","import _IconClose from \"./icon-close.js\";\nconst IconClose = Object.assign(_IconClose, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconClose.name, _IconClose);\n  }\n});\nexport { IconClose as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconInfoCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-info-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm2-30a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2Zm0 17h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1v-8a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconInfoCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconInfoCircleFill as default };\n","import _IconInfoCircleFill from \"./icon-info-circle-fill.js\";\nconst IconInfoCircleFill = Object.assign(_IconInfoCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconInfoCircleFill.name, _IconInfoCircleFill);\n  }\n});\nexport { IconInfoCircleFill as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconCheckCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-check-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm10.207-24.379a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0L22 26.172l-4.878-4.88a1 1 0 0 0-1.415 0l-1.414 1.415a1 1 0 0 0 0 1.414l7 7a1 1 0 0 0 1.414 0l11.5-11.5Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconCheckCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconCheckCircleFill as default };\n","import _IconCheckCircleFill from \"./icon-check-circle-fill.js\";\nconst IconCheckCircleFill = Object.assign(_IconCheckCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconCheckCircleFill.name, _IconCheckCircleFill);\n  }\n});\nexport { IconCheckCircleFill as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconExclamationCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-exclamation-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm-2-11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2Zm4-18a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V15Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconExclamationCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconExclamationCircleFill as default };\n","import _IconExclamationCircleFill from \"./icon-exclamation-circle-fill.js\";\nconst IconExclamationCircleFill = Object.assign(_IconExclamationCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconExclamationCircleFill.name, _IconExclamationCircleFill);\n  }\n});\nexport { IconExclamationCircleFill as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconCloseCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-close-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm4.955-27.771-4.95 4.95-4.95-4.95a1 1 0 0 0-1.414 0l-1.414 1.414a1 1 0 0 0 0 1.414l4.95 4.95-4.95 4.95a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-4.95-4.95 4.95-4.95a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconCloseCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconCloseCircleFill as default };\n","import _IconCloseCircleFill from \"./icon-close-circle-fill.js\";\nconst IconCloseCircleFill = Object.assign(_IconCloseCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconCloseCircleFill.name, _IconCloseCircleFill);\n  }\n});\nexport { IconCloseCircleFill as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconLoading\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-loading`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", { d: \"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6\" }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconLoading = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconLoading as default };\n","import _IconLoading from \"./icon-loading.js\";\nconst IconLoading = Object.assign(_IconLoading, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconLoading.name, _IconLoading);\n  }\n});\nexport { IconLoading as default };\n","import { ref, watch, onMounted, onBeforeUnmount, readonly } from \"vue\";\nconst POPUP_BASE_Z_INDEX = 1e3;\nconst MESSAGE_BASE_Z_INDEX = 5e3;\nconst Z_INDEX_STEP = 1;\nclass PopupManager {\n  constructor() {\n    this.popupStack = {\n      popup: /* @__PURE__ */ new Set(),\n      dialog: /* @__PURE__ */ new Set(),\n      message: /* @__PURE__ */ new Set()\n    };\n    this.getNextZIndex = (type) => {\n      const current = type === \"message\" ? Array.from(this.popupStack.message).pop() || MESSAGE_BASE_Z_INDEX : Array.from(this.popupStack.popup).pop() || POPUP_BASE_Z_INDEX;\n      return current + Z_INDEX_STEP;\n    };\n    this.add = (type) => {\n      const zIndex = this.getNextZIndex(type);\n      this.popupStack[type].add(zIndex);\n      if (type === \"dialog\") {\n        this.popupStack.popup.add(zIndex);\n      }\n      return zIndex;\n    };\n    this.delete = (zIndex, type) => {\n      this.popupStack[type].delete(zIndex);\n      if (type === \"dialog\") {\n        this.popupStack.popup.delete(zIndex);\n      }\n    };\n    this.isLastDialog = (zIndex) => {\n      if (this.popupStack.dialog.size > 1) {\n        return zIndex === Array.from(this.popupStack.dialog).pop();\n      }\n      return true;\n    };\n  }\n}\nconst popupManager = new PopupManager();\nfunction usePopupManager(type, {\n  visible,\n  runOnMounted\n} = {}) {\n  const zIndex = ref(0);\n  const open = () => {\n    zIndex.value = popupManager.add(type);\n  };\n  const close = () => {\n    popupManager.delete(zIndex.value, type);\n  };\n  const isLastDialog = () => {\n    if (type === \"dialog\") {\n      return popupManager.isLastDialog(zIndex.value);\n    }\n    return false;\n  };\n  watch(\n    () => visible == null ? void 0 : visible.value,\n    (visible2) => {\n      if (visible2) {\n        open();\n      } else {\n        close();\n      }\n    },\n    {\n      immediate: true\n    }\n  );\n  if (runOnMounted) {\n    onMounted(() => {\n      open();\n    });\n    onBeforeUnmount(() => {\n      close();\n    });\n  }\n  return {\n    zIndex: readonly(zIndex),\n    open,\n    close,\n    isLastDialog\n  };\n}\nexport { usePopupManager as default };\n","import { defineComponent, onMounted, onUpdated, onUnmounted, resolveComponent, openBlock, createElementBlock, normalizeClass, renderSlot, createBlock, createCommentVNode, createElementVNode, createVNode, withCtx } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconClose from \"../icon/icon-close/index.js\";\nimport IconInfoCircleFill from \"../icon/icon-info-circle-fill/index.js\";\nimport IconCheckCircleFill from \"../icon/icon-check-circle-fill/index.js\";\nimport IconExclamationCircleFill from \"../icon/icon-exclamation-circle-fill/index.js\";\nimport IconCloseCircleFill from \"../icon/icon-close-circle-fill/index.js\";\nimport IconLoading from \"../icon/icon-loading/index.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"Message\",\n  components: {\n    AIconHover: IconHover,\n    IconInfoCircleFill,\n    IconCheckCircleFill,\n    IconExclamationCircleFill,\n    IconCloseCircleFill,\n    IconClose,\n    IconLoading\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"info\"\n    },\n    closable: {\n      type: Boolean,\n      default: false\n    },\n    showIcon: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: Number,\n      default: 3e3\n    },\n    resetOnUpdate: {\n      type: Boolean,\n      default: false\n    },\n    resetOnHover: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"close\"],\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"message\");\n    let timer = 0;\n    const handleClose = () => {\n      emit(\"close\");\n    };\n    const startTimer = () => {\n      if (props.duration > 0) {\n        timer = window.setTimeout(handleClose, props.duration);\n      }\n    };\n    const clearTimer = () => {\n      if (timer) {\n        window.clearTimeout(timer);\n        timer = 0;\n      }\n    };\n    onMounted(() => {\n      startTimer();\n    });\n    onUpdated(() => {\n      if (props.resetOnUpdate) {\n        clearTimer();\n        startTimer();\n      }\n    });\n    onUnmounted(() => {\n      clearTimer();\n    });\n    const handleMouseEnter = () => {\n      if (props.resetOnHover) {\n        clearTimer();\n      }\n    };\n    const handleMouseLeave = () => {\n      if (props.resetOnHover) {\n        startTimer();\n      }\n    };\n    return {\n      handleMouseEnter,\n      handleMouseLeave,\n      prefixCls,\n      handleClose\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_icon_info_circle_fill = resolveComponent(\"icon-info-circle-fill\");\n  const _component_icon_check_circle_fill = resolveComponent(\"icon-check-circle-fill\");\n  const _component_icon_exclamation_circle_fill = resolveComponent(\"icon-exclamation-circle-fill\");\n  const _component_icon_close_circle_fill = resolveComponent(\"icon-close-circle-fill\");\n  const _component_icon_loading = resolveComponent(\"icon-loading\");\n  const _component_icon_close = resolveComponent(\"icon-close\");\n  const _component_a_icon_hover = resolveComponent(\"a-icon-hover\");\n  return openBlock(), createElementBlock(\"li\", {\n    role: \"alert\",\n    class: normalizeClass([\n      _ctx.prefixCls,\n      `${_ctx.prefixCls}-${_ctx.type}`,\n      { [`${_ctx.prefixCls}-closable`]: _ctx.closable }\n    ]),\n    onMouseenter: _cache[1] || (_cache[1] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args))\n  }, [\n    _ctx.showIcon && !(_ctx.type === \"normal\" && !_ctx.$slots.icon) ? (openBlock(), createElementBlock(\"span\", {\n      key: 0,\n      class: normalizeClass(`${_ctx.prefixCls}-icon`)\n    }, [\n      renderSlot(_ctx.$slots, \"icon\", {}, () => [\n        _ctx.type === \"info\" ? (openBlock(), createBlock(_component_icon_info_circle_fill, { key: 0 })) : _ctx.type === \"success\" ? (openBlock(), createBlock(_component_icon_check_circle_fill, { key: 1 })) : _ctx.type === \"warning\" ? (openBlock(), createBlock(_component_icon_exclamation_circle_fill, { key: 2 })) : _ctx.type === \"error\" ? (openBlock(), createBlock(_component_icon_close_circle_fill, { key: 3 })) : _ctx.type === \"loading\" ? (openBlock(), createBlock(_component_icon_loading, { key: 4 })) : createCommentVNode(\"v-if\", true)\n      ])\n    ], 2)) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"span\", {\n      class: normalizeClass(`${_ctx.prefixCls}-content`)\n    }, [\n      renderSlot(_ctx.$slots, \"default\")\n    ], 2),\n    _ctx.closable ? (openBlock(), createElementBlock(\"span\", {\n      key: 1,\n      class: normalizeClass(`${_ctx.prefixCls}-close-btn`),\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleClose && _ctx.handleClose(...args))\n    }, [\n      createVNode(_component_a_icon_hover, null, {\n        default: withCtx(() => [\n          createVNode(_component_icon_close)\n        ]),\n        _: 1\n      })\n    ], 2)) : createCommentVNode(\"v-if\", true)\n  ], 34);\n}\nvar Message = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { Message as default };\n","import { defineComponent, createVNode, TransitionGroup, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport Message from \"./message.js\";\nimport usePopupManager from \"../_hooks/use-popup-manager.js\";\nimport { getSlotFunction } from \"../_utils/vue-utils.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nvar MessageList = defineComponent({\n  name: \"MessageList\",\n  props: {\n    messages: {\n      type: Array,\n      default: () => []\n    },\n    position: {\n      type: String,\n      default: \"top\"\n    }\n  },\n  emits: [\"close\", \"afterClose\"],\n  setup(props, context) {\n    const prefixCls = getPrefixCls(\"message-list\");\n    const {\n      zIndex\n    } = usePopupManager(\"message\", {\n      runOnMounted: true\n    });\n    return () => {\n      let _slot;\n      return createVNode(TransitionGroup, {\n        \"class\": [prefixCls, `${prefixCls}-${props.position}`],\n        \"name\": \"fade-message\",\n        \"tag\": \"ul\",\n        \"style\": {\n          zIndex: zIndex.value\n        },\n        \"onAfterLeave\": () => context.emit(\"afterClose\")\n      }, _isSlot(_slot = props.messages.map((item) => {\n        const slots = {\n          default: getSlotFunction(item.content),\n          icon: getSlotFunction(item.icon)\n        };\n        return createVNode(Message, {\n          \"key\": item.id,\n          \"type\": item.type,\n          \"duration\": item.duration,\n          \"closable\": item.closable,\n          \"resetOnUpdate\": item.resetOnUpdate,\n          \"resetOnHover\": item.resetOnHover,\n          \"onClose\": () => context.emit(\"close\", item.id)\n        }, slots);\n      })) ? _slot : {\n        default: () => [_slot]\n      });\n    };\n  }\n});\nexport { MessageList as default };\n","import { reactive, render, ref, createVNode } from \"vue\";\nimport { MESSAGE_TYPES } from \"../_utils/constant.js\";\nimport { getOverlay } from \"../_utils/dom.js\";\nimport { isString, isUndefined, isFunction } from \"../_utils/is.js\";\nimport MessageList from \"./message-list.js\";\nclass MessageManger {\n  constructor(config, appContext) {\n    this.messageCount = 0;\n    this.add = (config2) => {\n      var _a;\n      this.messageCount++;\n      const id = (_a = config2.id) != null ? _a : `__arco_message_${this.messageCount}`;\n      if (this.messageIds.has(id)) {\n        return this.update(id, config2);\n      }\n      const message2 = reactive({ id, ...config2 });\n      this.messages.value.push(message2);\n      this.messageIds.add(id);\n      return {\n        close: () => this.remove(id)\n      };\n    };\n    this.update = (id, config2) => {\n      for (let i = 0; i < this.messages.value.length; i++) {\n        if (this.messages.value[i].id === id) {\n          const resetOnUpdate = !isUndefined(config2.duration);\n          Object.assign(this.messages.value[i], { ...config2, id, resetOnUpdate });\n          break;\n        }\n      }\n      return {\n        close: () => this.remove(id)\n      };\n    };\n    this.remove = (id) => {\n      for (let i = 0; i < this.messages.value.length; i++) {\n        const item = this.messages.value[i];\n        if (item.id === id) {\n          if (isFunction(item.onClose)) {\n            item.onClose(id);\n          }\n          this.messages.value.splice(i, 1);\n          this.messageIds.delete(id);\n          break;\n        }\n      }\n    };\n    this.clear = () => {\n      this.messages.value.splice(0);\n    };\n    this.destroy = () => {\n      if (this.messages.value.length === 0 && this.container) {\n        render(null, this.container);\n        document.body.removeChild(this.container);\n        this.container = null;\n        messageInstance[this.position] = void 0;\n      }\n    };\n    const { position = \"top\" } = config;\n    this.container = getOverlay(\"message\");\n    this.messageIds = /* @__PURE__ */ new Set();\n    this.messages = ref([]);\n    this.position = position;\n    const vm = createVNode(MessageList, {\n      messages: this.messages.value,\n      position,\n      onClose: this.remove,\n      onAfterClose: this.destroy\n    });\n    if (appContext != null ? appContext : Message._context) {\n      vm.appContext = appContext != null ? appContext : Message._context;\n    }\n    render(vm, this.container);\n    document.body.appendChild(this.container);\n  }\n}\nconst messageInstance = {};\nconst types = [...MESSAGE_TYPES, \"loading\", \"normal\"];\nconst message = types.reduce((pre, value) => {\n  pre[value] = (config, appContext) => {\n    if (isString(config)) {\n      config = { content: config };\n    }\n    const _config = { type: value, ...config };\n    const { position = \"top\" } = _config;\n    if (!messageInstance[position]) {\n      messageInstance[position] = new MessageManger(_config, appContext);\n    }\n    return messageInstance[position].add(_config);\n  };\n  return pre;\n}, {});\nmessage.clear = (position) => {\n  var _a;\n  if (position) {\n    (_a = messageInstance[position]) == null ? void 0 : _a.clear();\n  } else {\n    Object.values(messageInstance).forEach((item) => item == null ? void 0 : item.clear());\n  }\n};\nconst Message = {\n  ...message,\n  install: (app) => {\n    const _message = {\n      clear: message.clear\n    };\n    for (const key of types) {\n      _message[key] = (config, appContext = app._context) => message[key](config, appContext);\n    }\n    app.config.globalProperties.$message = _message;\n  },\n  _context: null\n};\nexport { Message as default };\n","const MESSAGE_TYPES = [\"info\", \"success\", \"warning\", \"error\"];\nconst INPUT_EVENTS = [\n  \"onFocus\",\n  \"onFocusin\",\n  \"onFocusout\",\n  \"onBlur\",\n  \"onChange\",\n  \"onBeforeinput\",\n  \"onInput\",\n  \"onReset\",\n  \"onSubmit\",\n  \"onInvalid\",\n  \"onKeydown\",\n  \"onKeypress\",\n  \"onKeyup\",\n  \"onCopy\",\n  \"onCut\",\n  \"onPaste\",\n  \"onCompositionstart\",\n  \"onCompositionupdate\",\n  \"onCompositionend\",\n  \"onSelect\",\n  \"autocomplete\",\n  \"autofocus\",\n  \"maxlength\",\n  \"minlength\",\n  \"name\",\n  \"pattern\",\n  \"readonly\",\n  \"required\"\n];\nexport { INPUT_EVENTS, MESSAGE_TYPES };\n","<template>\r\n  <header class=\"grid-header\">\r\n    <div class=\"grid-header_left\"></div>\r\n    <div class=\"grid-header_right\">\r\n      <a-space>\r\n        <a-button type=\"primary\" @click=\"openModal\">添加组件</a-button>\r\n        <slot name=\"extra\"></slot>\r\n      </a-space>\r\n    </div>\r\n  </header>\r\n  <div class=\"grid-container\">\r\n    <div ref=\"gridContainer\" class=\"grid-content\" :style=\"gridStyle\" @dragover=\"onDragOver\">\r\n      <!-- 网格背景 -->\r\n      <div class=\"grid-background\" :style=\"gridBackgroundStyle\">\r\n        <div class=\"grid-cell\" v-for=\"item in COLUMNS\" :key=\"item\">\r\n        </div>\r\n      </div>\r\n      <GridsterItem v-for=\"component in addedComponents\" :key=\"component.id\" :component=\"component\"\r\n        :grid-config=\"gridConfig\" :container-info=\"containerInfo\" :all-components=\"addedComponents\"\r\n        @resize=\"onComponentResize\" @drag=\"onComponentDrag\" @remove=\"removeComponent\">\r\n        <slot name=\"item\" :itemData=\"component\"></slot>\r\n      </GridsterItem>\r\n    </div>\r\n  </div>\r\n  <AddComponent ref=\"addComponentRef\" @confirm=\"addComponents\" :component-library=\"props.componentLibrary\">\r\n    <template v-for=\"slot in Object.keys($slots)\" :key=\"slot\" #[slot]=\"slotProps\">\r\n      <slot :name=\"slot\" v-bind=\"slotProps || {}\"></slot>\r\n    </template>\r\n  </AddComponent>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, reactive, onMounted, onUnmounted, watch } from 'vue';\r\nimport type { ComponentItemModel, GridConfig, Position, Size, ContainerInfo } from '../types/layout';\r\nimport { COLUMNS } from '../utils/constant';\r\nimport GridsterItem from './GridsterItem.vue';\r\nimport AddComponent from './AddComponent.vue';\r\nimport { Message } from '@arco-design/web-vue';\r\n\r\nimport {\r\n  resizeComponentWithAutoFill,\r\n  validatePositionWithLayout,\r\n  validateDragPosition,\r\n  findAvailablePosition,\r\n  autoFillComponentToGrid,\r\n  adaptiveLayoutOnResize,\r\n} from '../utils/grid';\r\n\r\ninterface Props {\r\n  componentLibrary: ComponentItemModel[]\r\n  addedComponents: ComponentItemModel[]\r\n}\r\nconst props = defineProps<Props>()\r\nconst emit = defineEmits([\r\n  'get-container-size',\r\n  'add-component',\r\n  'update:added-components'\r\n])\r\n\r\nconst components = computed({\r\n  get: () => {\r\n    return props.addedComponents ? props.addedComponents : [];\r\n  },\r\n  set: (val: ComponentItemModel[]) => {\r\n    emit('update:added-components', val);\r\n  },\r\n})\r\n\r\nconst gridConfig = reactive<GridConfig>({\r\n  gap: 10,\r\n  cellWidth: 0, // 动态计算\r\n})\r\n\r\nconst containerInfo = reactive<ContainerInfo>({\r\n  width: 0,\r\n  height: 0,\r\n  scrollTop: 0\r\n})\r\nconst gridContainer = ref<HTMLElement>()\r\n\r\n// 计算容器高度 - 不允许超出容器高度\r\nconst containerHeight = computed(() => {\r\n  return containerInfo.height // 直接使用容器高度，不允许滚动\r\n})\r\n\r\n// 计算列宽（自适应）\r\nconst updateCellWidth = () => {\r\n  if (!gridContainer.value) return\r\n\r\n  const container = gridContainer.value\r\n  containerInfo.width = container.clientWidth\r\n  containerInfo.height = container.clientHeight\r\n\r\n  // 固定24列，直接计算列宽\r\n  const totalGapWidth = 23 * gridConfig.gap\r\n  const cellWidth = (containerInfo.width - totalGapWidth) / 24\r\n\r\n  // 保留2位小数，设置最小列宽\r\n  gridConfig.cellWidth = Math.max(parseFloat(cellWidth.toFixed(3)), 20)\r\n}\r\n\r\n\r\n// 计算网格样式\r\nconst gridStyle = computed(() => {\r\n  const gap = gridConfig.gap\r\n  const cols = COLUMNS\r\n\r\n  return {\r\n    gridTemplateColumns: `repeat(${cols}, minmax(0, 1fr))`,\r\n    gridTemplateRows: `repeat(auto-fit, 100%)`,\r\n    gap: `${gap}px`,\r\n    width: '100%',\r\n    minHeight: `${containerHeight.value}px`,\r\n  }\r\n})\r\n\r\n// 计算网格背景样式\r\nconst gridBackgroundStyle = computed(() => {\r\n  const gap = gridConfig.gap\r\n  const cols = COLUMNS\r\n\r\n  return {\r\n    gridTemplateColumns: `repeat(${cols}, minmax(0, 1fr))`,\r\n    gap: `${gap}px`,\r\n    gridTemplateRows: `repeat(auto-fit, 100%)`,\r\n    width: '100%',\r\n  }\r\n})\r\n\r\n\r\n// 在容器大小变化时进行自适应处理\r\nconst updateContainerInfo = () => {\r\n  if (!gridContainer.value) return\r\n\r\n  const container = gridContainer.value\r\n  const oldWidth = containerInfo.width\r\n  const oldHeight = containerInfo.height\r\n  const oldCellWidth = gridConfig.cellWidth\r\n\r\n  // 保存旧的容器信息\r\n  const oldContainerInfo = {\r\n    width: oldWidth,\r\n    height: oldHeight\r\n  }\r\n\r\n  // 更新容器信息\r\n  containerInfo.width = container.clientWidth\r\n  containerInfo.height = container.clientHeight\r\n\r\n  // 更新列宽\r\n  updateCellWidth()\r\n  const newCellWidth = gridConfig.cellWidth\r\n\r\n  // 如果容器尺寸发生变化，进行自适应调整\r\n  if (oldWidth !== containerInfo.width || oldHeight !== containerInfo.height) {\r\n    console.log('容器尺寸变化，进行自适应调整', {\r\n      oldSize: { width: oldWidth, height: oldHeight },\r\n      newSize: { width: containerInfo.width, height: containerInfo.height },\r\n      oldCellWidth,\r\n      newCellWidth,\r\n      cellWidthRatio: newCellWidth / oldCellWidth\r\n    })\r\n\r\n    // 记录调整前的组件状态\r\n    const beforeAdjustment = components.value.map(c => ({\r\n      id: c.id,\r\n      x: c.x,\r\n      width: c.width\r\n    }))\r\n\r\n    // 使用自适应布局调整组件\r\n    components.value = adaptiveLayoutOnResize(\r\n      components.value,\r\n      oldContainerInfo,\r\n      containerInfo,\r\n      oldCellWidth,\r\n      newCellWidth,\r\n      gridConfig\r\n    )\r\n\r\n    // 记录调整后的组件状态\r\n    const afterAdjustment = components.value.map(c => ({\r\n      id: c.id,\r\n      x: c.x,\r\n      width: c.width\r\n    }))\r\n\r\n    console.log('组件自适应调整结果', {\r\n      before: beforeAdjustment,\r\n      after: afterAdjustment\r\n    })\r\n  }\r\n}\r\n\r\nconst onComponentResize = (id: string, newData: Size & Partial<Position> & { resizeType?: string }) => {\r\n  const componentIndex = components.value.findIndex(c => c.id === id)\r\n  if (componentIndex === -1) return\r\n\r\n  const component = components.value[componentIndex]!\r\n\r\n  const newSize: Size = {\r\n    width: newData.width || component!.width,\r\n    height: newData.height || component!.height\r\n  }\r\n\r\n  const newPosition: Position = {\r\n    x: newData.x !== undefined ? newData.x : component!.x,\r\n    y: newData.y !== undefined ? newData.y : component!.y\r\n  }\r\n\r\n  // 根据调整类型决定是否应用自动填充\r\n  let filledSize = newSize\r\n  const resizeType = newData.resizeType || ''\r\n  const isWidthResize = ['left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'].includes(resizeType)\r\n\r\n  if (isWidthResize) {\r\n    // 只有在调整宽度相关的操作时才进行栅格填充\r\n    filledSize = resizeComponentWithAutoFill(component, newSize, gridConfig)\r\n  }\r\n\r\n  // 使用智能验证（考虑动态布局）\r\n  const validationResult = validatePositionWithLayout(\r\n    components.value,\r\n    id,\r\n    newPosition,\r\n    filledSize,\r\n    containerInfo,\r\n    gridConfig,\r\n    resizeType\r\n  )\r\n\r\n  if (validationResult.valid) {\r\n    component.x = newPosition.x\r\n    component.y = newPosition.y\r\n    component.width = filledSize.width\r\n    component.height = filledSize.height\r\n\r\n    // 更新受影响的组件\r\n    if (validationResult.affectedComponents.length > 0) {\r\n      validationResult.affectedComponents.forEach(affectedComp => {\r\n        const targetComp = components.value.find(c => c.id === affectedComp.id)\r\n        if (targetComp) {\r\n          targetComp.x = affectedComp.x\r\n          targetComp.y = affectedComp.y\r\n        }\r\n      })\r\n    }\r\n\r\n    // 新的碰撞检测逻辑已经在validatePositionWithLayout中处理了布局调整\r\n    // 不需要额外的reorganizeLayout调用\r\n  } else {\r\n    // 可以尝试只调整尺寸不调整位置\r\n    const fallbackResult = validatePositionWithLayout(\r\n      components.value,\r\n      id,\r\n      { x: component.x, y: component.y }, // 保持原位置\r\n      filledSize, // 使用填充后的尺寸\r\n      containerInfo,\r\n      gridConfig,\r\n      resizeType\r\n    )\r\n\r\n    if (fallbackResult.valid) {\r\n      component.width = filledSize.width\r\n      component.height = filledSize.height\r\n\r\n      // 更新受影响的组件\r\n      if (fallbackResult.affectedComponents.length > 0) {\r\n        fallbackResult.affectedComponents.forEach(affectedComp => {\r\n          const targetComp = components.value.find(c => c.id === affectedComp.id)\r\n          if (targetComp) {\r\n            targetComp.x = affectedComp.x\r\n            targetComp.y = affectedComp.y\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 组件拖拽\r\nconst onComponentDrag = (id: string, newPosition: Position) => {\r\n  const component = components.value.find(c => c.id === id)\r\n  if (!component) return\r\n\r\n  // 使用智能拖拽验证（内部包含智能吸附逻辑）\r\n  const dragResult = validateDragPosition(\r\n    components.value,\r\n    id,\r\n    newPosition,\r\n    containerInfo,\r\n    gridConfig\r\n  )\r\n\r\n  if (dragResult.valid) {\r\n    // 使用经过智能吸附处理的最终位置\r\n    component.x = dragResult.finalPosition.x\r\n    component.y = dragResult.finalPosition.y\r\n\r\n    // 更新受影响的组件\r\n    if (dragResult.affectedComponents.length > 0) {\r\n      dragResult.affectedComponents.forEach(affectedComp => {\r\n        const targetComp = components.value.find(c => c.id === affectedComp.id)\r\n        if (targetComp) {\r\n          targetComp.x = affectedComp.x\r\n          targetComp.y = affectedComp.y\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 移除组件\r\nconst removeComponent = (id: string) => {\r\n  const index = components.value.findIndex(c => c.id === id)\r\n  if (index !== -1) {\r\n    components.value.splice(index, 1)\r\n  }\r\n}\r\n\r\n// 拖拽放置处理\r\nconst onDragOver = (e: DragEvent) => {\r\n  e.preventDefault()\r\n  if (e.dataTransfer) {\r\n    e.dataTransfer.dropEffect = 'move'\r\n  }\r\n}\r\n\r\n\r\n\r\n// ResizeObserver 监听容器大小变化\r\nlet resizeObserver: ResizeObserver | null = null\r\n\r\n// 初始化\r\nonMounted(() => {\r\n  if (gridContainer.value) {\r\n    resizeObserver = new ResizeObserver(() => {\r\n      updateContainerInfo()\r\n    })\r\n    resizeObserver.observe(gridContainer.value)\r\n  }\r\n\r\n  updateContainerInfo()\r\n  window.addEventListener('resize', updateContainerInfo)\r\n})\r\n\r\n// 清理\r\nonUnmounted(() => {\r\n  if (resizeObserver) {\r\n    resizeObserver.disconnect()\r\n  }\r\n  window.removeEventListener('resize', updateContainerInfo)\r\n})\r\n\r\nwatch(\r\n  () => containerInfo,\r\n  () => emit('get-container-size', containerInfo),\r\n  { deep: true }\r\n)\r\n\r\nconst addComponentRef = ref()\r\n\r\nconst openModal = () => {\r\n  addComponentRef.value.open()\r\n}\r\n\r\n// 添加组件时的优化逻辑（自动向后排列，不重新布局）\r\nconst addComponents = (selectedComponents: ComponentItemModel[]) => {\r\n  let addedCount = 0\r\n  const failedComponents: string[] = []\r\n\r\n  selectedComponents.forEach(comp => {\r\n    const position = findAvailablePosition(components.value, comp, containerInfo, gridConfig)\r\n    if (position) {\r\n      const newComponent: ComponentItemModel = {\r\n        ...comp,\r\n        id: `${comp.id}-${Date.now()}-${Math.random().toString(36).substring(2, 11)}`,\r\n        x: position.x,\r\n        y: position.y\r\n      }\r\n\r\n      // 确保组件尺寸正确\r\n      autoFillComponentToGrid(newComponent, gridConfig)\r\n\r\n      // 直接添加组件，不重新布局\r\n      components.value.push(newComponent)\r\n      addedCount++\r\n      console.log(`✓ 成功添加: ${comp.name} 位置: (${position.x}, ${position.y})`)\r\n    } else {\r\n      console.warn(`✗ 找不到合适位置: ${comp.name}`)\r\n      failedComponents.push(comp.name)\r\n    }\r\n  })\r\n\r\n  if (failedComponents.length > 0) {\r\n    Message.warning(`以下组件无法添加（空间不足）：\\n${failedComponents.join('\\n')}`)\r\n    return\r\n  }\r\n\r\n  if (addedCount > 0) {\r\n    console.log(`成功添加 ${addedCount} 个组件`)\r\n  }\r\n\r\n  addComponentRef.value.close()\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.grid-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 60px;\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 0 20px;\r\n\r\n  &_right,\r\n  &_left {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  &_right {\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n\r\n.grid-container {\r\n  display: flex;\r\n  height: calc(100% - 60px);\r\n  overflow: hidden;\r\n  padding: 10px;\r\n  background: #fff;\r\n}\r\n\r\n.grid-content {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n  flex: 1;\r\n  display: grid;\r\n  // background: white;\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  justify-content: start;\r\n  align-content: start;\r\n  min-width: 0;\r\n  /* 防止网格溢出 */\r\n}\r\n\r\n.grid-background {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  pointer-events: none;\r\n  z-index: 0;\r\n  background: #fff;\r\n  display: grid;\r\n\r\n  .grid-cell {\r\n    background: #f0f5f5;\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n","// 导出组件\r\nexport { default as GridDrag } from './components/GridDrag.vue'\r\nexport { default as GridsterItem } from './components/GridsterItem.vue'\r\nexport { default as AddComponent } from './components/AddComponent.vue'\r\n\r\n// 导出类型\r\nexport type {\r\n  ComponentItemModel,\r\n  GridConfig,\r\n  Position,\r\n  Size,\r\n  ContainerInfo\r\n} from './types/layout'\r\n\r\n// 导出工具函数\r\nexport {\r\n  validatePositionWithLayout,\r\n  validateDragPosition,\r\n  findAvailablePosition,\r\n  snapToColumnGridWithSmartHeight,\r\n  reorganizeLayout,\r\n  autoFillComponentToGrid,\r\n  resizeComponentWithAutoFill,\r\n  getAffectedComponents\r\n} from './utils/grid'\r\n\r\n// 导出常量\r\nexport { COLUMNS } from './utils/constant'\r\n\r\n// Vue插件安装函数\r\nimport type { App } from 'vue'\r\nimport GridDrag from './components/GridDrag.vue'\r\nimport GridsterItem from './components/GridsterItem.vue'\r\nimport AddComponent from './components/AddComponent.vue'\r\n\r\nexport function install(app: App): void {\r\n  app.component('GridDrag', GridDrag)\r\n  app.component('GridsterItem', GridsterItem)\r\n  app.component('AddComponent', AddComponent)\r\n}\r\n\r\n// 插件对象\r\nexport interface GridDragPlugin {\r\n  install: (app: App) => void\r\n  GridDrag: typeof GridDrag\r\n  GridsterItem: typeof GridsterItem\r\n  AddComponent: typeof AddComponent\r\n}\r\n\r\n// 默认导出\r\nconst plugin: GridDragPlugin = {\r\n  install,\r\n  GridDrag,\r\n  GridsterItem,\r\n  AddComponent\r\n}\r\n\r\nexport default plugin"],"names":["COLUMNS","MIN_HEIGHT","MIN_WIDTH","findAvailablePosition","components","newComponent","containerInfo","gridConfig","width","containerWidth","height","containerHeight","gap","cellWidth","autoFillComponentToGrid","console","log","name","warn","spanCols","Math","ceil","actualSpanCols","min","columnHeights","Array","fill","comp","startCol","floor","x","compSpanCols","endCol","compBottomY","y","i","max","slice","bestStartCol","minHeight","Infinity","maxHeightInRange","newX","newY","newPosition","parseFloat","toFixed","newSize","existingComp","hasOverlap","snapToColumnGridWithSmartHeight","position","componentSize","currentId","unitWidth","nearestColumn","round","componentCols","maxColumn","snappedX","snappedY","candidateComponents","filter","id","horizontalOverlap","isAbove","length","closestComponent","minDistance","distance","component","minWidth","requiredCols","actualCols","filledWidth","resizeComponentWithAutoFill","actualWidth","actualHeight","finalWidth","finalHeight","handleRightExpansion","resizingComponent","affected","resizedComponent","rightComponents","verticalOverlap","isOnRight","canResize","sort","a","b","newRightEdge","needsPush","pushDistance","requiredDistance","componentsToMove","componentsToWrap","push","allComponents","c","some","rc","findPositionBelowComponent","rightmostX","movedComponent","handleBottomExpansion","bottomComponents","isBelow","newBottomEdge","targetY","overlappingComponents","foundPosition","getAffectedComponents","resizeType","widthIncreased","heightIncreased","positionChanged","otherComponent","rightResult","bottomResult","map","affectedComp","find","ac","allAffected","affectedIds","Set","add","has","handleBottomRightExpansion","hasAnyOverlap","includes","validatePositionWithLayout","size","valid","affectedComponents","currentComponent","pos1","size1","pos2","size2","overlapX","overlapY","validateDragPosition","finalPosition","currentSize","snappedPosition","props","__props","emit","__emit","isDragging","ref","isResizing","currentResizeType","dragStartPosition","dragOffset","componentStyle","computed","left","top","zIndex","value","cursor","getResizeCursor","type","right","bottom","onEdgeMouseDown","edge","e","preventDefault","stopPropagation","onResizeStart","onCornerMouseDown","corner","onDragStart","dataTransfer","setData","effectAllowed","dragImage","currentTarget","setDragImage","rect","getBoundingClientRect","clientX","clientY","onDrag","containerRect","parentElement","pixelX","pixelY","onDragEnd","getOtherComponents","checkLeftGap","otherComponents","checkTopGap","startX","startY","startWidth","startHeight","startXPos","startYPos","onMouseMove","moveEvent","buttons","onMouseUp","deltaX","deltaY","newWidth","newHeight","filledSize","document","removeEventListener","addEventListener","_createElementBlock","class","_normalizeClass","resizing","style","draggable","onDragstart","onDragend","_renderSlot","_ctx","$slots","_createElementVNode","_hoisted_1","onMousedown","_cache","$event","_createVNode","_component_icon_delete","onClick","$emit","visible","selectedComponents","searchQuery","filteredComponents","componentLibrary","query","toLowerCase","isSelected","selected","onComponentClick","index","findIndex","item","splice","onComponentSelect","handleOk","close","__expose","open","_createBlock","_component_a_modal","title","onOk","onCancel","_component_a_alert","_toDisplayString","_hoisted_2","_hoisted_3","_component_a_input","placeholder","_component_a_scrollbar","overflow","_hoisted_4","_Fragment","_renderList","key","_hoisted_6","_hoisted_7","opt","Object","prototype","toString","isNumber","obj","call","isUndefined","isFunction","configProviderInjectionKey","Symbol","getPrefixCls","componentName","_a","_b","_c","instance","getCurrentInstance","configProvider","inject","prefix","prefixCls","appContext","config","globalProperties","classPrefix","getSlotFunction","param","window","_export_sfc","sfc","val","IconHover","defineComponent","String","default","disabled","Boolean","setup","$props","$setup","$data","$options","openBlock","createElementBlock","normalizeClass","renderSlot","_sfc_main","Number","strokeWidth","strokeLinecap","validator","strokeLinejoin","rotate","spin","emits","click","ev","cls","innerStyle","styles","fontSize","transform","_IconClose","viewBox","xmlns","stroke","normalizeStyle","args","createElementVNode","d","IconClose","assign","install","app","options","iconPrefix","_IconInfoCircleFill","IconInfoCircleFill","_IconCheckCircleFill","IconCheckCircleFill","_IconExclamationCircleFill","IconExclamationCircleFill","_IconCloseCircleFill","IconCloseCircleFill","_IconLoading","IconLoading","popupManager","constructor","this","popupStack","popup","dialog","message","getNextZIndex","from","pop","delete","isLastDialog","Message","AIconHover","closable","showIcon","duration","resetOnUpdate","resetOnHover","timer","handleClose","startTimer","setTimeout","clearTimer","clearTimeout","onMounted","onUpdated","onUnmounted","handleMouseEnter","handleMouseLeave","_component_icon_info_circle_fill","resolveComponent","_component_icon_check_circle_fill","_component_icon_exclamation_circle_fill","_component_icon_close_circle_fill","_component_icon_loading","_component_icon_close","_component_a_icon_hover","role","onMouseenter","onMouseleave","icon","createBlock","createCommentVNode","createVNode","withCtx","_","MessageList","messages","context","runOnMounted","watch","visible2","immediate","onBeforeUnmount","readonly","usePopupManager","_slot","TransitionGroup","tag","onAfterLeave","s","slots","content","onClose","isVNode","MessageManger","messageCount","config2","messageIds","update","message2","reactive","remove","clear","destroy","container","render","body","removeChild","messageInstance","popper","createElement","setAttribute","getOverlay","vm","onAfterClose","_context","appendChild","types","reduce","pre","_config","values","forEach","_message","$message","get","addedComponents","set","scrollTop","gridContainer","gridStyle","gridTemplateColumns","gridTemplateRows","gridBackgroundStyle","updateContainerInfo","oldWidth","oldHeight","oldCellWidth","oldContainerInfo","clientWidth","clientHeight","totalGapWidth","updateCellWidth","newCellWidth","oldSize","cellWidthRatio","beforeAdjustment","newContainerInfo","oldStartColumn","oldColumnsSpanned","availableWidth","availableHeight","adaptiveLayoutOnResize","afterAdjustment","before","after","onComponentResize","newData","componentIndex","validationResult","targetComp","fallbackResult","onComponentDrag","dragResult","removeComponent","onDragOver","dropEffect","resizeObserver","ResizeObserver","observe","disconnect","deep","addComponentRef","openModal","addComponents","addedCount","failedComponents","Date","now","random","substring","warning","join","_component_a_space","_component_a_button","onDragover","_unref","GridsterItem","onResize","onRemove","itemData","AddComponent","onConfirm","keys","slot","fn","_withCtx","slotProps","_normalizeProps","_guardReactiveProps","GridDrag","plugin","skipAutoFill","onlyOnSizeIncrease","columnWidth"],"mappings":"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","x_google_ignoreList":[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]}
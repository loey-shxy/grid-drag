(function(M,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],u):(M=typeof globalThis<"u"?globalThis:M||self,u(M.GridDrag={},M.Vue))})(this,(function(M,u){"use strict";function Zi(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(o){o(n)}),(i=e.get("*"))&&i.slice().map(function(o){o(t,n)})}}}function Qi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _e={exports:{}},wn;function En(){if(wn)return _e.exports;wn=1;var e=_e.exports={};return e.forEach=function(t,n){for(var i=0;i<t.length;i++){var o=n(t[i]);if(o)return o}},_e.exports}var Te,Sn;function to(){return Sn||(Sn=1,Te=function(e){var t=e.stateHandler.getState;function n(a){var s=t(a);return s&&!!s.isDetectable}function i(a){t(a).isDetectable=!0}function o(a){return!!t(a).busy}function r(a,s){t(a).busy=!!s}return{isDetectable:n,markAsDetectable:i,isBusy:o,markBusy:r}}),Te}var ze,In;function eo(){return In||(In=1,ze=function(e){var t={};function n(a){var s=e.get(a);return s===void 0?[]:t[s]||[]}function i(a,s){var c=e.get(a);t[c]||(t[c]=[]),t[c].push(s)}function o(a,s){for(var c=n(a),l=0,f=c.length;l<f;++l)if(c[l]===s){c.splice(l,1);break}}function r(a){var s=n(a);s&&(s.length=0)}return{get:n,add:i,removeListener:o,removeAllListeners:r}}),ze}var Me,Cn;function no(){return Cn||(Cn=1,Me=function(){var e=1;function t(){return e++}return{generate:t}}),Me}var ke,_n;function io(){return _n||(_n=1,ke=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function i(r){var a=n(r);return a&&a.id!==void 0?a.id:null}function o(r){var a=n(r);if(!a)throw new Error("setId required the element to have a resize detection state.");var s=t.generate();return a.id=s,s}return{get:i,set:o}}),ke}var De,Tn;function oo(){return Tn||(Tn=1,De=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(o,r){o[r]=function(){var s=console[r];if(s.apply)s.apply(console,arguments);else for(var c=0;c<arguments.length;c++)s(arguments[c])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}),De}var Pe={exports:{}},zn;function Mn(){if(zn)return Pe.exports;zn=1;var e=Pe.exports={};return e.isIE=function(t){function n(){var o=navigator.userAgent.toLowerCase();return o.indexOf("msie")!==-1||o.indexOf("trident")!==-1||o.indexOf(" edge/")!==-1}if(!n())return!1;if(!t)return!0;var i=(function(){var o,r=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++r+"]><i></i><![endif]-->";while(s[0]);return r>4?r:o})();return t===i},e.isLegacyOpera=function(){return!!window.opera},Pe.exports}var Oe={exports:{}},kn;function ro(){if(kn)return Oe.exports;kn=1;var e=Oe.exports={};e.getOption=t;function t(n,i,o){var r=n[i];return r==null&&o!==void 0?o:r}return Oe.exports}var Re,Dn;function so(){if(Dn)return Re;Dn=1;var e=ro();Re=function(i){i=i||{};var o=i.reporter,r=e.getOption(i,"async",!0),a=e.getOption(i,"auto",!0);a&&!r&&(o&&o.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var s=t(),c,l=!1;function f(y,R){!l&&a&&r&&s.size()===0&&g(),s.add(y,R)}function h(){for(l=!0;s.size();){var y=s;s=t(),y.process()}l=!1}function d(y){l||(y===void 0&&(y=r),c&&(S(c),c=null),y?g():h())}function g(){c=w(h)}function S(y){var R=clearTimeout;return R(y)}function w(y){var R=function(z){return setTimeout(z,0)};return R(y)}return{add:f,force:d}};function t(){var n={},i=0,o=0,r=0;function a(l,f){f||(f=l,l=0),l>o?o=l:l<r&&(r=l),n[l]||(n[l]=[]),n[l].push(f),i++}function s(){for(var l=r;l<=o;l++)for(var f=n[l],h=0;h<f.length;h++){var d=f[h];d()}}function c(){return i}return{add:a,process:s,size:c}}return Re}var Ae,Pn;function ao(){if(Pn)return Ae;Pn=1;var e="_erd";function t(o){return o[e]={},n(o)}function n(o){return o[e]}function i(o){delete o[e]}return Ae={initState:t,getState:n,cleanState:i},Ae}var Le,On;function lo(){if(On)return Le;On=1;var e=Mn();return Le=function(t){t=t||{};var n=t.reporter,i=t.batchProcessor,o=t.stateHandler.getState;if(!n)throw new Error("Missing required dependency: reporter.");function r(f,h){function d(){h(f)}if(e.isIE(8))o(f).object={proxy:d},f.attachEvent("onresize",d);else{var g=c(f);if(!g)throw new Error("Element is not detectable by this strategy.");g.contentDocument.defaultView.addEventListener("resize",d)}}function a(f){var h=t.important?" !important; ":"; ";return(f.join(h)+h).trim()}function s(f,h,d){d||(d=h,h=f,f=null),f=f||{},f.debug;function g(S,w){var y=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),R=!1,z=window.getComputedStyle(S),D=S.offsetWidth,k=S.offsetHeight;o(S).startSize={width:D,height:k};function x(){function m(){if(z.position==="static"){S.style.setProperty("position","relative",f.important?"important":"");var j=function(tt,K,at,V){function ut(gt){return gt.replace(/[^-\d\.]/g,"")}var lt=at[V];lt!=="auto"&&ut(lt)!=="0"&&(tt.warn("An element that is positioned static has style."+V+"="+lt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+V+" will be set to 0. Element: ",K),K.style.setProperty(V,"0",f.important?"important":""))};j(n,S,z,"top"),j(n,S,z,"right"),j(n,S,z,"bottom"),j(n,S,z,"left")}}function $(){R||m();function j(K,at){if(!K.contentDocument){var V=o(K);V.checkForObjectDocumentTimeoutId&&window.clearTimeout(V.checkForObjectDocumentTimeoutId),V.checkForObjectDocumentTimeoutId=setTimeout(function(){V.checkForObjectDocumentTimeoutId=0,j(K,at)},100);return}at(K.contentDocument)}var tt=this;j(tt,function(at){w(S)})}z.position!==""&&(m(),R=!0);var _=document.createElement("object");_.style.cssText=y,_.tabIndex=-1,_.type="text/html",_.setAttribute("aria-hidden","true"),_.onload=$,e.isIE()||(_.data="about:blank"),o(S)&&(S.appendChild(_),o(S).object=_,e.isIE()&&(_.data="about:blank"))}i?i.add(x):x()}e.isIE(8)?d(h):g(h,d)}function c(f){return o(f).object}function l(f){if(o(f)){var h=c(f);h&&(e.isIE(8)?f.detachEvent("onresize",h.proxy):f.removeChild(h),o(f).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(f).checkForObjectDocumentTimeoutId),delete o(f).object)}}return{makeDetectable:s,addListener:r,uninstall:l}},Le}var Be,Rn;function co(){if(Rn)return Be;Rn=1;var e=En().forEach;return Be=function(t){t=t||{};var n=t.reporter,i=t.batchProcessor,o=t.stateHandler.getState;t.stateHandler.hasState;var r=t.idHandler;if(!i)throw new Error("Missing required dependency: batchProcessor");if(!n)throw new Error("Missing required dependency: reporter.");var a=h(),s="erd_scroll_detection_scrollbar_style",c="erd_scroll_detection_container";function l(x){d(x,s,c)}l(window.document);function f(x){var m=t.important?" !important; ":"; ";return(x.join(m)+m).trim()}function h(){var x=500,m=500,$=document.createElement("div");$.style.cssText=f(["position: absolute","width: "+x*2+"px","height: "+m*2+"px","visibility: hidden","margin: 0","padding: 0"]);var _=document.createElement("div");_.style.cssText=f(["position: absolute","width: "+x+"px","height: "+m+"px","overflow: scroll","visibility: none","top: "+-x*3+"px","left: "+-m*3+"px","visibility: hidden","margin: 0","padding: 0"]),_.appendChild($),document.body.insertBefore(_,document.body.firstChild);var j=x-_.clientWidth,tt=m-_.clientHeight;return document.body.removeChild(_),{width:j,height:tt}}function d(x,m,$){function _(at,V){V=V||function(lt){x.head.appendChild(lt)};var ut=x.createElement("style");return ut.innerHTML=at,ut.id=m,V(ut),ut}if(!x.getElementById(m)){var j=$+"_animation",tt=$+"_animation_active",K=`/* Created by the element-resize-detector library. */
`;K+="."+$+" > div::-webkit-scrollbar { "+f(["display: none"])+` }

`,K+="."+tt+" { "+f(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+j,"animation-name: "+j])+` }
`,K+="@-webkit-keyframes "+j+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,K+="@keyframes "+j+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",_(K)}}function g(x){x.className+=" "+c+"_animation_active"}function S(x,m,$){if(x.addEventListener)x.addEventListener(m,$);else if(x.attachEvent)x.attachEvent("on"+m,$);else return n.error("[scroll] Don't know how to add event listeners.")}function w(x,m,$){if(x.removeEventListener)x.removeEventListener(m,$);else if(x.detachEvent)x.detachEvent("on"+m,$);else return n.error("[scroll] Don't know how to remove event listeners.")}function y(x){return o(x).container.childNodes[0].childNodes[0].childNodes[0]}function R(x){return o(x).container.childNodes[0].childNodes[0].childNodes[1]}function z(x,m){var $=o(x).listeners;if(!$.push)throw new Error("Cannot add listener to an element that is not detectable.");o(x).listeners.push(m)}function D(x,m,$){$||($=m,m=x,x=null),x=x||{};function _(){if(x.debug){var I=Array.prototype.slice.call(arguments);if(I.unshift(r.get(m),"Scroll: "),n.log.apply)n.log.apply(null,I);else for(var H=0;H<I.length;H++)n.log(I[H])}}function j(I){function H(q){var ht=q.getRootNode&&q.getRootNode().contains(q);return q===q.ownerDocument.body||q.ownerDocument.body.contains(q)||ht}return!H(I)||window.getComputedStyle(I)===null}function tt(I){var H=o(I).container.childNodes[0],q=window.getComputedStyle(H);return!q.width||q.width.indexOf("px")===-1}function K(){var I=window.getComputedStyle(m),H={};return H.position=I.position,H.width=m.offsetWidth,H.height=m.offsetHeight,H.top=I.top,H.right=I.right,H.bottom=I.bottom,H.left=I.left,H.widthCSS=I.width,H.heightCSS=I.height,H}function at(){var I=K();o(m).startSize={width:I.width,height:I.height},_("Element start size",o(m).startSize)}function V(){o(m).listeners=[]}function ut(){if(_("storeStyle invoked."),!o(m)){_("Aborting because element has been uninstalled");return}var I=K();o(m).style=I}function lt(I,H,q){o(I).lastWidth=H,o(I).lastHeight=q}function gt(I){return y(I).childNodes[0]}function J(){return 2*a.width+1}function nt(){return 2*a.height+1}function Z(I){return I+10+J()}function E(I){return I+10+nt()}function O(I){return I*2+J()}function L(I){return I*2+nt()}function X(I,H,q){var ht=y(I),vt=R(I),Tt=Z(H),zt=E(q),ft=O(H),G=L(q);ht.scrollLeft=Tt,ht.scrollTop=zt,vt.scrollLeft=ft,vt.scrollTop=G}function W(){var I=o(m).container;if(!I){I=document.createElement("div"),I.className=c,I.style.cssText=f(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(m).container=I,g(I),m.appendChild(I);var H=function(){o(m).onRendered&&o(m).onRendered()};S(I,"animationstart",H),o(m).onAnimationStart=H}return I}function Y(){function I(){var it=o(m).style;if(it.position==="static"){m.style.setProperty("position","relative",x.important?"important":"");var pt=function(Mt,St,yn,Ft){function Ce(bn){return bn.replace(/[^-\d\.]/g,"")}var mt=yn[Ft];mt!=="auto"&&Ce(mt)!=="0"&&(Mt.warn("An element that is positioned static has style."+Ft+"="+mt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ft+" will be set to 0. Element: ",St),St.style[Ft]=0)};pt(n,m,it,"top"),pt(n,m,it,"right"),pt(n,m,it,"bottom"),pt(n,m,it,"left")}}function H(it,pt,Mt,St){return it=it?it+"px":"0",pt=pt?pt+"px":"0",Mt=Mt?Mt+"px":"0",St=St?St+"px":"0",["left: "+it,"top: "+pt,"right: "+St,"bottom: "+Mt]}if(_("Injecting elements"),!o(m)){_("Aborting because element has been uninstalled");return}I();var q=o(m).container;q||(q=W());var ht=a.width,vt=a.height,Tt=f(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),zt=f(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(H(-(1+ht),-(1+vt),-vt,-ht))),ft=f(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),G=f(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ot=f(["position: absolute","left: 0","top: 0"]),bt=f(["position: absolute","width: 200%","height: 200%"]),xt=document.createElement("div"),yt=document.createElement("div"),Rt=document.createElement("div"),Se=document.createElement("div"),Vt=document.createElement("div"),Ie=document.createElement("div");xt.dir="ltr",xt.style.cssText=Tt,xt.className=c,yt.className=c,yt.style.cssText=zt,Rt.style.cssText=ft,Se.style.cssText=ot,Vt.style.cssText=G,Ie.style.cssText=bt,Rt.appendChild(Se),Vt.appendChild(Ie),yt.appendChild(Rt),yt.appendChild(Vt),xt.appendChild(yt),q.appendChild(xt);function Et(){var it=o(m);it&&it.onExpand?it.onExpand():_("Aborting expand scroll handler: element has been uninstalled")}function Ut(){var it=o(m);it&&it.onShrink?it.onShrink():_("Aborting shrink scroll handler: element has been uninstalled")}S(Rt,"scroll",Et),S(Vt,"scroll",Ut),o(m).onExpandScroll=Et,o(m).onShrinkScroll=Ut}function P(){function I(ft,G,ot){var bt=gt(ft),xt=Z(G),yt=E(ot);bt.style.setProperty("width",xt+"px",x.important?"important":""),bt.style.setProperty("height",yt+"px",x.important?"important":"")}function H(ft){var G=m.offsetWidth,ot=m.offsetHeight,bt=G!==o(m).lastWidth||ot!==o(m).lastHeight;_("Storing current size",G,ot),lt(m,G,ot),i.add(0,function(){if(bt){if(!o(m)){_("Aborting because element has been uninstalled");return}if(!q()){_("Aborting because element container has not been initialized");return}if(x.debug){var yt=m.offsetWidth,Rt=m.offsetHeight;(yt!==G||Rt!==ot)&&n.warn(r.get(m),"Scroll: Size changed before updating detector elements.")}I(m,G,ot)}}),i.add(1,function(){if(!o(m)){_("Aborting because element has been uninstalled");return}if(!q()){_("Aborting because element container has not been initialized");return}X(m,G,ot)}),bt&&ft&&i.add(2,function(){if(!o(m)){_("Aborting because element has been uninstalled");return}if(!q()){_("Aborting because element container has not been initialized");return}ft()})}function q(){return!!o(m).container}function ht(){function ft(){return o(m).lastNotifiedWidth===void 0}_("notifyListenersIfNeeded invoked");var G=o(m);if(ft()&&G.lastWidth===G.startSize.width&&G.lastHeight===G.startSize.height)return _("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(G.lastWidth===G.lastNotifiedWidth&&G.lastHeight===G.lastNotifiedHeight)return _("Not notifying: Size already notified");_("Current size not notified, notifying..."),G.lastNotifiedWidth=G.lastWidth,G.lastNotifiedHeight=G.lastHeight,e(o(m).listeners,function(ot){ot(m)})}function vt(){if(_("startanimation triggered."),tt(m)){_("Ignoring since element is still unrendered...");return}_("Element rendered.");var ft=y(m),G=R(m);(ft.scrollLeft===0||ft.scrollTop===0||G.scrollLeft===0||G.scrollTop===0)&&(_("Scrollbars out of sync. Updating detector elements..."),H(ht))}function Tt(){if(_("Scroll detected."),tt(m)){_("Scroll event fired while unrendered. Ignoring...");return}H(ht)}if(_("registerListenersAndPositionElements invoked."),!o(m)){_("Aborting because element has been uninstalled");return}o(m).onRendered=vt,o(m).onExpand=Tt,o(m).onShrink=Tt;var zt=o(m).style;I(m,zt.width,zt.height)}function Q(){if(_("finalizeDomMutation invoked."),!o(m)){_("Aborting because element has been uninstalled");return}var I=o(m).style;lt(m,I.width,I.height),X(m,I.width,I.height)}function U(){$(m)}function dt(){_("Installing..."),V(),at(),i.add(0,ut),i.add(1,Y),i.add(2,P),i.add(3,Q),i.add(4,U)}_("Making detectable..."),j(m)?(_("Element is detached"),W(),_("Waiting until element is attached..."),o(m).onRendered=function(){_("Element is now attached"),dt()}):dt()}function k(x){var m=o(x);m&&(m.onExpandScroll&&w(y(x),"scroll",m.onExpandScroll),m.onShrinkScroll&&w(R(x),"scroll",m.onShrinkScroll),m.onAnimationStart&&w(m.container,"animationstart",m.onAnimationStart),m.container&&x.removeChild(m.container))}return{makeDetectable:D,addListener:z,uninstall:k,initDocument:l}},Be}var He,An;function uo(){if(An)return He;An=1;var e=En().forEach,t=to(),n=eo(),i=no(),o=io(),r=oo(),a=Mn(),s=so(),c=ao(),l=lo(),f=co();function h(w){return Array.isArray(w)||w.length!==void 0}function d(w){if(Array.isArray(w))return w;var y=[];return e(w,function(R){y.push(R)}),y}function g(w){return w&&w.nodeType===1}He=function(w){w=w||{};var y;if(w.idHandler)y={get:function(J){return w.idHandler.get(J,!0)},set:w.idHandler.set};else{var R=i(),z=o({idGenerator:R,stateHandler:c});y=z}var D=w.reporter;if(!D){var k=D===!1;D=r(k)}var x=S(w,"batchProcessor",s({reporter:D})),m={};m.callOnAdd=!!S(w,"callOnAdd",!0),m.debug=!!S(w,"debug",!1);var $=n(y),_=t({stateHandler:c}),j,tt=S(w,"strategy","object"),K=S(w,"important",!1),at={reporter:D,batchProcessor:x,stateHandler:c,idHandler:y,important:K};if(tt==="scroll"&&(a.isLegacyOpera()?(D.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),tt="object"):a.isIE(9)&&(D.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),tt="object")),tt==="scroll")j=f(at);else if(tt==="object")j=l(at);else throw new Error("Invalid strategy name: "+tt);var V={};function ut(J,nt,Z){function E(P){var Q=$.get(P);e(Q,function(dt){dt(P)})}function O(P,Q,U){$.add(Q,U),P&&U(Q)}if(Z||(Z=nt,nt=J,J={}),!nt)throw new Error("At least one element required.");if(!Z)throw new Error("Listener required.");if(g(nt))nt=[nt];else if(h(nt))nt=d(nt);else return D.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var L=0,X=S(J,"callOnAdd",m.callOnAdd),W=S(J,"onReady",function(){}),Y=S(J,"debug",m.debug);e(nt,function(Q){c.getState(Q)||(c.initState(Q),y.set(Q));var U=y.get(Q);if(Y&&D.log("Attaching listener to element",U,Q),!_.isDetectable(Q)){if(Y&&D.log(U,"Not detectable."),_.isBusy(Q)){Y&&D.log(U,"System busy making it detectable"),O(X,Q,Z),V[U]=V[U]||[],V[U].push(function(){L++,L===nt.length&&W()});return}return Y&&D.log(U,"Making detectable..."),_.markBusy(Q,!0),j.makeDetectable({debug:Y,important:K},Q,function(I){if(Y&&D.log(U,"onElementDetectable"),c.getState(I)){_.markAsDetectable(I),_.markBusy(I,!1),j.addListener(I,E),O(X,I,Z);var H=c.getState(I);if(H&&H.startSize){var q=I.offsetWidth,ht=I.offsetHeight;(H.startSize.width!==q||H.startSize.height!==ht)&&E(I)}V[U]&&e(V[U],function(vt){vt()})}else Y&&D.log(U,"Element uninstalled before being detectable.");delete V[U],L++,L===nt.length&&W()})}Y&&D.log(U,"Already detecable, adding listener."),O(X,Q,Z),L++}),L===nt.length&&W()}function lt(J){if(!J)return D.error("At least one element is required.");if(g(J))J=[J];else if(h(J))J=d(J);else return D.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e(J,function(nt){$.removeAllListeners(nt),j.uninstall(nt),c.cleanState(nt)})}function gt(J){j.initDocument&&j.initDocument(J)}return{listenTo:ut,removeListener:$.removeListener,removeAllListeners:$.removeAllListeners,uninstall:lt,initDocument:gt}};function S(w,y,R){var z=w[y];return z==null&&R!==void 0?R:z}return He}var fo=uo();const ho=Qi(fo),et={init:po,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function qt(){}function po(e){const t=e;et.document=t.document,et.DocumentFragment=t.DocumentFragment||qt,et.SVGElement=t.SVGElement||qt,et.SVGSVGElement=t.SVGSVGElement||qt,et.SVGElementInstance=t.SVGElementInstance||qt,et.Element=t.Element||qt,et.HTMLElement=t.HTMLElement||et.Element,et.Event=t.Event,et.Touch=t.Touch||qt,et.PointerEvent=t.PointerEvent||t.MSPointerEvent}var Ln=e=>!!(e&&e.Window)&&e instanceof e.Window;let Bn,kt;function Hn(e){Bn=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),kt=e}typeof window<"u"&&window&&Hn(window);function Lt(e){return Ln(e)?e:(e.ownerDocument||e).defaultView||kt.window}const mo=e=>e===kt||Ln(e),go=e=>ae(e)&&e.nodeType===11,ae=e=>!!e&&typeof e=="object",Nn=e=>typeof e=="function";var v={window:mo,docFrag:go,object:ae,func:Nn,number:e=>typeof e=="number",bool:e=>typeof e=="boolean",string:e=>typeof e=="string",element:e=>{if(!e||typeof e!="object")return!1;const t=Lt(e)||kt;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:e=>ae(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),array:e=>ae(e)&&typeof e.length<"u"&&Nn(e.splice)};const rt={init:vo,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function vo(e){const t=et.Element,n=e.navigator||{};rt.supportsTouch="ontouchstart"in e||v.func(e.DocumentTouch)&&et.document instanceof e.DocumentTouch,rt.supportsPointerEvent=n.pointerEnabled!==!1&&!!et.PointerEvent,rt.isIOS=/iP(hone|od|ad)/.test(n.platform),rt.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),rt.isIe9=/MSIE 9/.test(n.userAgent),rt.isOperaMobile=n.appName==="Opera"&&rt.supportsTouch&&/Presto/.test(n.userAgent),rt.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",rt.pEventTypes=rt.supportsPointerEvent?et.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,rt.wheelEvent=et.document&&"onmousewheel"in et.document?"mousewheel":"wheel"}function Bt(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Wn(e,t){for(;v.element(e);){if(Ht(e,t))return e;e=Dt(e)}return null}function Dt(e){let t=e.parentNode;if(v.docFrag(t)){for(;(t=t.host)&&v.docFrag(t););return t}return t}function Ht(e,t){return kt!==Bn&&(t=t.replace(/\/deep\//g," ")),e[rt.prefixedMatchesSelector](t)}function Ne(e,t,n){for(;v.element(e);){if(Ht(e,t))return!0;if(e=Dt(e),e===n)return Ht(e,t)}return!1}function $n(e){return e.correspondingUseElement||e}function yo(e){return e=e||kt,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function We(e){const t=e instanceof et.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function $e(e){const t=We(e);if(!rt.isIOS7&&t){const n=yo(Lt(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function Fn(e){return v.string(e)?(et.document.querySelector(e),!0):!1}function A(e,t){for(const i in t)e[i]=t[i];return e}function Jt(e,t){let n=!1;return function(){return n||(kt.console.warn(t),n=!0),e.apply(this,arguments)}}function jn(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function bo(e){const{Interactable:t}=e;t.prototype.getAction=function(i,o,r,a){const s=xo(this,o,r,a,e);return this.options.actionChecker?this.options.actionChecker(i,o,s,this,a,r):s},t.prototype.ignoreFrom=Jt(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Jt(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Eo,t.prototype.styleCursor=wo}function xo(e,t,n,i,o){const r=e.getRect(i),a=t.buttons||{0:1,1:4,3:8,4:16}[t.button],s={action:null,interactable:e,interaction:n,element:i,rect:r,buttons:a};return o.fire("auto-start:check",s),s.action}function wo(e){return v.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Eo(e){return v.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}var So={id:"auto-start/interactableMethods",install:bo};function Io(e){const{interactStatic:t,defaults:n}=e;e.usePlugin(So),n.base.actionChecker=null,n.base.styleCursor=!0,A(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=i=>Gn(i,e),e.autoStart={maxInteractions:1/0,withinInteractionLimit:le,cursorElement:null}}function Co(e,t){let{interaction:n,pointer:i,event:o,eventTarget:r}=e;if(n.interacting())return;const a=Xn(n,i,o,r,t);Yn(n,a,t)}function _o(e,t){let{interaction:n,pointer:i,event:o,eventTarget:r}=e;if(n.pointerType!=="mouse"||n.pointerIsDown||n.interacting())return;const a=Xn(n,i,o,r,t);Yn(n,a,t)}function To(e,t){const{interaction:n}=e;if(!n.pointerIsDown||n.interacting()||!n.pointerWasMoved||!n.prepared.name)return;t.fire("autoStart:before-start",e);const{interactable:i}=n,o=n.prepared.name;o&&i&&(i.options[o].manualStart||!le(i,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,i,n.element),Vn(n,t)))}function zo(e,t){let{interaction:n}=e;const{interactable:i}=n;i&&i.options.styleCursor&&Fe(n.element,"",t)}function qn(e,t,n,i,o){return t.testIgnoreAllow(t.options[e.name],n,i)&&t.options[e.name].enabled&&le(t,n,e,o)?e:null}function Mo(e,t,n,i,o,r,a){for(let s=0,c=i.length;s<c;s++){const l=i[s],f=o[s],h=l.getAction(t,n,e,f);if(!h)continue;const d=qn(h,l,f,r,a);if(d)return{action:d,interactable:l,element:f}}return{action:null,interactable:null,element:null}}function Xn(e,t,n,i,o){let r=[],a=[],s=i;function c(l){r.push(l),a.push(s)}for(;v.element(s);){r=[],a=[],o.interactables.forEachMatch(s,c);const l=Mo(e,t,n,r,a,i,o);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;s=Dt(s)}return{action:null,interactable:null,element:null}}function Yn(e,t,n){let{action:i,interactable:o,element:r}=t;i=i||{name:null},e.interactable=o,e.element=r,jn(e.prepared,i),e.rect=o&&i.name?o.getRect(r):null,Vn(e,n),n.fire("autoStart:prepared",{interaction:e})}function le(e,t,n,i){const o=e.options,r=o[n.name].max,a=o[n.name].maxPerElement,s=i.autoStart.maxInteractions;let c=0,l=0,f=0;if(!(r&&a&&s))return!1;for(const h of i.interactions.list){const d=h.prepared.name;if(h.interacting()){if(c++,c>=s)return!1;if(h.interactable===e&&(l+=d===n.name?1:0,l>=r||h.element===t&&(f++,d===n.name&&f>=a)))return!1}}return s>0}function Gn(e,t){return v.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Fe(e,t,n){const{cursorElement:i}=n.autoStart;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Vn(e,t){const{interactable:n,element:i,prepared:o}=e;if(!(e.pointerType==="mouse"&&n&&n.options.styleCursor)){t.autoStart.cursorElement&&Fe(t.autoStart.cursorElement,"",t);return}let r="";if(o.name){const a=n.options[o.name].cursorChecker;v.func(a)?r=a(o,n,i,e._interacting):r=t.actions.map[o.name].getCursor(o)}Fe(e.element,r||"",t)}const je={id:"auto-start/base",before:["actions"],install:Io,listeners:{"interactions:down":Co,"interactions:move":(e,t)=>{_o(e,t),To(e,t)},"interactions:stop":zo},maxInteractions:Gn,withinInteractionLimit:le,validateAction:qn};function ko(e,t){let{interaction:n,eventTarget:i,dx:o,dy:r}=e;if(n.prepared.name!=="drag")return;const a=Math.abs(o),s=Math.abs(r),c=n.interactable.options.drag,l=c.startAxis,f=a>s?"x":a<s?"y":"xy";if(n.prepared.axis=c.lockAxis==="start"?f[0]:c.lockAxis,f!=="xy"&&l!=="xy"&&l!==f){n.prepared.name=null;let h=i;const d=function(g){if(g===n.interactable)return;const S=n.interactable.options.drag;if(!S.manualStart&&g.testIgnoreAllow(S,h,i)){const w=g.getAction(n.downPointer,n.downEvent,n,h);if(w&&w.name==="drag"&&Do(f,g)&&je.validateAction(w,g,h,i,t))return g}};for(;v.element(h);){const g=t.interactables.forEachMatch(h,d);if(g){n.prepared.name="drag",n.interactable=g,n.element=h;break}h=Dt(h)}}}function Do(e,t){if(!t)return!1;const n=t.options.drag.startAxis;return e==="xy"||n==="xy"||n===e}var Po={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":ko}};function Oo(e){const{defaults:t}=e;e.usePlugin(je),t.perAction.hold=0,t.perAction.delay=0}function qe(e){const t=e.prepared&&e.prepared.name;if(!t)return null;const n=e.interactable.options;return n[t].hold||n[t].delay}const Ro={id:"auto-start/hold",install:Oo,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.autoStartHoldTimer=null},"autoStart:prepared":e=>{let{interaction:t}=e;const n=qe(t);n>0&&(t.autoStartHoldTimer=setTimeout(()=>{t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":e=>{let{interaction:t,duplicate:n}=e;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":e=>{let{interaction:t}=e;qe(t)>0&&(t.prepared.name=null)}},getHoldDuration:qe};var Ao={id:"auto-start",install(e){e.usePlugin(je),e.usePlugin(Ro),e.usePlugin(Po)}};const Un=(e,t)=>{for(const n of t)e.push(n);return e},Kn=e=>Un([],e),ce=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},ue=(e,t)=>e[ce(e,t)];function Xt(e){const t={};for(const n in e){const i=e[n];v.plainObject(i)?t[n]=Xt(i):v.array(i)?t[n]=Kn(i):t[n]=i}return t}let Jn=0,It,Nt;function Lo(e){if(It=e.requestAnimationFrame,Nt=e.cancelAnimationFrame,!It){const t=["ms","moz","webkit","o"];for(const n of t)It=e[`${n}RequestAnimationFrame`],Nt=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}It=It&&It.bind(e),Nt=Nt&&Nt.bind(e),It||(It=t=>{const n=Date.now(),i=Math.max(0,16-(n-Jn)),o=e.setTimeout(()=>{t(n+i)},i);return Jn=n+i,o},Nt=t=>clearTimeout(t))}var Yt={request:e=>It(e),cancel:e=>Nt(e),init:Lo};function Wt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o=>!0,i=arguments.length>3?arguments[3]:void 0;if(i=i||{},v.string(e)&&e.search(" ")!==-1&&(e=Zn(e)),v.array(e))return e.forEach(o=>Wt(o,t,n,i)),i;if(v.object(e)&&(t=e,e=""),v.func(t)&&n(e))i[e]=i[e]||[],i[e].push(t);else if(v.array(t))for(const o of t)Wt(e,o,n,i);else if(v.object(t))for(const o in t){const r=Zn(o).map(a=>`${e}${a}`);Wt(r,t[o],n,i)}return i}function Zn(e){return e.trim().split(/ +/)}function Qn(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class ti{constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=A({},t||{})}fire(t){let n;const i=this.global;(n=this.types[t.type])&&Qn(t,n),!t.propagationStopped&&i&&(n=i[t.type])&&Qn(t,n)}on(t,n){const i=Wt(t,n);for(t in i)this.types[t]=Un(this.types[t]||[],i[t])}off(t,n){const i=Wt(t,n);for(t in i){const o=this.types[t];if(!(!o||!o.length))for(const r of i[t]){const a=o.indexOf(r);a!==-1&&o.splice(a,1)}}}getRect(t){return null}}const Bo=["webkit","moz"];function ei(e,t){e.__set||(e.__set={});for(const n in t)Bo.some(i=>n.indexOf(i)===0)||typeof e[n]!="function"&&n!=="__set"&&Object.defineProperty(e,n,{get(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set(i){e.__set[n]=i},configurable:!0});return e}var fe=(e,t)=>Math.sqrt(e*e+t*t);function Xe(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function Ho(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function No(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function Wo(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function ni(e){return e instanceof et.Event||e instanceof et.Touch}function de(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function $o(e,t){return t=t||{x:0,y:0},rt.isOperaMobile&&ni(e)?(de("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):de("page",e,t),t}function Fo(e,t){return t=t||{},rt.isOperaMobile&&ni(e)?de("screen",e,t):de("client",e,t),t}function he(e){return v.number(e.pointerId)?e.pointerId:e.identifier}function jo(e,t,n){const i=t.length>1?ii(t):t[0];$o(i,e.page),Fo(i,e.client),e.timeStamp=n}function Ye(e){const t=[];return v.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function ii(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const i in t)t[i]+=n[i];for(const n in t)t[n]/=e.length;return t}function qo(e){if(!e.length)return null;const t=Ye(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:r,width:o-n,height:r-i}}function Xo(e,t){const n=t+"X",i=t+"Y",o=Ye(e),r=o[0][n]-o[1][n],a=o[0][i]-o[1][i];return fe(r,a)}function Yo(e,t){const n=t+"X",i=t+"Y",o=Ye(e),r=o[1][n]-o[0][n],a=o[1][i]-o[0][i];return 180*Math.atan2(a,r)/Math.PI}function Go(e){return v.string(e.pointerType)?e.pointerType:v.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof et.Touch?"touch":"mouse"}function oi(e){const t=v.func(e.composedPath)?e.composedPath():e.path;return[$n(t?t[0]:e.target),$n(e.currentTarget)]}function Zt(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function Vo(e){var t;const n=[],i={},o=[],r={add:a,remove:s,addDelegate:c,removeDelegate:l,delegateListener:f,delegateUseCapture:h,delegatedEvents:i,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r;function a(d,g,S,w){if(!d.addEventListener)return;const y=Qt(w);let R=ue(n,z=>z.eventTarget===d);R||(R={eventTarget:d,events:{}},n.push(R)),R.events[g]||(R.events[g]=[]),ue(R.events[g],z=>z.func===S&&pe(z.options,y))||(d.addEventListener(g,S,r.supportsOptions?y:y.capture),R.events[g].push({func:S,options:y}))}function s(d,g,S,w){if(!d.addEventListener||!d.removeEventListener)return;const y=ce(n,k=>k.eventTarget===d),R=n[y];if(!R||!R.events)return;if(g==="all"){for(g in R.events)R.events.hasOwnProperty(g)&&s(d,g,"all");return}let z=!1;const D=R.events[g];if(D)if(S==="all"){for(let k=D.length-1;k>=0;k--){const x=D[k];s(d,g,x.func,x.options)}return}else{const k=Qt(w);for(let x=0;x<D.length;x++){const m=D[x];if(m.func===S&&pe(m.options,k)){d.removeEventListener(g,S,r.supportsOptions?k:k.capture),D.splice(x,1),D.length===0&&(delete R.events[g],z=!0);break}}}z&&!Object.keys(R.events).length&&n.splice(y,1)}function c(d,g,S,w,y){const R=Qt(y);if(!i[S]){i[S]=[];for(const k of o)a(k,S,f),a(k,S,h,!0)}const z=i[S];let D=ue(z,k=>k.selector===d&&k.context===g);D||(D={selector:d,context:g,listeners:[]},z.push(D)),D.listeners.push({func:w,options:R})}function l(d,g,S,w,y){const R=Qt(y),z=i[S];let D=!1,k;if(z)for(k=z.length-1;k>=0;k--){const x=z[k];if(x.selector===d&&x.context===g){const{listeners:m}=x;for(let $=m.length-1;$>=0;$--){const _=m[$];if(_.func===w&&pe(_.options,R)){m.splice($,1),m.length||(z.splice(k,1),s(g,S,f),s(g,S,h,!0)),D=!0;break}}if(D)break}}}function f(d,g){const S=Qt(g),w=new Uo(d),y=i[d.type],[R]=oi(d);let z=R;for(;v.element(z);){for(let D=0;D<y.length;D++){const k=y[D],{selector:x,context:m}=k;if(Ht(z,x)&&Bt(m,R)&&Bt(m,z)){const{listeners:$}=k;w.currentTarget=z;for(const _ of $)pe(_.options,S)&&_.func(w)}}z=Dt(z)}}function h(d){return f.call(this,d,!0)}return r}class Uo{constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,ei(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function Qt(e){return v.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function pe(e,t){return e===t?!0:typeof e=="boolean"?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive}var Ko={id:"events",install:Vo};const Jo=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):v.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function Zo(e,t,n){const i=e.options.preventDefault;if(i!=="never"){if(i==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const o=Lt(n.target).document,r=t.getDocOptions(o);if(!(r&&r.events)||r.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||v.element(n.target)&&Ht(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function Qo(e){let{interaction:t,event:n}=e;t.interactable&&t.interactable.checkAndPreventDefault(n)}function tr(e){const{Interactable:t}=e;t.prototype.preventDefault=Jo,t.prototype.checkAndPreventDefault=function(n){return Zo(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const i of e.interactions.list)if(i.element&&(i.element===n.target||Bt(i.element,n.target))){i.interactable.checkAndPreventDefault(n);return}}})}var er={id:"core/interactablePreventDefault",install:tr,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=Qo,e),{})};function ri(e,t,n){return e==="parent"?Dt(n):e==="self"?t.getRect(n):Wn(n,e)}function te(e,t,n,i){let o=e;return v.string(o)?o=ri(o,t,n):v.func(o)&&(o=o(...i)),v.element(o)&&(o=$e(o)),o}function me(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function nr(e){return e&&!("left"in e&&"top"in e)&&(e=A({},e),e.left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}function si(e){return e&&!("x"in e&&"y"in e)&&(e=A({},e),e.x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function Ge(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function Ve(e,t,n){const i=n&&e.options[n],r=i&&i.origin||e.options.origin,a=te(r,e,t,[e&&t]);return me(a)||{x:0,y:0}}class ai{constructor(t){this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(ai.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const li={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class Ue extends ai{constructor(t,n,i,o,r,a,s){super(t),this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.axes=void 0,this.preEnd=void 0,r=r||t.element;const c=t.interactable,l=(c&&c.options||li).deltaSource,f=Ve(c,r,i),h=o==="start",d=o==="end",g=h?this:t.prevEvent,S=h?t.coords.start:d?{page:g.page,client:g.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=A({},S.page),this.client=A({},S.client),this.rect=A({},t.rect),this.timeStamp=S.timeStamp,d||(this.page.x-=f.x,this.page.y-=f.y,this.client.x-=f.x,this.client.y-=f.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=r,this.currentTarget=r,this.preEnd=a,this.type=s||i+(o||""),this.interactable=c,this.t0=h?t.pointers[t.pointers.length-1].downTime:g.t0,this.x0=t.coords.start.page.x-f.x,this.y0=t.coords.start.page.y-f.y,this.clientX0=t.coords.start.client.x-f.x,this.clientY0=t.coords.start.client.y-f.y,h||d?this.delta={x:0,y:0}:this.delta={x:this[l].x-g[l].x,y:this[l].y-g[l].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=A({},t.coords.velocity[l]),this.speed=fe(this.velocity.x,this.velocity.y),this.swipe=d||o==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;const i=22.5;n<0&&(n+=360);const o=135-i<=n&&n<225+i,r=225-i<=n&&n<315+i,a=!o&&(315-i<=n||n<45+i),s=!r&&45-i<=n&&n<135+i;return{up:r,down:s,left:o,right:a,angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(Ue.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});class ir{constructor(t,n,i,o,r){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=r}}let or=(function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e})({}),rr=(function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e})({}),sr=0;class ar{get pointerMoveTolerance(){return 1}constructor(t){this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Jt(function(r){this.move(r)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:Zt(),prev:Zt(),cur:Zt(),delta:Zt(),velocity:Zt()},this._id=sr++;let{pointerType:n,scopeFire:i}=t;this._scopeFire=i,this.pointerType=n;const o=this;this._proxy={};for(const r in or)Object.defineProperty(this._proxy,r,{get(){return o[r]}});for(const r in rr)Object.defineProperty(this._proxy,r,{value:function(){return o[r](...arguments)}});this._scopeFire("interactions:new",{interaction:this})}pointerDown(t,n,i){const o=this.updatePointer(t,n,i,!0),r=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:i,pointerIndex:o,pointerInfo:r,type:"down",interaction:this})}start(t,n,i){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(jn(this.prepared,t),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?A({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,i){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,i,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let r,a;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=fe(r,a)>this.pointerMoveTolerance);const s=this.getPointerIndex(t),c={pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,type:"move",eventTarget:i,dx:r,dy:a,duplicate:o,interaction:this};o||No(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",c),!o&&!this.simulation&&(this.interacting()&&(c.type=null,this.move(c)),this.pointerWasMoved&&Xe(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&Wo(this.coords.delta),t=A({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,i,o){let r=this.getPointerIndex(t);r===-1&&(r=this.updatePointer(t,n,i,!1));const a=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${a}`,{pointer:t,pointerIndex:r,pointerInfo:this.pointers[r],event:n,eventTarget:i,type:a,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=he(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:ce(this.pointers,i=>i.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,i,o){const r=he(t);let a=this.getPointerIndex(t),s=this.pointers[a];return o=o===!1?!1:o||/(down|start)$/i.test(n.type),s?s.pointer=t:(s=new ir(r,t,n,null,null),a=this.pointers.length,this.pointers.push(s)),jo(this.coords.cur,this.pointers.map(c=>c.pointer),this._now()),Ho(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,s.downTime=this.coords.cur.timeStamp,s.downTarget=i,ei(this.downPointer,t),this.interacting()||(Xe(this.coords.start,this.coords.cur),Xe(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,i),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:i,down:o,pointerInfo:s,pointerIndex:a,interaction:this}),a}removePointer(t,n){const i=this.getPointerIndex(t);if(i===-1)return;const o=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:i,pointerInfo:o,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,i){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=i}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,i,o){return new Ue(this,t,this.prepared.name,n,this.element,i,o)}_fireEvent(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:i,preEnd:o,type:r}=t,{rect:a}=this;if(a&&i==="move"&&(Ge(this.edges,a,this.coords.delta[this.interactable.options.deltaSource]),a.width=a.right-a.left,a.height=a.bottom-a.top),this._scopeFire(`interactions:before-action-${i}`,t)===!1)return!1;const c=t.iEvent=this._createPreparedEvent(n,i,o,r);return this._scopeFire(`interactions:action-${i}`,t),i==="start"&&(this.prevEvent=c),this._fireEvent(c),this._scopeFire(`interactions:after-action-${i}`,t),!0}_now(){return Date.now()}}const Ke={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of Ke.methodOrder){const n=Ke[t](e);if(n)return n}return null},simulationResume(e){let{pointerType:t,eventType:n,eventTarget:i,scope:o}=e;if(!/down|start/i.test(n))return null;for(const r of o.interactions.list){let a=i;if(r.simulation&&r.simulation.allowResume&&r.pointerType===t)for(;a;){if(a===r.element)return r;a=Dt(a)}}return null},mouseOrPen(e){let{pointerId:t,pointerType:n,eventType:i,scope:o}=e;if(n!=="mouse"&&n!=="pen")return null;let r;for(const a of o.interactions.list)if(a.pointerType===n){if(a.simulation&&!ci(a,t))continue;if(a.interacting())return a;r||(r=a)}if(r)return r;for(const a of o.interactions.list)if(a.pointerType===n&&!(/down/i.test(i)&&a.simulation))return a;return null},hasPointer(e){let{pointerId:t,scope:n}=e;for(const i of n.interactions.list)if(ci(i,t))return i;return null},idle(e){let{pointerType:t,scope:n}=e;for(const i of n.interactions.list){if(i.pointers.length===1){const o=i.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function ci(e,t){return e.pointers.some(n=>{let{id:i}=n;return i===t})}const ui=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function lr(e){const t={};for(const r of ui)t[r]=fi(r,e);const n=rt.pEventTypes;let i;et.PointerEvent?i=[{type:n.down,listener:o},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:i=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],i.push({type:"blur",listener(r){for(const a of e.interactions.list)a.documentBlur(r)}}),e.prevTouchTime=0,e.Interaction=class extends ar{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(r){e.interactions.pointerMoveTolerance=r}_now(){return e.now()}},e.interactions={list:[],new(r){r.scopeFire=(s,c)=>e.fire(s,c);const a=new e.Interaction(r);return e.interactions.list.push(a),a},listeners:t,docEvents:i,pointerMoveTolerance:1};function o(){for(const r of e.interactions.list)if(!(!r.pointerIsDown||r.pointerType!=="touch"||r._interacting))for(const a of r.pointers)e.documents.some(s=>{let{doc:c}=s;return Bt(c,a.downTarget)})||r.removePointer(a.pointer,a.event)}e.usePlugin(er)}function fi(e,t){return function(n){const i=t.interactions.list,o=Go(n),[r,a]=oi(n),s=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const c of n.changedTouches){const l=c,f=he(l),h={pointer:l,pointerId:f,pointerType:o,eventType:n.type,eventTarget:r,curEventTarget:a,scope:t},d=di(h);s.push([h.pointer,h.eventTarget,h.curEventTarget,d])}}else{let c=!1;if(!rt.supportsPointerEvent&&/mouse/.test(n.type)){for(let l=0;l<i.length&&!c;l++)c=i[l].pointerType!=="mouse"&&i[l].pointerIsDown;c=c||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!c){const l={pointer:n,pointerId:he(n),pointerType:o,eventType:n.type,curEventTarget:a,eventTarget:r,scope:t},f=di(l);s.push([l.pointer,l.eventTarget,l.curEventTarget,f])}}for(const[c,l,f,h]of s)h[e](c,n,l,f)}}function di(e){const{pointerType:t,scope:n}=e,o={interaction:Ke.search(e),searchDetails:e};return n.fire("interactions:find",o),o.interaction||n.interactions.new({pointerType:t})}function Je(e,t){let{doc:n,scope:i,options:o}=e;const{interactions:{docEvents:r},events:a}=i,s=a[t];i.browser.isIOS&&!o.events&&(o.events={passive:!1});for(const l in a.delegatedEvents)s(n,l,a.delegateListener),s(n,l,a.delegateUseCapture,!0);const c=o&&o.events;for(const{type:l,listener:f}of r)s(n,l,f,c)}const cr={id:"core/interactions",install:lr,listeners:{"scope:add-document":e=>Je(e,"add"),"scope:remove-document":e=>Je(e,"remove"),"interactable:unset":(e,t)=>{let{interactable:n}=e;for(let i=t.interactions.list.length-1;i>=0;i--){const o=t.interactions.list[i];o.interactable===n&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(i,1))}}},onDocSignal:Je,doOnInteractions:fi,methodNames:ui};function ee(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}var Pt=(function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e})(Pt||{});class ur{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(t,n,i,o){this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new ti,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=Lt(Fn(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}setOnEvents(t,n){return v.func(n.onstart)&&this.on(`${t}start`,n.onstart),v.func(n.onmove)&&this.on(`${t}move`,n.onmove),v.func(n.onend)&&this.on(`${t}end`,n.onend),v.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,i){var o;const r=(o=this._actions.map[t])==null?void 0:o.filterEventType,a=s=>(r==null||r(s))&&ee(s,this._actions);(v.array(n)||v.object(n))&&this._onOff(Pt.Off,t,n,void 0,a),(v.array(i)||v.object(i))&&this._onOff(Pt.On,t,i,void 0,a)}setPerAction(t,n){const i=this._defaults;for(const o in n){const r=o,a=this.options[t],s=n[r];r==="listeners"&&this.updatePerActionListeners(t,a.listeners,s),v.array(s)?a[r]=Kn(s):v.plainObject(s)?(a[r]=A(a[r]||{},Xt(s)),v.object(i.perAction[r])&&"enabled"in i.perAction[r]&&(a[r].enabled=s.enabled!==!1)):v.bool(s)&&v.object(i.perAction[r])?a[r].enabled=s:a[r]=s}}getRect(t){return t=t||(v.element(this.target)?this.target:null),v.string(this.target)&&(t=t||this._context.querySelector(this.target)),$e(t)}rectChecker(t){return v.func(t)?(this.getRect=n=>{const i=A({},t.apply(this,n));return"width"in i||(i.width=i.right-i.left,i.height=i.bottom-i.top),i},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,n){if(Fn(n)||v.object(n)){this.options[t]=n;for(const i in this._actions.map)this.options[i][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}getAllElements(){const{target:t}=this;return v.string(t)?Array.from(this._context.querySelectorAll(t)):v.func(t)&&t.getAllElements?t.getAllElements():v.element(t)?[t]:[]}context(){return this._context}inContext(t){return this._context===t.ownerDocument||Bt(this._context,t)}testIgnoreAllow(t,n,i){return!this.testIgnore(t.ignoreFrom,n,i)&&this.testAllow(t.allowFrom,n,i)}testAllow(t,n,i){return t?v.element(i)?v.string(t)?Ne(i,t,n):v.element(t)?Bt(t,i):!1:!1:!0}testIgnore(t,n,i){return!t||!v.element(i)?!1:v.string(t)?Ne(i,t,n):v.element(t)?Bt(t,i):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,i,o,r){v.object(n)&&!v.array(n)&&(o=i,i=null);const a=Wt(n,i,r);for(let s in a){s==="wheel"&&(s=rt.wheelEvent);for(const c of a[s])ee(s,this._actions)?this.events[t===Pt.On?"on":"off"](s,c):v.string(this.target)?this._scopeEvents[t===Pt.On?"addDelegate":"removeDelegate"](this.target,this._context,s,c,o):this._scopeEvents[t===Pt.On?"add":"remove"](this.target,s,c,o)}return this}on(t,n,i){return this._onOff(Pt.On,t,n,i)}off(t,n,i){return this._onOff(Pt.Off,t,n,i)}set(t){const n=this._defaults;v.object(t)||(t={}),this.options=Xt(n.base);for(const i in this._actions.methodDict){const o=i,r=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,A(A({},n.perAction),n.actions[o])),this[r](t[o])}for(const i in t){if(i==="getRect"){this.rectChecker(t.getRect);continue}v.func(this[i])&&this[i](t[i])}return this}unset(){if(v.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let i=n.length-1;i>=0;i--){const{selector:o,context:r,listeners:a}=n[i];o===this.target&&r===this._context&&n.splice(i,1);for(let s=a.length-1;s>=0;s--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[s][0],a[s][1])}}else this._scopeEvents.remove(this.target,"all")}}class fr{constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":n=>{let{interactable:i}=n;const{target:o}=i,r=v.string(o)?this.selectorMap[o]:o[this.scope.id],a=ce(r,s=>s===i);r.splice(a,1)}})}new(t,n){n=A(n||{},{actions:this.scope.actions});const i=new this.scope.Interactable(t,n,this.scope.document,this.scope.events);return this.scope.addDocument(i._doc),this.list.push(i),v.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(i.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:n,interactable:i,win:this.scope._win}),i}getExisting(t,n){const i=n&&n.context||this.scope.document,o=v.string(t),r=o?this.selectorMap[t]:t[this.scope.id];if(r)return ue(r,a=>a._context===i&&(o||a.inContext(t)))}forEachMatch(t,n){for(const i of this.list){let o;if((v.string(i.target)?v.element(t)&&Ht(t,i.target):t===i.target)&&i.inContext(t)&&(o=n(i)),o!==void 0)return o}}}function dr(e){const t=(n,i)=>{let o=e.interactables.getExisting(n,i);return o||(o=e.interactables.new(n,i),o.events.global=t.globalEvents),o};return t.getPointerAverage=ii,t.getTouchBBox=qo,t.getTouchDistance=Xo,t.getTouchAngle=Yo,t.getElementRect=$e,t.getElementClientRect=We,t.matchesSelector=Ht,t.closest=Wn,t.globalEvents={},t.version="1.10.27",t.scope=e,t.use=function(n,i){return this.scope.usePlugin(n,i),this},t.isSet=function(n,i){return!!this.scope.interactables.get(n,i&&i.context)},t.on=Jt(function(i,o,r){if(v.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),v.array(i)){for(const a of i)this.on(a,o,r);return this}if(v.object(i)){for(const a in i)this.on(a,i[a],o);return this}return ee(i,this.scope.actions)?this.globalEvents[i]?this.globalEvents[i].push(o):this.globalEvents[i]=[o]:this.scope.events.add(this.scope.document,i,o,{options:r}),this},"The interact.on() method is being deprecated"),t.off=Jt(function(i,o,r){if(v.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),v.array(i)){for(const a of i)this.off(a,o,r);return this}if(v.object(i)){for(const a in i)this.off(a,i[a],o);return this}if(ee(i,this.scope.actions)){let a;i in this.globalEvents&&(a=this.globalEvents[i].indexOf(o))!==-1&&this.globalEvents[i].splice(a,1)}else this.scope.events.remove(this.scope.document,i,o,r);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return rt.supportsTouch},t.supportsPointerEvent=function(){return rt.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return v.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,i){this.scope.addDocument(n,i)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class hr{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=rt,this.defaults=Xt(li),this.Eventable=ti,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=dr(this),this.InteractEvent=Ue,this.Interactable=void 0,this.interactables=new fr(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=n=>this.removeDocument(n.target);const t=this;this.Interactable=class extends ur{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=t.interactables.list.indexOf(this);n<0||(t.interactables.list.splice(n,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:i}}of this.listenerMaps)if(i&&i(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:pr(this,t)}pluginIsInstalled(t){const{id:n}=t;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let i=0;const o=this.listenerMaps.length,r=t.before.reduce((a,s)=>(a[s]=!0,a[hi(s)]=!0,a),{});for(;i<o;i++){const a=this.listenerMaps[i].id;if(a&&(r[a]||r[hi(a)]))break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const i=Lt(t);n=n?A({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),i=Lt(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function pr(e,t){return e.isInitialized=!0,v.window(t)&&Hn(t),et.init(t),rt.init(t),Yt.init(t),e.window=t,e.document=t.document,e.usePlugin(cr),e.usePlugin(Ko),e}function hi(e){return e&&e.replace(/\/.*$/,"")}const pi=new hr,Ct=pi.interactStatic,mr=typeof globalThis<"u"?globalThis:window;pi.init(mr),Ct.use(Ao);function gr(e){const{defaults:t,actions:n}=e;e.autoScroll=B,B.now=()=>e.now(),n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=B.defaults}const B={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start(e){B.isScrolling=!0,Yt.cancel(B.i),e.autoScroll=B,B.interaction=e,B.prevTime=B.now(),B.i=Yt.request(B.scroll)},stop(){B.isScrolling=!1,B.interaction&&(B.interaction.autoScroll=null),Yt.cancel(B.i)},scroll(){const{interaction:e}=B,{interactable:t,element:n}=e,i=e.prepared.name,o=t.options[i].autoScroll,r=mi(o.container,t,n),a=B.now(),s=(a-B.prevTime)/1e3,c=o.speed*s;if(c>=1){const l={x:B.x*c,y:B.y*c};if(l.x||l.y){const f=gi(r);v.window(r)?r.scrollBy(l.x,l.y):r&&(r.scrollLeft+=l.x,r.scrollTop+=l.y);const h=gi(r),d={x:h.x-f.x,y:h.y-f.y};(d.x||d.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:d,interaction:e,container:r})}B.prevTime=a}B.isScrolling&&(Yt.cancel(B.i),B.i=Yt.request(B.scroll))},check(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove(e){let{interaction:t,pointer:n}=e;if(!(t.interacting()&&B.check(t.interactable,t.prepared.name)))return;if(t.simulation){B.x=B.y=0;return}let i,o,r,a;const{interactable:s,element:c}=t,l=t.prepared.name,f=s.options[l].autoScroll,h=mi(f.container,s,c);if(v.window(h))a=n.clientX<B.margin,i=n.clientY<B.margin,o=n.clientX>h.innerWidth-B.margin,r=n.clientY>h.innerHeight-B.margin;else{const d=We(h);a=n.clientX<d.left+B.margin,i=n.clientY<d.top+B.margin,o=n.clientX>d.right-B.margin,r=n.clientY>d.bottom-B.margin}B.x=o?1:a?-1:0,B.y=r?1:i?-1:0,B.isScrolling||(B.margin=f.margin,B.speed=f.speed,B.start(t))}};function mi(e,t,n){return(v.string(e)?ri(e,t,n):e)||Lt(n)}function gi(e){return v.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}const vr={id:"auto-scroll",install:gr,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.autoScroll=null},"interactions:destroy":e=>{let{interaction:t}=e;t.autoScroll=null,B.stop(),B.interaction&&(B.interaction=null)},"interactions:stop":B.stop,"interactions:action-move":e=>B.onInteractionMove(e)}};Ct.use(vr);function yr(e){const{actions:t,Interactable:n,defaults:i}=e;n.prototype.draggable=ge.draggable,t.map.drag=ge,t.methodDict.drag="draggable",i.actions.drag=ge.defaults}function Ze(e){let{interaction:t}=e;if(t.prepared.name!=="drag")return;const n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}function vi(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="drag")return;const i=n.prepared.axis;if(i==="x"||i==="y"){const o=i==="x"?"y":"x";t.page[o]=n.coords.start.page[o],t.client[o]=n.coords.start.client[o],t.delta[o]=0}}const ge={id:"actions/drag",install:yr,listeners:{"interactions:before-action-move":Ze,"interactions:action-resume":Ze,"interactions:action-move":vi,"auto-start:check":e=>{const{interaction:t,interactable:n,buttons:i}=e,o=n.options.drag;if(!(!(o&&o.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&(i&n.options.drag.mouseButtons)===0))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(t){return v.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):v.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:Ze,move:vi,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"},filterEventType:e=>e.search("drag")===0};Ct.use(ge);function br(e){const{actions:t,browser:n,Interactable:i,defaults:o}=e;_t.cursors=Sr(n),_t.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(r){return wr(this,r,e)},t.map.resize=_t,t.methodDict.resize="resizable",o.actions.resize=_t.defaults}function xr(e){const{interaction:t,interactable:n,element:i,rect:o,buttons:r}=e;if(!o)return;const a=A({},t.coords.cur.page),s=n.options.resize;if(!(!(s&&s.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&(r&s.mouseButtons)===0)){if(v.object(s.edges)){const c={left:!1,right:!1,top:!1,bottom:!1};for(const l in c)c[l]=Er(l,s.edges[l],a,t._latestPointer.eventTarget,i,o,s.margin||_t.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{const c=s.axis!=="y"&&a.x>o.right-_t.defaultMargin,l=s.axis!=="x"&&a.y>o.bottom-_t.defaultMargin;(c||l)&&(e.action={name:"resize",axes:(c?"x":"")+(l?"y":"")})}return e.action?!1:void 0}}function wr(e,t,n){return v.object(t)?(e.options.resize.enabled=t.enabled!==!1,e.setPerAction("resize",t),e.setOnEvents("resize",t),v.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:t.axis===null&&(e.options.resize.axis=n.defaults.actions.resize.axis),v.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:v.bool(t.square)&&(e.options.resize.square=t.square),e):v.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}function Er(e,t,n,i,o,r,a){if(!t)return!1;if(t===!0){const s=v.number(r.width)?r.width:r.right-r.left,c=v.number(r.height)?r.height:r.bottom-r.top;if(a=Math.min(a,Math.abs((e==="left"||e==="right"?s:c)/2)),s<0&&(e==="left"?e="right":e==="right"&&(e="left")),c<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){const l=s>=0?r.left:r.right;return n.x<l+a}if(e==="top"){const l=c>=0?r.top:r.bottom;return n.y<l+a}if(e==="right")return n.x>(s>=0?r.right:r.left)-a;if(e==="bottom")return n.y>(c>=0?r.bottom:r.top)-a}return v.element(i)?v.element(t)?t===i:Ne(i,t,o):!1}function Sr(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function Ir(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t,o=n.rect;n._rects={start:A({},o),corrected:A({},o),previous:A({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}function Cr(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t,r=n.interactable.options.resize.invert,a=r==="reposition"||r==="negate",s=n.rect,{start:c,corrected:l,delta:f,previous:h}=n._rects;if(A(h,l),a){if(A(l,s),r==="reposition"){if(l.top>l.bottom){const d=l.top;l.top=l.bottom,l.bottom=d}if(l.left>l.right){const d=l.left;l.left=l.right,l.right=d}}}else l.top=Math.min(s.top,c.bottom),l.bottom=Math.max(s.bottom,c.top),l.left=Math.min(s.left,c.right),l.right=Math.max(s.right,c.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(const d in l)f[d]=l[d]-h[d];i.edges=n.prepared.edges,i.rect=l,i.deltaRect=f}function _r(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}function yi(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.resizeAxes)return;const i=n.interactable.options,o=t;i.resize.square?(n.resizeAxes==="y"?o.delta.x=o.delta.y:o.delta.y=o.delta.x,o.axes="xy"):(o.axes=n.resizeAxes,n.resizeAxes==="x"?o.delta.y=0:n.resizeAxes==="y"&&(o.delta.x=0))}const _t={id:"actions/resize",before:["actions/drag"],install:br,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.resizeAxes="xy"},"interactions:action-start":e=>{Ir(e),yi(e)},"interactions:action-move":e=>{Cr(e),yi(e)},"interactions:action-end":_r,"auto-start:check":xr},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor(e){let{edges:t,axis:n,name:i}=e;const o=_t.cursors;let r=null;if(n)r=o[i+n];else if(t){let a="";for(const s of["top","bottom","left","right"])t[s]&&(a+=s);r=o[a]}return r},filterEventType:e=>e.search("resize")===0,defaultMargin:null};Ct.use(_t);var Tr=()=>{},zr=()=>{},Mr=e=>{const t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(i=>{let[o,r]=i;return o in e||r in e}),n=(i,o)=>{const{range:r,limits:a={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:s={x:0,y:0}}=e,c={range:r,grid:e,x:null,y:null};for(const[l,f]of t){const h=Math.round((i-s.x)/e[l]),d=Math.round((o-s.y)/e[f]);c[l]=Math.max(a.left,Math.min(a.right,h*e[l]+s.x)),c[f]=Math.max(a.top,Math.min(a.bottom,d*e[f]+s.y))}return c};return n.grid=e,n.coordFields=t,n},kr=Object.freeze({__proto__:null,edgeTarget:Tr,elements:zr,grid:Mr});const Dr={id:"snappers",install(e){const{interactStatic:t}=e;t.snappers=A(t.snappers||{},kr),t.createSnapGrid=t.snappers.grid}};class bi{constructor(t){this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=ve(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}start(t,n){let{phase:i}=t;const{interaction:o}=this,r=Pr(o);this.prepareStates(r),this.startEdges=A({},o.edges),this.edges=A({},this.startEdges),this.startOffset=Or(o.rect,n),this.startDelta={x:0,y:0};const a=this.fillArg({phase:i,pageCoords:n,preEnd:!1});return this.result=ve(),this.startAll(a),this.result=this.setAll(a)}fillArg(t){const{interaction:n}=this;return t.interaction=n,t.interactable=n.interactable,t.element=n.element,t.rect||(t.rect=n.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}startAll(t){for(const n of this.states)n.methods.start&&(t.state=n,n.methods.start(t))}setAll(t){const{phase:n,preEnd:i,skipModifiers:o,rect:r,edges:a}=t;t.coords=A({},t.pageCoords),t.rect=A({},r),t.edges=A({},a);const s=o?this.states.slice(o):this.states,c=ve(t.coords,t.rect);for(const d of s){var l;const{options:g}=d,S=A({},t.coords);let w=null;(l=d.methods)!=null&&l.set&&this.shouldDo(g,i,n)&&(t.state=d,w=d.methods.set(t),Ge(t.edges,t.rect,{x:t.coords.x-S.x,y:t.coords.y-S.y})),c.eventProps.push(w)}A(this.edges,t.edges),c.delta.x=t.coords.x-t.pageCoords.x,c.delta.y=t.coords.y-t.pageCoords.y,c.rectDelta.left=t.rect.left-r.left,c.rectDelta.right=t.rect.right-r.right,c.rectDelta.top=t.rect.top-r.top,c.rectDelta.bottom=t.rect.bottom-r.bottom;const f=this.result.coords,h=this.result.rect;if(f&&h){const d=c.rect.left!==h.left||c.rect.right!==h.right||c.rect.top!==h.top||c.rect.bottom!==h.bottom;c.changed=d||f.x!==c.coords.x||f.y!==c.coords.y}return c}applyToInteraction(t){const{interaction:n}=this,{phase:i}=t,o=n.coords.cur,r=n.coords.start,{result:a,startDelta:s}=this,c=a.delta;i==="start"&&A(this.startDelta,a.delta);for(const[h,d]of[[r,s],[o,c]])h.page.x+=d.x,h.page.y+=d.y,h.client.x+=d.x,h.client.y+=d.y;const{rectDelta:l}=this.result,f=t.rect||n.rect;f.left+=l.left,f.right+=l.right,f.top+=l.top,f.bottom+=l.bottom,f.width=f.right-f.left,f.height=f.bottom-f.top}setAndApply(t){const{interaction:n}=this,{phase:i,preEnd:o,skipModifiers:r}=t,a=this.setAll(this.fillArg({preEnd:o,phase:i,pageCoords:t.modifiedCoords||n.coords.cur.page}));if(this.result=a,!a.changed&&(!r||r<this.states.length)&&n.interacting())return!1;if(t.modifiedCoords){const{page:s}=n.coords.cur,c={x:t.modifiedCoords.x-s.x,y:t.modifiedCoords.y-s.y};a.coords.x+=c.x,a.coords.y+=c.y,a.delta.x+=c.x,a.delta.y+=c.y}this.applyToInteraction(t)}beforeEnd(t){const{interaction:n,event:i}=t,o=this.states;if(!o||!o.length)return;let r=!1;for(const a of o){t.state=a;const{options:s,methods:c}=a,l=c.beforeEnd&&c.beforeEnd(t);if(l)return this.endResult=l,!1;r=r||!r&&this.shouldDo(s,!0,t.phase,!0)}r&&n.move({event:i,preEnd:!0})}stop(t){const{interaction:n}=t;if(!this.states||!this.states.length)return;const i=A({states:this.states,interactable:n.interactable,element:n.element,rect:null},t);this.fillArg(i);for(const o of this.states)i.state=o,o.methods.stop&&o.methods.stop(i);this.states=null,this.endResult=null}prepareStates(t){this.states=[];for(let n=0;n<t.length;n++){const{options:i,methods:o,name:r}=t[n];this.states.push({options:i,methods:o,index:n,name:r})}return this.states}restoreInteractionCoords(t){let{interaction:{coords:n,rect:i,modification:o}}=t;if(!o.result)return;const{startDelta:r}=o,{delta:a,rectDelta:s}=o.result,c=[[n.start,r],[n.cur,a]];for(const[l,f]of c)l.page.x-=f.x,l.page.y-=f.y,l.client.x-=f.x,l.client.y-=f.y;i.left-=s.left,i.right-=s.right,i.top-=s.top,i.bottom-=s.bottom}shouldDo(t,n,i,o){return!(!t||t.enabled===!1||o&&!t.endOnly||t.endOnly&&!n||i==="start"&&!t.setStart)}copyFrom(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(n=>Xt(n)),this.result=ve(A({},t.result.coords),A({},t.result.rect))}destroy(){for(const t in this)this[t]=null}}function ve(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Pr(e){const t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(i=>{const o=t[i];return o&&o.enabled&&{options:o,methods:o._methods}}).filter(i=>!!i)}function Or(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}function Ot(e,t){const{defaults:n}=e,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=r=>{const a=r||{};a.enabled=a.enabled!==!1;for(const c in n)c in a||(a[c]=n[c]);const s={options:a,methods:i,name:t,enable:()=>(a.enabled=!0,s),disable:()=>(a.enabled=!1,s)};return s};return t&&typeof t=="string"&&(o._defaults=n,o._methods=i),o}function Qe(e){let{iEvent:t,interaction:n}=e;const i=n.modification.result;i&&(t.modifiers=i.eventProps)}const Rr={id:"modifiers/base",before:["actions"],install:e=>{e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":e=>{let{interaction:t}=e;t.modification=new bi(t)},"interactions:before-action-start":e=>{const{interaction:t}=e,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":e=>{const{interaction:t}=e,{modification:n}=t,i=n.setAndApply(e);return t.edges=n.edges,i},"interactions:before-action-end":e=>{const{interaction:t}=e,{modification:n}=t,i=n.beforeEnd(e);return t.edges=n.startEdges,i},"interactions:action-start":Qe,"interactions:action-move":Qe,"interactions:action-end":Qe,"interactions:after-action-start":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-move":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:stop":e=>e.interaction.modification.stop(e)}},Ar={start(e){const{state:t,rect:n,edges:i,pageCoords:o}=e;let{ratio:r,enabled:a}=t.options;const{equalDelta:s,modifiers:c}=t.options;r==="preserve"&&(r=n.width/n.height),t.startCoords=A({},o),t.startRect=A({},n),t.ratio=r,t.equalDelta=s;const l=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!!(i.left||i.right),t.equalDelta){const h=(l.left?1:-1)*(l.top?1:-1);t.edgeSign={x:h,y:h}}else t.edgeSign={x:l.left?-1:1,y:l.top?-1:1};if(a!==!1&&A(i,l),!(c!=null&&c.length))return;const f=new bi(e.interaction);f.copyFrom(e.interaction.modification),f.prepareStates(c),t.subModification=f,f.startAll({...e})},set(e){const{state:t,rect:n,coords:i}=e,{linkedEdges:o}=t,r=A({},i),a=t.equalDelta?Lr:Br;if(A(e.edges,o),a(t,t.xIsPrimaryAxis,i,n),!t.subModification)return null;const s=A({},n);Ge(o,s,{x:i.x-r.x,y:i.y-r.y});const c=t.subModification.setAll({...e,rect:s,edges:o,pageCoords:i,prevCoords:i,prevRect:s}),{delta:l}=c;if(c.changed){const f=Math.abs(l.x)>Math.abs(l.y);a(t,f,c.coords,c.rect),A(i,c.coords)}return c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Lr(e,t,n){let{startCoords:i,edgeSign:o}=e;t?n.y=i.y+(n.x-i.x)*o.y:n.x=i.x+(n.y-i.y)*o.x}function Br(e,t,n,i){let{startRect:o,startCoords:r,ratio:a,edgeSign:s}=e;if(t){const c=i.width/a;n.y=r.y+(c-o.height)*s.y}else{const c=i.height*a;n.x=r.x+(c-o.width)*s.x}}var Hr=Ot(Ar,"aspectRatio");function Nr(e){let{rect:t,startOffset:n,state:i,interaction:o,pageCoords:r}=e;const{options:a}=i,{elementRect:s}=a,c=A({left:0,top:0,right:0,bottom:0},a.offset||{});if(t&&s){const l=$t(a.restriction,o,r);if(l){const f=l.right-l.left-t.width,h=l.bottom-l.top-t.height;f<0&&(c.left+=f,c.right+=f),h<0&&(c.top+=h,c.bottom+=h)}c.left+=n.left-t.width*s.left,c.top+=n.top-t.height*s.top,c.right+=n.right-t.width*(1-s.right),c.bottom+=n.bottom-t.height*(1-s.bottom)}i.offset=c}function Wr(e){let{coords:t,interaction:n,state:i}=e;const{options:o,offset:r}=i,a=$t(o.restriction,n,t);if(!a)return;const s=nr(a);t.x=Math.max(Math.min(s.right-r.right,t.x),s.left+r.left),t.y=Math.max(Math.min(s.bottom-r.bottom,t.y),s.top+r.top)}function $t(e,t,n){return v.func(e)?te(e,t.interactable,t.element,[n.x,n.y,t]):te(e,t.interactable,t.element)}const ye={start:Nr,set:Wr,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var $r=Ot(ye,"restrict");const xi={top:1/0,left:1/0,bottom:-1/0,right:-1/0},wi={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Fr(e){let{interaction:t,startOffset:n,state:i}=e;const{options:o}=i;let r;if(o){const a=$t(o.offset,t,t.coords.start.page);r=me(a)}r=r||{x:0,y:0},i.offset={top:r.y+n.top,left:r.x+n.left,bottom:r.y-n.bottom,right:r.x-n.right}}function jr(e){let{coords:t,edges:n,interaction:i,state:o}=e;const{offset:r,options:a}=o;if(!n)return;const s=A({},t),c=$t(a.inner,i,s)||{},l=$t(a.outer,i,s)||{};Ei(c,xi),Ei(l,wi),n.top?t.y=Math.min(Math.max(l.top+r.top,s.y),c.top+r.top):n.bottom&&(t.y=Math.max(Math.min(l.bottom+r.bottom,s.y),c.bottom+r.bottom)),n.left?t.x=Math.min(Math.max(l.left+r.left,s.x),c.left+r.left):n.right&&(t.x=Math.max(Math.min(l.right+r.right,s.x),c.right+r.right))}function Ei(e,t){for(const n of["top","left","bottom","right"])n in e||(e[n]=t[n]);return e}const ne={noInner:xi,noOuter:wi,start:Fr,set:jr,defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var qr=Ot(ne,"restrictEdges");const Xr=A({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},ye.defaults),Yr={start:ye.start,set:ye.set,defaults:Xr};var Gr=Ot(Yr,"restrictRect");const Vr={width:-1/0,height:-1/0},Ur={width:1/0,height:1/0};function Kr(e){return ne.start(e)}function Jr(e){const{interaction:t,state:n,rect:i,edges:o}=e,{options:r}=n;if(!o)return;const a=si($t(r.min,t,e.coords))||Vr,s=si($t(r.max,t,e.coords))||Ur;n.options={endOnly:r.endOnly,inner:A({},ne.noInner),outer:A({},ne.noOuter)},o.top?(n.options.inner.top=i.bottom-a.height,n.options.outer.top=i.bottom-s.height):o.bottom&&(n.options.inner.bottom=i.top+a.height,n.options.outer.bottom=i.top+s.height),o.left?(n.options.inner.left=i.right-a.width,n.options.outer.left=i.right-s.width):o.right&&(n.options.inner.right=i.left+a.width,n.options.outer.right=i.left+s.width),ne.set(e),n.options=r}var Zr=Ot({start:Kr,set:Jr,defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");function Qr(e){const{interaction:t,interactable:n,element:i,rect:o,state:r,startOffset:a}=e,{options:s}=r,c=s.offsetWithOrigin?es(e):{x:0,y:0};let l;if(s.offset==="startCoords")l={x:t.coords.start.page.x,y:t.coords.start.page.y};else{const h=te(s.offset,n,i,[t]);l=me(h)||{x:0,y:0},l.x+=c.x,l.y+=c.y}const{relativePoints:f}=s;r.offsets=o&&f&&f.length?f.map((h,d)=>({index:d,relativePoint:h,x:a.left-o.width*h.x+l.x,y:a.top-o.height*h.y+l.y})):[{index:0,relativePoint:null,x:l.x,y:l.y}]}function ts(e){const{interaction:t,coords:n,state:i}=e,{options:o,offsets:r}=i,a=Ve(t.interactable,t.element,t.prepared.name),s=A({},n),c=[];o.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(const f of r){const h=s.x-f.x,d=s.y-f.y;for(let g=0,S=o.targets.length;g<S;g++){const w=o.targets[g];let y;v.func(w)?y=w(h,d,t._proxy,f,g):y=w,y&&c.push({x:(v.number(y.x)?y.x:h)+f.x,y:(v.number(y.y)?y.y:d)+f.y,range:v.number(y.range)?y.range:o.range,source:w,index:g,offset:f})}}const l={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const f of c){const h=f.range,d=f.x-s.x,g=f.y-s.y,S=fe(d,g);let w=S<=h;h===1/0&&l.inRange&&l.range!==1/0&&(w=!1),(!l.target||(w?l.inRange&&h!==1/0?S/h<l.distance/l.range:h===1/0&&l.range!==1/0||S<l.distance:!l.inRange&&S<l.distance))&&(l.target=f,l.distance=S,l.range=h,l.inRange=w,l.delta.x=d,l.delta.y=g)}return l.inRange&&(n.x=l.target.x,n.y=l.target.y),i.closest=l,l}function es(e){const{element:t}=e.interaction;return me(te(e.state.options.origin,null,null,[t]))||Ve(e.interactable,t,e.interaction.prepared.name)}const tn={start:Qr,set:ts,defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var ns=Ot(tn,"snap");function is(e){const{state:t,edges:n}=e,{options:i}=t;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],tn.start(e),t.offsets=e.state.offsets,e.state=t}function os(e){const{interaction:t,state:n,coords:i}=e,{options:o,offsets:r}=n,a={x:i.x-r[0].x,y:i.y-r[0].y};n.options=A({},o),n.options.targets=[];for(const c of o.targets||[]){let l;if(v.func(c)?l=c(a.x,a.y,t):l=c,!!l){for(const[f,h]of n.targetFields)if(f in l||h in l){l.x=l[f],l.y=l[h];break}n.options.targets.push(l)}}const s=tn.set(e);return n.options=o,s}const be={start:is,set:os,defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var rs=Ot(be,"snapSize");function ss(e){const{edges:t}=e;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],be.start(e)):null}const as={start:ss,set:be.set,defaults:A(Xt(be.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})};var ls=Ot(as,"snapEdges");const ie=()=>{};ie._defaults={};var en={aspectRatio:Hr,restrictEdges:qr,restrict:$r,restrictRect:Gr,restrictSize:Zr,snapEdges:ls,snap:ns,snapSize:rs,spring:ie,avoid:ie,transform:ie,rubberband:ie};const cs={id:"modifiers",install(e){const{interactStatic:t}=e;e.usePlugin(Rr),e.usePlugin(Dr),t.modifiers=en;for(const n in en){const{_defaults:i,_methods:o}=en[n];i._methods=o,e.defaults.perAction[n]=i}}};Ct.use(cs);var oe=(function(e){return e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners",e})(oe||{});const nn="[interact.js] ",on={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"};function us(e){let{logger:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{Interactable:n,defaults:i}=e;e.logger=t||console,i.base.devTools={ignore:{}},n.prototype.devTools=function(r){return r?(A(this.options.devTools,r),this):this.options.devTools};const{_onOff:o}=n.prototype;n.prototype._onOff=function(r,a,s,c,l){if(v.string(this.target)||this.target.addEventListener)return o.call(this,r,a,s,c,l);v.object(a)&&!v.array(a)&&(c=s,s=null);const f=Wt(a,s,l);for(const h in f)ee(h,e.actions)||e.logger.warn(nn+`Can't add native "${h}" event listener to target without \`addEventListener(type, listener, options)\` prop.`);return o.call(this,r,f,c)}}const Si=[{name:oe.touchAction,perform(e){let{element:t}=e;return!!t&&!fs(t,"touchAction",/pan-|pinch|none/)},getInfo(e){let{element:t}=e;return[t,on.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:oe.boxSizing,perform(e){const{element:t}=e;return e.prepared.name==="resize"&&t instanceof et.HTMLElement&&!Ii(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo(e){let{element:t}=e;return[t,on.boxSizing]}},{name:oe.noListeners,perform(e){var t;const n=e.prepared.name;return!(((t=e.interactable)==null?void 0:t.events.types[`${n}move`])||[]).length},getInfo(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function Ii(e,t,n){const i=e.style[t]||kt.getComputedStyle(e)[t];return n.test((i||"").toString())}function fs(e,t,n){let i=e;for(;v.element(i);){if(Ii(i,t,n))return!0;i=Dt(i)}return!1}const ds={id:"dev-tools",install:us,listeners:{"interactions:action-start":(e,t)=>{let{interaction:n}=e;for(const i of Si){const o=n.interactable&&n.interactable.options;!(o&&o.devTools&&o.devTools.ignore[i.name])&&i.perform(n)&&t.logger.warn(nn+i.text,...i.getInfo(n))}}},checks:Si,CheckName:oe,links:on,prefix:nn};Ct.use(ds);let Ci="auto";function _i(){return typeof document<"u"}function Ti(){return typeof window<"u"}function rn(){return _i()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir")||"auto":Ci}function hs(e){return _i?(document.getElementsByTagName("html")[0].setAttribute("dir",e),!0):(Ci=e,!1)}function zi(e,t){return Ti?(window.addEventListener(e,t),!0):(t(),!1)}function Mi(e,t){Ti&&window.removeEventListener(e,t)}function ps(e,t,n,i){const o=ki(e,t,n);console.log(o);const r=Math.round((i+n)/(o+n));return Math.max(1,Math.min(r,t))}function ms(e,t,n){return Math.round((n+t)/(e+t))}const ki=(e,t,n)=>{const i=(t-1)*n;return(e-i-n*2)/t};function gs(e,t,n,i,o,r,a,s,c){if(e<0||e+n>a)return!1;const l=(t+i)*(s+c)+c;return!(t<0||l>r)}function sn(e){return Di(e)}function Di(e){const t=e.target,n=t.offsetParent||document.body,i=t.offsetParent===document.body?{left:0,top:0}:n.getBoundingClientRect(),o=e.clientX+n.scrollLeft-i.left,r=e.clientY+n.scrollTop-i.top;return{x:o,y:r}}function an(e,t,n,i){return vs(e)?{deltaX:n-e,deltaY:i-t,lastX:e,lastY:t,x:n,y:i}:{deltaX:0,deltaY:0,lastX:n,lastY:i,x:n,y:i}}function vs(e){return typeof e=="number"&&!isNaN(e)}function ln(e){let t=0,n;for(let i=0,o=e.length;i<o;i++)n=e[i].y+e[i].h,n>t&&(t=n);return t}function Pi(e,t){const n=new Array(t).fill(0);for(const i of e){const o=i.x,r=Math.min(i.x+i.w,t),a=i.y+i.h;for(let s=o;s<r;s++)n[s]=Math.max(n[s],a)}return n}function Oi(e,t,n,i){const o=Pi(e,n),r=Math.min(t.w,n);let a=null,s=1/0;for(let c=0;c<=n-r;c++){let l=0;for(let d=c;d<c+r;d++)l=Math.max(l,o[d]);const f=l;if(f+t.h>i)continue;const h={...t,x:c,y:f};Ri(e,h)||f<s&&(s=f,a={x:c,y:f})}return a}function Ri(e,t){return e.some(n=>n.i!==t.i&&xe(n,t))}function Ai(e,t,n,i){const o=Oi(e,t,n,i);if(o){const r={...t,x:o.x,y:o.y};return{layout:[...e,r],success:!0}}return{layout:e,success:!1}}function re(e){const t=Array(e.length);for(let n=0,i=e.length;n<i;n++)t[n]=Li(e[n]);return t}function Li(e){return JSON.parse(JSON.stringify(e))}function xe(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function wt(e,t,n){const i=dn(e),o=gn(e),r=Array(e.length);for(let a=0,s=o.length;a<s;a++){let c=o[a];c.static||(c=Bi(i,c,t,n),i.push(c)),r[e.indexOf(c)]=c,c.moved=!1}return r}function Bi(e,t,n,i){if(n)for(;t.y>0&&!Gt(e,t);)t.y--;else if(i){const r=i[t.i].y;for(;t.y>r&&!Gt(e,t);)t.y--}let o;for(;o=Gt(e,t);)t.y=o.y+o.h;return t}function cn(e,t){const n=dn(e);for(let i=0,o=e.length;i<o;i++){const r=e[i];if(r.x+r.w>t.cols&&(r.x=t.cols-r.w),r.x<0&&(r.x=0,r.w=t.cols),!r.static)n.push(r);else for(;Gt(n,r);)r.y++}return e}function un(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n].i===t)return e[n]}function Gt(e,t){for(let n=0,i=e.length;n<i;n++)if(xe(e[n],t))return e[n]}function fn(e,t){return e.filter(n=>xe(n,t))}function dn(e){return e.filter(t=>t.static)}function se(e,t,n,i,o,r){if(t.static)return e;const a=t.x,s=t.y,c=i&&t.y>i;typeof n=="number"&&(t.x=n),typeof i=="number"&&(t.y=i),t.moved=!0;let l=gn(e);c&&(l=l.reverse());const f=fn(l,t);if(r&&f.length)return t.x=a,t.y=s,t.moved=!1,e;for(let h=0,d=f.length;h<d;h++){const g=f[h];g.moved||t.y>g.y&&t.y-g.y>g.h/4||(g.static?e=hn(e,g,t,o):e=hn(e,t,g,o))}return e}function hn(e,t,n,i){if(i){const r={x:n.x,y:n.y,w:n.w,h:n.h};if(r.y=Math.max(t.y-n.h,0),!Gt(e,r))return se(e,n,void 0,r.y,!1)}return se(e,n,void 0,n.y+1,!1)}function pn(e,t,n){return!(e.x<0||e.x+e.w>t||e.y<0||n&&e.y+e.h>n)}function ys(e,t,n){const i={...e};return i.x=Math.max(0,Math.min(i.x,t-i.w)),i.x+i.w>t&&(i.w=t-i.x),i.y=Math.max(0,i.y),n&&i.y+i.h>n&&(i.h=n-i.y),i}function mn(e,t,n,i){const o=e.map(a=>a.i===t.i?{...t}:{...a}),r=wt(o,!0);for(const a of r)if(!pn(a,n,i))return!0;return!1}function Hi(e,t,n,i,o,r,a,s){if(t.static)return e;const c={...t};return typeof n=="number"&&(c.x=n),typeof i=="number"&&(c.y=i),r&&mn(e,c,o,r)?e:se(e,t,n,i,a,s)}function Ni(e,t,n,i,o,r){const a={...t,w:n,h:i};return!(!pn(a,o,r)||r&&mn(e,a,o,r))}function bs(e){return e*100+"%"}function Wi(e,t,n,i){const o="translate3d("+t+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:n+"px",height:i+"px",position:"absolute"}}function $i(e,t,n,i){const o="translate3d("+t*-1+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:n+"px",height:i+"px",position:"absolute"}}function Fi(e,t,n,i){return{top:e+"px",left:t+"px",width:n+"px",height:i+"px",position:"absolute"}}function ji(e,t,n,i){return{top:e+"px",right:t+"px",width:n+"px",height:i+"px",position:"absolute"}}function gn(e){return[].concat(e).sort(function(n,i){return n.y===i.y&&n.x===i.x?0:n.y>i.y||n.y===i.y&&n.x>i.x?1:-1})}function qi(e,t){t=t||"Layout";const n=["x","y","w","h"],i=[];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let o=0,r=e.length;o<r;o++){const a=e[o];for(let s=0;s<n.length;s++)if(typeof a[n[s]]!="number")throw new Error("VueGridLayout: "+t+"["+o+"]."+n[s]+" must be a number!");if(a.i===void 0||a.i===null)throw new Error("VueGridLayout: "+t+"["+o+"].i cannot be null!");if(typeof a.i!="number"&&typeof a.i!="string")throw new Error("VueGridLayout: "+t+"["+o+"].i must be a string or number!");if(i.indexOf(a.i)>=0)throw new Error("VueGridLayout: "+t+"["+o+"].i must be unique!");if(i.push(a.i),a.static!==void 0&&typeof a.static!="boolean")throw new Error("VueGridLayout: "+t+"["+o+"].static must be a boolean!")}}function xs(e,t){t.forEach(n=>e[n]=e[n].bind(e))}function ws(e){const t=Object.keys(e);if(!t.length)return"";let n;const i=t.length;let o="";for(n=0;n<i;n++){const r=t[n],a=e[r];o+=Vi(r)+":"+Yi(r,a)+";"}return o}const Xi={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};function Yi(e,t){return typeof t=="number"&&!Xi[e]?t+"px":t}const Gi=/([a-z\d])([A-Z])/g;function Vi(e){return e.replace(Gi,"$1-$2").toLowerCase()}function Es(e,t,n){for(let i=0;i<e.length;i++)if(e[i][t]==n)return!0;return!1}function Ss(e,t,n){e.forEach(function(i,o){i[t]===n&&e.splice(o,1)})}function Ui(e,t){const n=vn(e);let i=n[0];for(let o=1,r=n.length;o<r;o++){const a=n[o];t>e[a]&&(i=a)}return i}function we(e,t){if(!t[e])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function Ki(e,t,n,i,o,r,a){if(t[i])return re(t[i]);let s=e;const c=vn(n),l=c.slice(c.indexOf(i));for(let f=0,h=l.length;f<h;f++){const d=l[f];if(t[d]){s=t[d];break}}return s=re(s||[]),wt(cn(s,{cols:r}),a)}function Is(e,t,n,i,o,r){return e=re(e||[]),wt(cn(e,{cols:o}),r)}function vn(e){return Object.keys(e).sort(function(n,i){return e[n]-e[i]})}function Cs(){const{appContext:e,proxy:t}=u.getCurrentInstance(),n=e.config.globalProperties;return{proxy:t,appContext:e,globalProperties:n}}const _s=u.defineComponent({__name:"GridItem",props:{isDraggable:{type:[Boolean,null],default:null},isResizable:{type:[Boolean,null],default:null},isBounded:{type:[Boolean,null],default:null},static:{type:Boolean,default:!1},minH:{default:1},minW:{default:1},maxH:{default:1/0},maxW:{default:1/0},x:{},y:{},w:{},h:{},i:{},selected:{type:Boolean,default:!1},selectedItems:{default:()=>[]},dragIgnoreFrom:{default:"a, button"},dragAllowFrom:{default:null},resizeIgnoreFrom:{default:"a, button"},preserveAspectRatio:{type:Boolean,default:!1},dragOption:{default:()=>({})},resizeOption:{default:()=>({})}},emits:["container-resized","resize","resized","move","moved","dragging","dragend","remove"],setup(e,{expose:t,emit:n}){const{proxy:i}=Cs(),o=i?.$parent,r=u.inject("eventBus"),a=n,s=e,c=u.ref({}),l=u.ref(1),f=u.ref(100),h=u.ref(30),d=u.ref([10,10]),g=u.ref(1/0),S=u.ref(null),w=u.ref(null),y=u.ref(1),R=u.ref(!0),z=u.ref(!0),D=u.ref(!1),k=u.ref(null),x=u.ref(!1),m=u.ref(null),$=u.ref(NaN),_=u.ref(NaN),j=u.ref(NaN),tt=u.ref(NaN),K=u.ref({}),at=u.ref(!1),V=u.ref(!1),ut=u.ref(!1),lt=u.ref(null),gt=u.ref(null),J=u.ref(null),nt=u.ref(null),Z=u.ref(s.x),E=u.ref(s.y),O=u.ref(s.w),L=u.ref(s.h),X=u.ref(null),W=u.ref(null),Y=u.computed(()=>w.value&&!s.static),P=u.computed(()=>o?.isMirrored?!at.value:at.value),Q=u.computed(()=>({resizable:Y.value,static:s.static,"grid-item-selected":s.selected,resizing:x.value,"draggable-dragging":D.value,cssTransforms:R.value,"render-rtl":P.value,"disable-userselect":D.value})),U=u.computed(()=>P.value?"resizable-handle rtl-resizable-handle":"resizable-handle");u.watch(()=>s.isDraggable,p=>{S.value=p}),u.watch(()=>s.static,()=>{Ce(),mt()}),u.watch(S,()=>{Ce()}),u.watch(()=>s.isResizable,p=>{w.value=p}),u.watch(()=>s.isBounded,p=>{X.value=p}),u.watch(w,()=>{mt()}),u.watch(h,()=>{ot(),bt()}),u.watch(l,()=>{mt(),ot(),bt()}),u.watch(()=>s.x,p=>{Z.value=p,ot()}),u.watch(()=>s.y,p=>{E.value=p,ot()}),u.watch(()=>s.h,p=>{L.value=p,ot()}),u.watch(()=>s.w,p=>{O.value=p,ot()}),u.watch(P,()=>{mt(),ot()}),u.watch(()=>s.minH,()=>{mt()}),u.watch(()=>s.maxH,()=>{mt()}),u.watch(()=>s.minW,()=>{mt()}),u.watch(()=>s.maxW,()=>{mt()}),u.watch(()=>o?.margin,p=>{!p||p[0]==d.value[0]&&p[1]==d.value[1]||(d.value=p.map(C=>Number(C)),ot(),bt())});const dt=p=>{yn(p)},I=p=>{Ft()},H=p=>{s.isDraggable===null&&(S.value=p)},q=p=>{s.isResizable===null&&(w.value=p)},ht=p=>{s.isBounded===null&&(X.value=p)},vt=p=>{y.value=p},Tt=p=>{h.value=p},zt=p=>{g.value=p},ft=()=>{at.value=rn()==="rtl",Ft()},G=p=>{const C=p.toString();l.value=parseInt(C)};r.on("updateWidth",dt),r.on("compact",I),r.on("setDraggable",H),r.on("setResizable",q),r.on("setBounded",ht),r.on("setTransformScale",vt),r.on("setRowHeight",Tt),r.on("setMaxRows",zt),r.on("directionchange",ft),r.on("setColNum",G),at.value=rn()==="rtl",u.onBeforeUnmount(()=>{r.off("updateWidth",dt),r.off("compact",I),r.off("setDraggable",H),r.off("setResizable",q),r.off("setBounded",ht),r.off("setTransformScale",vt),r.off("setRowHeight",Tt),r.off("setMaxRows",zt),r.off("directionchange",ft),r.off("setColNum",G),W.value&&W.value.unset()}),u.onMounted(()=>{o?.responsive&&o.lastBreakpoint?l.value=we(o.lastBreakpoint,o?.cols):l.value=o?.colNum,h.value=o?.rowHeight,f.value=o?.width!==null?o?.width:100,d.value=o?.margin!==void 0?o.margin:[10,10],g.value=o?.maxRows,s.isDraggable===null?S.value=o?.isDraggable:S.value=s.isDraggable,s.isResizable===null?w.value=o?.isResizable:w.value=s.isResizable,s.isBounded===null?X.value=o?.isBounded:X.value=s.isBounded,y.value=o?.transformScale,R.value=o?.useCssTransforms,z.value=o?.useStyleCursor,ot()});const ot=()=>{s.x+s.w>l.value?(Z.value=0,O.value=s.w>l.value?l.value:s.w):(Z.value=s.x,O.value=s.w);let p=Et(Z.value,E.value,O.value,L.value);D.value&&(p.top=k.value?.top,P.value?p.right=k.value?.left:p.left=k.value?.left),x.value&&(p.width=m.value?.width,p.height=m.value?.height);let C;R.value?P.value?C=$i(p.top,p.right,p.width,p.height):C=Wi(p.top,p.left,p.width,p.height):P.value?C=ji(p.top,p.right,p.width,p.height):C=Fi(p.top,p.left,p.width,p.height),K.value=C},bt=()=>{let p={};for(let C of["width","height"]){let F=K.value[C].match(/^(\d+)px$/);if(!F)return;p[C]=F[1]}a("container-resized",s.i,s.h,s.w,p.height,p.width)},xt=p=>{{if(s.static)return;const C=sn(p);if(C==null)return;const{x:N,y:F}=C,b={width:0,height:0};let T;switch(p.type){case"resizestart":{mt(),lt.value=O.value,gt.value=L.value,T=Et(Z.value,E.value,O.value,L.value),b.width=T.width,b.height=T.height,m.value=b,x.value=!0;break}case"resizemove":{const st=an(j.value,tt.value,N,F);if(P.value?b.width=Number(m.value?.width)-st.deltaX/y.value:b.width=Number(m.value?.width)+st.deltaX/y.value,b.height=Number(m.value?.height)+st.deltaY/y.value,X.value||o?.preventOverflow){const jt=p.target.offsetParent,At=Et(Z.value,E.value,O.value,L.value),xn=f.value-At.left-d.value[0];b.width=Math.min(b.width,xn);const qs=jt.clientHeight-At.top-d.value[1];b.height=Math.min(b.height,qs),b.width=Math.max(b.width,pt(s.minW,it(),d.value[0])),b.height=Math.max(b.height,pt(s.minH,h.value,d.value[1]))}m.value=b;break}case"resizeend":{T=Et(Z.value,E.value,O.value,L.value),b.width=T.width,b.height=T.height,m.value=null,x.value=!1;break}}if(T=St(b.height,b.width),T.w<s.minW&&(T.w=s.minW),T.w>s.maxW&&(T.w=s.maxW),T.h<s.minH&&(T.h=s.minH),T.h>s.maxH&&(T.h=s.maxH),T.h<1&&(T.h=1),T.w<1&&(T.w=1),(X.value||o?.preventOverflow)&&(p.type==="resizemove"||p.type==="resizestart")&&g.value!==1/0){const st={...s,w:T.w,h:T.h,x:Z.value,y:E.value};st.y+st.h>g.value&&(T.h=Math.max(s.minH,g.value-E.value)),st.x+st.w>l.value&&(T.w=Math.max(s.minW,l.value-Z.value))}j.value=N,tt.value=F,(O.value!==T.w||L.value!==T.h)&&a("resize",s.i,T.h,T.w,b.height,b.width),p.type==="resizeend"&&(lt.value!==O.value||gt.value!==L.value)&&a("resized",s.i,T.h,T.w,b.height,b.width);const ct={eventType:p.type,i:s.i,x:Z.value,y:E.value,h:T.h,w:T.w};r.emit("resizeEvent",ct)}},yt=(p,C)=>{if(!C&&s.selected&&s.selectedItems.length>1&&s.selectedItems.filter(ct=>ct!==s.i).forEach(ct=>{r.emit("dragSelected",{event:p,i:ct})}),s.static||x.value)return;const N=sn(p);if(N===null)return;const{x:F,y:b}=N;let T={top:0,left:0};switch(p.type){case"dragstart":{T=Rt();break}case"dragend":{if(!D.value)return;T=Vt(p);break}case"dragmove":{T=Se(p,N);break}}Ie(T,F,b,p)},Rt=()=>{const p={top:0,left:0};J.value=Z.value,nt.value=E.value;const C=c.value;let F=C.offsetParent.getBoundingClientRect(),b=C.getBoundingClientRect();const T=b.left/y.value,ct=F.left/y.value,st=b.right/y.value,Kt=F.right/y.value,jt=b.top/y.value,At=F.top/y.value;return P.value?p.left=(st-Kt)*-1:p.left=T-ct,p.top=jt-At,k.value=p,D.value=!0,p},Se=(p,C)=>{const{x:N,y:F}=C,b={top:0,left:0};a("dragging",p,s.i);const T=an($.value,_.value,N,F);if(P.value?b.left=Number(k.value?.left)-T.deltaX/y.value:b.left=Number(k.value?.left)+T.deltaX/y.value,b.top=Number(k.value?.top)+T.deltaY/y.value,X.value||o?.preventOverflow){const Kt=p.target.offsetParent.clientHeight-pt(s.h,h.value,d.value[1]);b.top=Mt(b.top,0,Kt);const jt=it(),At=f.value-pt(s.w,jt,d.value[0]);b.left=Mt(b.left,0,At)}return k.value=b,b},Vt=p=>{const C={top:0,left:0};a("dragend",p,s.i);const N=c.value;let b=N.offsetParent.getBoundingClientRect(),T=N.getBoundingClientRect();const ct=T.left/y.value,st=b.left/y.value,Kt=T.right/y.value,jt=b.right/y.value,At=T.top/y.value,xn=b.top/y.value;return P.value?C.left=(Kt-jt)*-1:C.left=ct-st,C.top=At-xn,k.value=null,D.value=!1,C},Ie=(p,C,N,F)=>{let b;P.value,b=Ut(p.top,p.left),(X.value||o?.preventOverflow)&&(g.value!==1/0&&b.y+L.value>g.value&&(b.y=Math.max(0,g.value-L.value)),b.x+O.value>l.value&&(b.x=Math.max(0,l.value-O.value)),b.x=Math.max(0,b.x),b.y=Math.max(0,b.y)),$.value=C,_.value=N,(Z.value!==b.x||E.value!==b.y)&&a("move",s.i,b.x,b.y),F.type==="dragend"&&(J.value!==Z.value||nt.value!==E.value)&&a("moved",s.i,b.x,b.y);const T={eventType:F.type,i:s.i,x:b.x,y:b.y,h:L.value,w:O.value};r.emit("dragEvent",T)},Et=(p,C,N,F)=>{const b=it();let T;return P.value?T={right:Math.round(b*p+(p+1)*d.value[0]),top:Math.round(h.value*C+(C+1)*d.value[1]),width:N===1/0?N:Math.round(b*N+Math.max(0,N-1)*d.value[0]),height:F===1/0?F:Math.round(h.value*F+Math.max(0,F-1)*d.value[1])}:T={left:Math.round(b*p+(p+1)*d.value[0]),top:Math.round(h.value*C+(C+1)*d.value[1]),width:N===1/0?N:Math.round(b*N+Math.max(0,N-1)*d.value[0]),height:F===1/0?F:Math.round(h.value*F+Math.max(0,F-1)*d.value[1])},T},Ut=(p,C)=>{const N=it();let F=Math.round((C-d.value[0])/(N+d.value[0])),b=Math.round((p-d.value[1])/(h.value+d.value[1]));if(F=Math.max(Math.min(F,l.value-O.value),0),b=Math.max(Math.min(b,g.value-L.value),0),X.value||o?.preventOverflow){const T=Fs(F,b,O.value,L.value);F=T.x,b=T.y}return{x:F,y:b}},it=()=>(f.value-d.value[0]*(l.value+1))/l.value,pt=(p,C,N)=>Number.isFinite(p)?Math.round(C*p+Math.max(0,p-1)*N):p,Mt=(p,C,N)=>Math.max(Math.min(p,N),C),St=(p,C,N=!1)=>{const F=it();let b=Math.round((C+d.value[0])/(F+d.value[0])),T=0;return N?T=Math.ceil((p+d.value[1])/(h.value+d.value[1])):T=Math.round((p+d.value[1])/(h.value+d.value[1])),b=Math.max(Math.min(b,l.value-Z.value),0),T=Math.max(Math.min(T,g.value-E.value),0),{w:b,h:T}},yn=(p,C)=>{f.value=p},Ft=p=>{ot()},Ce=()=>{if((W.value===null||W.value===void 0)&&(W.value=Ct(c.value),z.value||W.value.styleCursor(!1)),S.value&&!s.static){const p={ignoreFrom:s.dragIgnoreFrom,allowFrom:s.dragAllowFrom,...s.dragOption};W.value.draggable(p),V.value||(V.value=!0,W.value.on("dragstart dragmove dragend",C=>{yt(C)}),r.on("dragSelected",({event:C,i:N})=>{N===s.i&&yt(C,!0)}))}else W.value.draggable({enabled:!1})},mt=()=>{if((W.value===null||W.value===void 0)&&(W.value=Ct(c.value),z.value||W.value.styleCursor(!1)),w.value&&!s.static){let p=Et(0,0,s.maxW,s.maxH),C=Et(0,0,s.minW,s.minH);const N={edges:{left:!1,right:"."+U.value.trim().replace(" ","."),bottom:"."+U.value.trim().replace(" ","."),top:!1},ignoreFrom:s.resizeIgnoreFrom,restrictSize:{min:{height:C.height*y.value,width:C.width*y.value},max:{height:p.height*y.value,width:p.width*y.value}},...s.resizeOption};s.preserveAspectRatio&&(N.modifiers=[Ct.modifiers.aspectRatio({ratio:"preserve"})]),W.value.resizable(N),ut.value||(ut.value=!0,W.value.on("resizestart resizemove resizeend",F=>{xt(F)}))}else W.value.resizable({enabled:!1})},bn=u.useSlots(),$s=()=>{lt.value=O.value,gt.value=L.value;let p=bn?.default[0].elm.getBoundingClientRect(),C=St(p.height,p.width,!0);if(C.w<s.minW&&(C.w=s.minW),C.w>s.maxW&&(C.w=s.maxW),C.h<s.minH&&(C.h=s.minH),C.h>s.maxH&&(C.h=s.maxH),C.h<1&&(C.h=1),C.w<1&&(C.w=1),(O.value!==C.w||L.value!==C.h)&&a("resize",s.i,C.h,C.w,p.height,p.width),lt.value!==C.w||gt.value!==C.h){a("resized",s.i,C.h,C.w,p.height,p.width);const N={eventType:"resizeend",i:s.i,x:Z.value,y:E.value,h:C.h,w:C.w};r.emit("resizeEvent",N)}},Fs=(p,C,N,F)=>{let b=p,T=C,ct=N,st=F;return(X.value||o?.preventOverflow)&&(b=Math.max(0,b),T=Math.max(0,T),b+ct>l.value&&(b=Math.max(0,l.value-ct),b+ct>l.value&&(ct=l.value-b)),g.value!==1/0&&T+st>g.value&&(T=Math.max(0,g.value-st),T+st>g.value&&(st=g.value-T)),ct=Math.max(s.minW,ct),st=Math.max(s.minH,st)),{x:b,y:T,w:ct,h:st}},js=()=>{a("remove",s.i)};return t({autoSize:$s,calcXY:Ut,dragging:k,getPixelPosition:()=>{const p=Et(Z.value,E.value,O.value,L.value);return{x:p.left||p.right||0,y:p.top,width:p.width,height:p.height}},...s}),(p,C)=>{const N=u.resolveComponent("icon-delete");return u.openBlock(),u.createElementBlock("div",{ref_key:"gridItemRef",ref:c,class:u.normalizeClass(["gridster-item",Q.value]),style:u.normalizeStyle(K.value)},[u.renderSlot(p.$slots,"default",{style:u.normalizeStyle(K.value)},void 0,!0),Y.value?(u.openBlock(),u.createElementBlock("span",{key:0,ref:"handle",class:u.normalizeClass(U.value)},null,2)):u.createCommentVNode("",!0),u.createVNode(N,{size:16,class:"remove-btn",onClick:js})],6)}}}),Ee=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},Ji=Ee(_s,[["__scopeId","data-v-15603476"]]),Ts={class:"grid-container"},zs=Ee(u.defineComponent({__name:"GridLayout",props:{autoSize:{type:Boolean,default:!0},colNum:{default:12},rowHeight:{default:0},maxRows:{default:1/0},margin:{default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:{},responsive:{type:Boolean,default:!1},keepAspectRatio:{type:Boolean,default:!1},responsiveLayouts:{default:()=>({})},transformScale:{default:1},breakpoints:{default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:[Boolean,Function],default:!1},useStyleCursor:{type:Boolean,default:!0},fixedHeight:{default:void 0},preventOverflow:{type:Boolean,default:!0}},emits:["layout-created","layout-before-mount","layout-mounted","layout-updated","layout-ready","update:layout","breakpoint-changed","reset-selected","update-width"],setup(e,{expose:t,emit:n}){const i=e,o=u.ref(null),r=u.ref(null),a=u.ref({}),s=u.ref(0),c=u.ref(0),l=u.ref(!1),f=u.ref({x:0,y:0,w:0,h:0,i:-1}),h=u.ref({}),d=u.ref(null),g=u.ref([]),S=u.ref(null),w=u.ref(),y=u.ref({}),R=u.ref(),z=Zi(),D=u.computed(()=>!i.rowHeight&&o.value&&i.keepAspectRatio?(o.value-i.margin[0]*(i.colNum+1))/i.colNum:i.rowHeight||100);u.provide("eventBus",z);const k=n,x=u.computed(()=>({gridTemplateColumns:`repeat(${i.colNum}, minmax(0, 1fr))`,gap:`${i.margin[0]}px`,gridTemplateRows:"repeat(auto-fit, 100%)",width:"100%",padding:`${i.margin[1]}px ${i.margin[0]}px`})),m=E=>{if(!E)lt();else{const{eventType:O,i:L,x:X,y:W,h:Y,w:P}=E;lt(O,L,X,W,Y,P)}},$=E=>{if(!E)V();else{const{eventType:O,i:L,x:X,y:W,h:Y,w:P}=E;V(O,L,X,W)}};z.on("resizeEvent",m),z.on("dragEvent",$),k("layout-created",i.layout),u.onBeforeUnmount(()=>{z.off("resizeEvent",m),z.off("dragEvent",$),Mi("resize",tt),S.value&&S.value.uninstall(y.value)}),u.onBeforeMount(()=>{k("layout-before-mount",i.layout)}),u.onMounted(()=>{k("layout-mounted",i.layout),u.nextTick(function(){qi(i.layout),g.value=i.layout,u.nextTick(()=>{J(),tt(),zi("resize",tt),wt(i.layout,i.verticalCompact),k("layout-updated",i.layout),j(),u.nextTick(()=>{S.value=ho({strategy:"scroll",callOnAdd:!1}),S.value.listenTo(y.value,function(){tt()})})})})}),u.watch(o,(E,O)=>{u.nextTick(()=>{z.emit("updateWidth",E),E!=null&&k("update-width",{width:E,marginX:i.margin[0]}),O===null&&u.nextTick(()=>{k("layout-ready",i.layout)}),j()})}),u.watch(()=>[i.layout,o.value],()=>{_()}),u.watch(()=>i.colNum,E=>{z.emit("setColNum",E)}),u.watch(()=>D.value,E=>{z.emit("setRowHeight",E)}),u.watch(()=>i.isDraggable,E=>{z.emit("setDraggable",E)}),u.watch(()=>i.isResizable,E=>{z.emit("setResizable",E)}),u.watch(()=>i.isBounded,E=>{z.emit("setBounded",E)}),u.watch(()=>i.transformScale,E=>{z.emit("setTransformScale",E)}),u.watch(()=>i.responsive,E=>{E||(k("update:layout",g.value||[]),z.emit("setColNum",i.colNum)),tt()}),u.watch(()=>i.maxRows,E=>{z.emit("setMaxRows",E)}),u.watch(()=>[r.value,i.rowHeight,i.fixedHeight],()=>{const E=i.fixedHeight||r.value;if(E&&D.value){const O=Math.floor((E-i.margin[1])/(D.value+i.margin[1]));s.value=O,z.emit("setMaxRows",s.value)}},{immediate:!0}),u.watch(()=>i.margin,()=>{j()});const _=()=>{if(i.layout!==void 0&&g.value!==null){if(i.layout.length!==g.value.length){let E=nt(i.layout,g.value);E.length>0&&(i.layout.length>g.value.length?g.value=g.value.concat(E):g.value=g.value.filter(O=>!E.some(L=>O.i===L.i))),c.value=i.layout.length,J()}wt(i.layout,i.verticalCompact),z.emit("updateWidth",o.value),j(),k("layout-updated",i.layout)}},j=()=>{a.value={height:K()}},tt=()=>{y.value!==null&&y.value!==void 0&&(o.value=y.value.offsetWidth,r.value=y.value.offsetHeight),z.emit("resizeEvent")},K=()=>i.autoSize?i.fixedHeight?i.fixedHeight+"px":r.value&&i.maxRows!==1/0?r.value+"px":ln(i.layout)*(D.value+i.margin[1])+i.margin[1]+"px":"",at=u.computed(()=>ln(i.layout)),V=(E,O,L,X,W,Y)=>{let P=un(i.layout,O);P?.selected||k("reset-selected"),P==null&&(P={x:0,y:0}),E==="dragstart"&&!i.verticalCompact&&(w.value=i.layout.reduce((dt,{i:I,x:H,y:q})=>({...dt,[I]:{x:H,y:q}}),{})),E==="dragmove"||E==="dragstart"?(u.nextTick(function(){l.value=!0}),z.emit("updateWidth",o.value)):u.nextTick(function(){l.value=!1});const Q=ut(P);let U;i.preventOverflow&&s.value!==1/0?U=Hi(i.layout,P,L,X,i.colNum,s.value,!0,Q):U=se(i.layout,P,L,X,!0,Q),k("update:layout",U),i.restoreOnDrag?(P.static=!0,wt(i.layout,i.verticalCompact,w.value),P.static=!1):wt(i.layout,i.verticalCompact),z.emit("compact"),j(),E==="dragend"&&(w.value=void 0,k("layout-updated",U))},ut=E=>typeof i.preventCollision=="function"?i.preventCollision({layout:i.layout,layoutItem:E}):i.preventCollision,lt=(E,O,L,X,W,Y)=>{let P=un(i.layout,O);P==null&&(P={h:0,w:0}),Y=Number(Y),W=Number(W);let Q;if(ut(P)){const dt=fn(i.layout,{...P,w:Y,h:W}).filter(I=>I.i!==P?.i);if(Q=dt.length>0,Q){let I=1/0,H=1/0;dt.forEach(q=>{q.x>Number(P?.x)&&(I=Math.min(I,q.x)),q.y>Number(P?.y)&&(H=Math.min(H,q.y))}),Number.isFinite(I)&&(P.w=I-P.x),Number.isFinite(H)&&(P.h=H-P.y)}}Q||(i.preventOverflow&&s.value!==1/0?Ni(i.layout,P,Y,W,i.colNum,s.value)&&(P.w=Y,P.h=W):(P.w=Y,P.h=W)),E==="resizestart"||E==="resizemove"?(f.value.i=O,f.value.x=L,f.value.y=X,f.value.w=P.w,f.value.h=P.h,u.nextTick(function(){l.value=!0}),z.emit("updateWidth",o.value)):u.nextTick(function(){l.value=!1}),i.responsive&&gt(),wt(i.layout,i.verticalCompact),z.emit("compact"),j(),E==="resizeend"&&k("layout-updated",i.layout)},gt=()=>{let E=Ui(i.breakpoints,o.value),O=we(E,i.cols);d.value!=null&&!h.value[d.value]&&(h.value[d.value]=re(i.layout));let L=Ki(g.value,h.value,i.breakpoints,E,d.value,O,i.verticalCompact);h.value[E]=L,d.value!==E&&k("breakpoint-changed",E,L),k("update:layout",L),d.value=E,z.emit("setColNum",we(E,i.cols))},J=()=>{h.value=Object.assign({},i.responsiveLayouts)},nt=(E,O)=>{let L=E.filter(function(W){return!O.some(function(Y){return W.i===Y.i})}),X=O.filter(function(W){return!E.some(function(Y){return W.i===Y.i})});return L.concat(X)};return t({...i,width:o,height:r,mergeStyle:a,lastLayoutLength:c,isDragging:l,placeholder:f,layouts:h,lastBreakpoint:d,originalLayout:g,erd:S,defaultGridItem:R,dragEvent:V,rowHeightComputed:D,layoutBottom:at,addItemsIntelligently:E=>{let O=[...i.layout];const L=[],X=[];for(const W of E){const Y=Ai(O,W,i.colNum,s.value);Y.success?(O=Y.layout,L.push(O[O.length-1])):X.push(W)}return L.length>0&&(k("update:layout",O),wt(O,i.verticalCompact),j(),k("layout-updated",O)),{addedItems:L,failedItems:X,success:L.length>0}},colNum:i.colNum,maxRows:s}),(E,O)=>(u.openBlock(),u.createElementBlock("div",Ts,[u.createElementVNode("div",{ref_key:"layoutRef",ref:y,class:"grid-content",style:u.normalizeStyle({padding:`${i.margin[1]}px ${i.margin[0]}px`})},[u.createElementVNode("div",{class:"grid-background",style:u.normalizeStyle(x.value)},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.colNum,L=>(u.openBlock(),u.createElementBlock("div",{class:"grid-cell",key:L}))),128))],4),u.renderSlot(E.$slots,"default",{},void 0,!0),u.withDirectives(u.createVNode(Ji,{class:"grid-placeholder",x:f.value.x,y:f.value.y,w:f.value.w,h:f.value.h,i:f.value.i},null,8,["x","y","w","h","i"]),[[u.vShow,l.value]])],4)]))}}),[["__scopeId","data-v-5ac99b4e"]]),Ms={class:"add-container"},ks={class:"component-library"},Ds={class:"search-section"},Ps={class:"components-grid"},Os=["onClick"],Rs={key:0,class:"selection-indicator"},As={key:0,class:"empty-state"},Ls=Ee(u.defineComponent({__name:"AddComponent",props:{componentLibrary:{}},emits:["confirm","cancel"],setup(e,{expose:t,emit:n}){const i=e,o=u.ref(!1),r=u.ref([]),a=n,s=w=>{const y=r.value.findIndex(R=>R.i===w.i);y>-1?r.value.splice(y,1):r.value.push(w)},c=u.ref(""),l=u.computed(()=>{if(!c.value)return i.componentLibrary;const w=c.value.toLowerCase();return i.componentLibrary.filter(y=>y.name.toLowerCase().includes(w))}),f=w=>r.value.some(y=>y.i===w.i),h=w=>{const y={...w,x:0,y:0};s(y)},d=()=>{r.value.length>0&&(g(),a("confirm",r.value),r.value=[])},g=()=>{o.value=!1};return t({open:()=>{o.value=!0},close:g}),(w,y)=>{const R=u.resolveComponent("a-alert"),z=u.resolveComponent("a-input"),D=u.resolveComponent("a-scrollbar"),k=u.resolveComponent("a-modal");return u.openBlock(),u.createBlock(k,{visible:o.value,"onUpdate:visible":y[1]||(y[1]=x=>o.value=x),title:" ",width:"1000px",onOk:d,onCancel:g},{default:u.withCtx(()=>[u.createElementVNode("div",Ms,[u.createVNode(R,null,{default:u.withCtx(()=>[u.createTextVNode(""+u.toDisplayString(r.value.length),1)]),_:1}),u.createElementVNode("div",ks,[u.createElementVNode("div",Ds,[u.createVNode(z,{modelValue:c.value,"onUpdate:modelValue":y[0]||(y[0]=x=>c.value=x),type:"text",placeholder:"...",class:"search-input"},null,8,["modelValue"])]),u.createVNode(D,{style:{height:"500px",overflow:"auto"}},{default:u.withCtx(()=>[u.createElementVNode("div",Ps,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(l.value,x=>(u.openBlock(),u.createElementBlock("div",{key:x.i,class:u.normalizeClass(["component-card",{selected:f(x)}]),onClick:m=>h(x)},[u.renderSlot(w.$slots,"component",{component:x},void 0,!0),f(x)?(u.openBlock(),u.createElementBlock("div",Rs,"  ")):u.createCommentVNode("",!0)],10,Os))),128))])]),_:3}),l.value.length===0?(u.openBlock(),u.createElementBlock("div",As,"  ")):u.createCommentVNode("",!0)])])]),_:3},8,["visible"])}}}),[["__scopeId","data-v-afc902bc"]]),Bs={class:"grid-header"},Hs={class:"grid-header_right"},Ns={GridLayout:zs,GridItem:Ji,GridHeader:Ee(u.defineComponent({__name:"GridHeader",props:{componentLibrary:{default:()=>[]}},emits:["confirm-add","save"],setup(e,{emit:t}){const n=u.ref(),i=e,o=t,r=c=>{o("confirm-add",c)},a=()=>{n.value.open()},s=()=>{o("save")};return(c,l)=>{const f=u.resolveComponent("a-button"),h=u.resolveComponent("a-space");return u.openBlock(),u.createElementBlock(u.Fragment,null,[u.createElementVNode("header",Bs,[l[2]||(l[2]=u.createElementVNode("div",{class:"grid-header_left"},null,-1)),u.createElementVNode("div",Hs,[u.createVNode(h,null,{default:u.withCtx(()=>[u.createVNode(f,{type:"primary",onClick:a},{default:u.withCtx(()=>[...l[0]||(l[0]=[u.createTextVNode("",-1)])]),_:1}),u.createVNode(f,{type:"primary",onClick:s},{default:u.withCtx(()=>[...l[1]||(l[1]=[u.createTextVNode("",-1)])]),_:1}),u.renderSlot(c.$slots,"extra",{},void 0,!0)]),_:3})])]),u.createVNode(Ls,{ref_key:"addComponentRef",ref:n,onConfirm:r,"component-library":i.componentLibrary},u.createSlots({_:2},[u.renderList(Object.keys(c.$slots),d=>({name:d,fn:u.withCtx(g=>[u.renderSlot(c.$slots,d,u.normalizeProps(u.guardReactiveProps(g||{})),void 0,!0)])}))]),1032,["component-library"])],64)}}}),[["__scopeId","data-v-e33ece3e"]])},Ws={install:e=>{Object.entries(Ns).forEach(([t,n])=>{e.component(t,n)})}};M.IS_UNITLESS=Xi,M.addPx=Yi,M.addWindowEventListener=zi,M.autoBindHandlers=xs,M.bottom=ln,M.calcColWidth=ki,M.clampToBounds=ys,M.cloneLayout=re,M.cloneLayoutItem=Li,M.collides=xe,M.compact=wt,M.compactItem=Bi,M.correctBounds=cn,M.createCoreData=an,M.createMarkup=ws,M.default=Ws,M.findAndRemove=Ss,M.findBestPosition=Oi,M.findItemInArray=Es,M.findOrGenerateResponsiveLayout=Ki,M.generateResponsiveLayout=Is,M.getAllCollisions=fn,M.getBreakpointFromWidth=Ui,M.getColsFromBreakpoint=we,M.getColumnHeights=Pi,M.getControlPosition=sn,M.getDocumentDir=rn,M.getFirstCollision=Gt,M.getLayoutItem=un,M.getStatics=dn,M.gridItemHeightToRowNum=ms,M.gridItemWidthToColNum=ps,M.hasCollisionInLayout=Ri,M.hyphenate=Vi,M.hyphenateRE=Gi,M.isPositionWithinBounds=gs,M.isWithinBounds=pn,M.moveElement=se,M.moveElementAwayFromCollision=hn,M.offsetXYFromParentOf=Di,M.perc=bs,M.removeWindowEventListener=Mi,M.safelyMoveElement=Hi,M.safelyResizeElement=Ni,M.setDocumentDir=hs,M.setTopLeft=Fi,M.setTopRight=ji,M.setTransform=Wi,M.setTransformRtl=$i,M.smartAddItem=Ai,M.sortBreakpoints=vn,M.sortLayoutItemsByRowCol=gn,M.validateLayout=qi,M.wouldCauseOverflow=mn,Object.defineProperties(M,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));

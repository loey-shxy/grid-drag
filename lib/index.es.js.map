{"version":3,"file":"index.es.js","sources":["../packages/src/utils/constant.ts","../packages/src/utils/grid.ts","../packages/src/components/GridsterItem.vue","../packages/src/components/AddComponent.vue","../node_modules/@arco-design/web-vue/es/_utils/is.js","../node_modules/@arco-design/web-vue/es/config-provider/context.js","../node_modules/@arco-design/web-vue/es/_utils/global-config.js","../node_modules/@arco-design/web-vue/es/_utils/vue-utils.js","../node_modules/@arco-design/web-vue/es/_utils/dom.js","../node_modules/@arco-design/web-vue/es/_virtual/plugin-vue_export-helper.js","../node_modules/@arco-design/web-vue/es/_components/icon-hover.js","../node_modules/@arco-design/web-vue/es/icon/icon-close/icon-close.js","../node_modules/@arco-design/web-vue/es/icon/icon-close/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-info-circle-fill/icon-info-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-info-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-check-circle-fill/icon-check-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-check-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-exclamation-circle-fill/icon-exclamation-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-exclamation-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/icon/icon-close-circle-fill/icon-close-circle-fill.js","../node_modules/@arco-design/web-vue/es/icon/icon-close-circle-fill/index.js","../node_modules/@arco-design/web-vue/es/_utils/constant.js","../node_modules/@arco-design/web-vue/es/icon/icon-loading/icon-loading.js","../node_modules/@arco-design/web-vue/es/icon/icon-loading/index.js","../node_modules/@arco-design/web-vue/es/_hooks/use-popup-manager.js","../node_modules/@arco-design/web-vue/es/message/message.js","../node_modules/@arco-design/web-vue/es/message/message-list.js","../node_modules/@arco-design/web-vue/es/message/index.js","../packages/src/components/GridDrag.vue","../packages/src/index.ts"],"sourcesContent":["export const COLUMNS = 24","import type { ComponentItemModel, GridConfig, Position, Size, ContainerInfo } from \"../types/layout\";\r\nimport { COLUMNS } from \"./constant\";\r\n\r\n// 计算两个组件之间的最小距离\r\nfunction getComponentDistance(comp1: ComponentItemModel, comp2: ComponentItemModel): number {\r\n  // 计算水平距离\r\n  let horizontalDistance = 0;\r\n  if (comp1.x + comp1.width <= comp2.x) {\r\n    // comp1 在 comp2 左侧\r\n    horizontalDistance = comp2.x - (comp1.x + comp1.width);\r\n  } else if (comp2.x + comp2.width <= comp1.x) {\r\n    // comp1 在 comp2 右侧\r\n    horizontalDistance = comp1.x - (comp2.x + comp2.width);\r\n  }\r\n\r\n  // 计算垂直距离\r\n  let verticalDistance = 0;\r\n  if (comp1.y + comp1.height <= comp2.y) {\r\n    // comp1 在 comp2 上方\r\n    verticalDistance = comp2.y - (comp1.y + comp1.height);\r\n  } else if (comp2.y + comp2.height <= comp1.y) {\r\n    // comp1 在 comp2 下方\r\n    verticalDistance = comp1.y - (comp2.y + comp2.height);\r\n  }\r\n\r\n  // 如果组件重叠，返回0\r\n  if (horizontalDistance === 0 && verticalDistance === 0) {\r\n    return 0;\r\n  }\r\n\r\n  // 返回最小距离（如果一个方向重叠，则返回另一个方向的距离）\r\n  if (horizontalDistance === 0) return verticalDistance;\r\n  if (verticalDistance === 0) return horizontalDistance;\r\n\r\n  // 如果两个方向都有距离，返回较小的那个\r\n  return Math.min(horizontalDistance, verticalDistance);\r\n}\r\n\r\n// 检查组件调整大小后是否需要重新布局\r\nfunction shouldTriggerLayout(\r\n  resizingComponent: ComponentItemModel,\r\n  newPosition: Position,\r\n  newSize: Size,\r\n  allComponents: ComponentItemModel[],\r\n  gap: number\r\n): boolean {\r\n  // 创建调整后的组件副本\r\n  const resizedComponent = {\r\n    ...resizingComponent,\r\n    x: newPosition.x,\r\n    y: newPosition.y,\r\n    width: newSize.width,\r\n    height: newSize.height\r\n  };\r\n\r\n  // 检查与其他组件的距离\r\n  for (const otherComponent of allComponents) {\r\n    if (otherComponent.id === resizingComponent.id) continue;\r\n\r\n    const distance = getComponentDistance(resizedComponent, otherComponent);\r\n\r\n    // 如果距离小于等于gap，需要触发布局调整\r\n    if (distance <= gap) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n\r\n\r\n// 检查位置是否可用\r\nexport const validatePosition = (\r\n  components: ComponentItemModel[],\r\n  currentId: string,\r\n  position: Position,\r\n  size: Size,\r\n  containerInfo: ContainerInfo,\r\n  _gridConfig: GridConfig\r\n): boolean => {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n\r\n  // 检查边界\r\n  if (position.x < 0 ||\r\n    position.y < 0 ||\r\n    position.x + size.width > containerWidth ||\r\n    position.y + size.height > containerHeight) {\r\n    return false\r\n  }\r\n\r\n\r\n  // 检查与其他组件的重叠\r\n  for (const comp of components) {\r\n    if (comp.id === currentId) continue\r\n\r\n    // 计算重叠区域\r\n    const overlapX = position.x < comp.x + comp.width && position.x + size.width > comp.x\r\n    const overlapY = position.y < comp.y + comp.height && position.y + size.height > comp.y\r\n\r\n    if (overlapX && overlapY) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\n// 查找可用位置（不重新布局，自动向后排列）\r\nexport function findAvailablePosition(\r\n  components: ComponentItemModel[],\r\n  newComponent: ComponentItemModel,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): Position | null {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n  const { gap } = gridConfig\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = (containerWidth - (COLUMNS - 1) * gap) / COLUMNS\r\n\r\n  console.log(`🔍 查找位置 - 容器宽度: ${containerWidth}, 列宽: ${columnWidth}, 间距: ${gap}`)\r\n  console.log(`📦 原始组件: ${newComponent.name}, 宽度: ${newComponent.width}, 高度: ${newComponent.height}`)\r\n\r\n  // 首先对组件进行自动填充\r\n  autoFillComponentToGrid(newComponent, columnWidth, gap)\r\n\r\n  console.log(`📦 填充后组件: ${newComponent.name}, 宽度: ${newComponent.width}, 高度: ${newComponent.height}`)\r\n\r\n  // 如果组件宽度超过容器宽度，无法放置\r\n  if (newComponent.width > containerWidth) {\r\n    console.warn('组件宽度超过容器宽度')\r\n    return null\r\n  }\r\n\r\n  // 计算组件占用的列数（组件宽度已经包含了间距，不需要再加gap）\r\n  const spanCols = Math.ceil(newComponent.width / (columnWidth + gap))\r\n  const actualSpanCols = Math.min(spanCols, COLUMNS)\r\n\r\n  console.log(`📏 组件占用列数: ${spanCols} -> ${actualSpanCols}`)\r\n\r\n  // 计算每列的当前高度\r\n  const columnHeights: number[] = new Array(COLUMNS).fill(0)\r\n\r\n  // 根据现有组件更新列高度\r\n  for (const comp of components) {\r\n    // 计算组件起始列：x坐标除以(列宽+间距)\r\n    const startCol = Math.floor(comp.x / (columnWidth + gap))\r\n    // 计算组件占用的列数（组件宽度已经包含了间距）\r\n    const compSpanCols = Math.ceil(comp.width / (columnWidth + gap))\r\n    const endCol = Math.min(startCol + compSpanCols, COLUMNS)\r\n    const compBottomY = comp.y + comp.height + gap\r\n\r\n    console.log(`📍 现有组件: ${comp.name}, 位置: (${comp.x}, ${comp.y}), 尺寸: ${comp.width}x${comp.height}`)\r\n    console.log(`📍 占用列: ${startCol} -> ${endCol} (${compSpanCols}列), 底部Y: ${compBottomY}`)\r\n\r\n    for (let i = startCol; i < endCol; i++) {\r\n      if (i >= 0 && i < COLUMNS) {\r\n        columnHeights[i] = Math.max(columnHeights[i] || 0, compBottomY)\r\n      }\r\n    }\r\n  }\r\n\r\n  console.log(`📊 列高度数组:`, columnHeights.slice(0, 12)) // 只显示前12列\r\n\r\n  // 找到最佳放置位置（高度最低的连续列）\r\n  let bestStartCol = 0\r\n  let minHeight = Infinity\r\n\r\n  for (let startCol = 0; startCol <= COLUMNS - actualSpanCols; startCol++) {\r\n    let maxHeightInRange = 0\r\n    for (let i = startCol; i < startCol + actualSpanCols; i++) {\r\n      maxHeightInRange = Math.max(maxHeightInRange, columnHeights[i] || 0)\r\n    }\r\n\r\n    if (maxHeightInRange < minHeight) {\r\n      minHeight = maxHeightInRange\r\n      bestStartCol = startCol\r\n    }\r\n  }\r\n\r\n  // 计算实际位置：列索引 * (列宽 + 间距)\r\n  const newX = bestStartCol * (columnWidth + gap)\r\n  const newY = minHeight\r\n\r\n  console.log(`🎯 最佳位置: 列${bestStartCol}, 高度${minHeight} -> 坐标(${newX}, ${newY})`)\r\n\r\n  // 检查是否超出容器高度\r\n  if (newY + newComponent.height > containerHeight) {\r\n    console.warn(`❌ 位置超出容器高度: ${newY + newComponent.height} > ${containerHeight}`)\r\n    return null\r\n  }\r\n\r\n  // 验证新位置不与现有组件重叠\r\n  const newPosition = { x: parseFloat(newX.toFixed(2)), y: parseFloat(newY.toFixed(2)) }\r\n  const newSize = { width: newComponent.width, height: newComponent.height }\r\n\r\n  for (const existingComp of components) {\r\n    if (hasOverlap(\r\n      newPosition,\r\n      newSize,\r\n      { x: existingComp.x, y: existingComp.y },\r\n      { width: existingComp.width, height: existingComp.height }\r\n    )) {\r\n      console.warn('新组件位置与现有组件重叠')\r\n      return null\r\n    }\r\n  }\r\n\r\n  return newPosition\r\n}\r\n\r\n\r\n// 检查是否可以添加组件（提前验证）\r\nexport function canAddComponent(\r\n  components: ComponentItemModel[],\r\n  newComponent: ComponentItemModel,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): boolean {\r\n  const testComponents = [...components, { ...newComponent, x: 0, y: 0 }]\r\n  return reorganizeLayout(testComponents, containerInfo, gridConfig)\r\n}\r\n\r\n// 计算可用空间\r\nexport function calculateAvailableSpace(\r\n  components: ComponentItemModel[],\r\n  containerInfo: ContainerInfo,\r\n  _gridConfig: GridConfig\r\n) {\r\n  const usedArea = components.reduce((total, comp) => {\r\n    return total + (comp.width * comp.height)\r\n  }, 0)\r\n\r\n  const totalArea = containerInfo.width * containerInfo.height\r\n\r\n  return {\r\n    usedArea,\r\n    totalArea,\r\n    availableArea: totalArea - usedArea,\r\n    utilization: ((usedArea / totalArea) * 100).toFixed(1) + '%'\r\n  }\r\n}\r\n\r\n// 吸附到网格（吸附到最近的栅格格子）\r\nexport function snapToGrid(position: Position, gridConfig: GridConfig): Position {\r\n  const { cellWidth, cellHeight, gap } = gridConfig\r\n  const unitWidth = cellWidth + gap\r\n  const unitHeight = cellHeight + gap\r\n\r\n  // 计算最近的网格位置\r\n  const nearestGridX = Math.round(position.x / unitWidth) * unitWidth\r\n  const nearestGridY = Math.round(position.y / unitHeight) * unitHeight\r\n\r\n  return {\r\n    x: parseFloat(nearestGridX.toFixed(2)),\r\n    y: parseFloat(nearestGridY.toFixed(2))\r\n  }\r\n}\r\n\r\n// 基于24列栅格系统的智能吸附\r\nexport function snapToColumnGrid(\r\n  position: Position,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): Position {\r\n  const { width: containerWidth } = containerInfo\r\n  const { gap, cellHeight } = gridConfig\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = (containerWidth - (COLUMNS - 1) * gap) / COLUMNS\r\n  const unitWidth = columnWidth + gap\r\n  const unitHeight = cellHeight + gap\r\n\r\n  // 计算最近的列位置\r\n  let nearestColumn = Math.round(position.x / unitWidth)\r\n\r\n  // 确保列索引在有效范围内\r\n  nearestColumn = Math.max(0, Math.min(nearestColumn, COLUMNS - 1))\r\n\r\n  // 计算吸附后的X坐标：列索引 * (列宽 + 间距)\r\n  const snappedX = nearestColumn * unitWidth\r\n\r\n  // 计算最近的行位置\r\n  let nearestRow = Math.round(position.y / unitHeight)\r\n\r\n  // 确保行索引不为负数\r\n  nearestRow = Math.max(0, nearestRow)\r\n\r\n  // 计算吸附后的Y坐标\r\n  const snappedY = nearestRow * unitHeight\r\n\r\n  return {\r\n    x: parseFloat(snappedX.toFixed(2)),\r\n    y: parseFloat(snappedY.toFixed(2))\r\n  }\r\n}\r\n\r\n// 智能吸附（考虑组件尺寸，确保不超出边界）\r\nexport function snapToColumnGridWithSize(\r\n  position: Position,\r\n  componentSize: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): Position {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n  const { gap } = gridConfig\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = (containerWidth - (COLUMNS - 1) * gap) / COLUMNS\r\n  const unitWidth = columnWidth + gap\r\n\r\n  // 计算最近的列位置\r\n  let nearestColumn = Math.round(position.x / unitWidth)\r\n\r\n  // 计算组件占用的列数（组件宽度已经包含了间距）\r\n  const componentCols = Math.ceil(componentSize.width / unitWidth)\r\n\r\n  // 确保组件不会超出右边界\r\n  const maxColumn = COLUMNS - componentCols\r\n  nearestColumn = Math.max(0, Math.min(nearestColumn, maxColumn))\r\n\r\n  // 计算吸附后的X坐标：列索引 * (列宽 + 间距)\r\n  const snappedX = nearestColumn * unitWidth\r\n\r\n  // Y坐标不进行栅格吸附，保持原始位置\r\n  let snappedY = position.y\r\n\r\n  // 确保组件不会超出下边界\r\n  if (snappedY + componentSize.height > containerHeight) {\r\n    snappedY = containerHeight - componentSize.height\r\n  }\r\n\r\n  // 确保Y坐标不为负数\r\n  snappedY = Math.max(0, snappedY)\r\n\r\n  return {\r\n    x: parseFloat(snappedX.toFixed(2)),\r\n    y: parseFloat(snappedY.toFixed(2))\r\n  }\r\n}\r\n\r\n// 智能高度吸附（只在与上面紧邻组件距离小于等于gap时才吸附）\r\nexport function snapToColumnGridWithSmartHeight(\r\n  position: Position,\r\n  componentSize: Size,\r\n  components: ComponentItemModel[],\r\n  currentId: string,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): Position {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n  const { gap } = gridConfig\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = (containerWidth - (COLUMNS - 1) * gap) / COLUMNS\r\n  const unitWidth = columnWidth + gap\r\n\r\n  // 计算最近的列位置\r\n  let nearestColumn = Math.round(position.x / unitWidth)\r\n\r\n  // 计算组件占用的列数（组件宽度已经包含了间距）\r\n  const componentCols = Math.ceil(componentSize.width / unitWidth)\r\n\r\n  // 确保组件不会超出右边界\r\n  const maxColumn = COLUMNS - componentCols\r\n  nearestColumn = Math.max(0, Math.min(nearestColumn, maxColumn))\r\n\r\n  // 计算吸附后的X坐标：列索引 * (列宽 + 间距)\r\n  const snappedX = nearestColumn * unitWidth\r\n\r\n  // 智能Y坐标处理\r\n  let snappedY = position.y\r\n\r\n  // 查找在当前组件上方且有水平重叠的组件\r\n  const candidateComponents = components.filter(comp => {\r\n    if (comp.id === currentId) return false\r\n\r\n    // 检查水平重叠（使用吸附后的X坐标）\r\n    const horizontalOverlap = snappedX < comp.x + comp.width && snappedX + componentSize.width > comp.x\r\n\r\n    // 检查是否在上方（组件底部在当前位置上方）\r\n    const isAbove = comp.y + comp.height <= position.y\r\n\r\n    return horizontalOverlap && isAbove\r\n  })\r\n\r\n  if (candidateComponents.length > 0) {\r\n    // 找到最接近的上方组件（距离当前位置最近的）\r\n    let closestComponent: ComponentItemModel | null = null\r\n    let minDistance = Infinity\r\n\r\n    for (const comp of candidateComponents) {\r\n      const distance = position.y - (comp.y + comp.height)\r\n      if (distance >= 0 && distance < minDistance) {\r\n        minDistance = distance\r\n        closestComponent = comp\r\n      }\r\n    }\r\n\r\n    // 如果距离小于等于gap，则吸附到该组件下方并留出gap距离\r\n    if (closestComponent && minDistance <= gap) {\r\n      snappedY = closestComponent.y + closestComponent.height + gap\r\n      console.log(`高度吸附: 距离=${minDistance}, 吸附到Y=${snappedY}`)\r\n    } else {\r\n      console.log(`不进行高度吸附: 距离=${minDistance} > gap=${gap}`)\r\n    }\r\n  }\r\n\r\n  // 确保组件不会超出下边界\r\n  if (snappedY + componentSize.height > containerHeight) {\r\n    snappedY = containerHeight - componentSize.height\r\n  }\r\n\r\n  // 确保Y坐标不为负数\r\n  snappedY = Math.max(0, snappedY)\r\n\r\n  return {\r\n    x: parseFloat(snappedX.toFixed(2)),\r\n    y: parseFloat(snappedY.toFixed(2))\r\n  }\r\n}\r\n\r\n// 重新组织布局（瀑布流布局，固定24列）\r\nexport function reorganizeLayout(\r\n  components: ComponentItemModel[],\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig,\r\n  skipAutoFill: boolean = false,\r\n  onlyOnSizeIncrease: boolean = false\r\n): boolean {\r\n  if (components.length === 0) return true\r\n\r\n  const { gap } = gridConfig\r\n  const containerWidth = containerInfo.width\r\n  const containerHeight = containerInfo.height\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = (containerWidth - (COLUMNS - 1) * gap) / COLUMNS\r\n\r\n  // 如果是尺寸减小的情况，只检查边界，不重新布局\r\n  if (onlyOnSizeIncrease) {\r\n    // 检查所有组件是否仍在容器范围内\r\n    for (const comp of components) {\r\n      if (comp.x + comp.width > containerWidth || comp.y + comp.height > containerHeight) {\r\n        // 如果有组件超出边界，需要调整\r\n        comp.x = Math.min(comp.x, containerWidth - comp.width)\r\n        comp.y = Math.min(comp.y, containerHeight - comp.height)\r\n        comp.x = Math.max(0, comp.x)\r\n        comp.y = Math.max(0, comp.y)\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  // 记录每列的当前高度\r\n  const columnHeights: number[] = new Array(COLUMNS).fill(0)\r\n\r\n  for (const comp of components) {\r\n    // 自动填充组件尺寸到栅格（可选）\r\n    if (!skipAutoFill) {\r\n      autoFillComponentToGrid(comp, columnWidth, gap)\r\n    }\r\n\r\n    // 计算组件占用的列数（组件宽度已经包含了间距）\r\n    const spanCols = Math.ceil(comp.width / (columnWidth + gap))\r\n    const actualSpanCols = Math.min(spanCols, COLUMNS)\r\n\r\n    // 找到最佳放置位置（高度最低的连续列）\r\n    let bestStartCol = 0\r\n    let minHeight = Infinity\r\n\r\n    for (let startCol = 0; startCol <= COLUMNS - actualSpanCols; startCol++) {\r\n      // 计算这个位置的最大高度\r\n      let maxHeightInRange = 0\r\n      for (let i = startCol; i < startCol + actualSpanCols; i++) {\r\n        maxHeightInRange = Math.max(maxHeightInRange, columnHeights[i] || 0)\r\n      }\r\n\r\n      // 如果这个位置的高度更低，选择这个位置\r\n      if (maxHeightInRange < minHeight) {\r\n        minHeight = maxHeightInRange\r\n        bestStartCol = startCol\r\n      }\r\n    }\r\n\r\n    // 计算组件的实际位置：列索引 * (列宽 + 间距)\r\n    comp.x = parseFloat((bestStartCol * (columnWidth + gap)).toFixed(2))\r\n    comp.y = parseFloat(minHeight.toFixed(2))\r\n\r\n    // 检查是否超出容器高度\r\n    if (comp.y + comp.height > containerHeight) {\r\n      console.warn('组件超出容器高度，无法完成布局')\r\n      return false // 布局失败\r\n    }\r\n\r\n    // 更新占用列的高度\r\n    const newHeight = comp.y + comp.height + gap\r\n    for (let i = bestStartCol; i < bestStartCol + actualSpanCols; i++) {\r\n      columnHeights[i] = newHeight\r\n    }\r\n  }\r\n\r\n  return true // 布局成功\r\n}\r\n\r\n// 基于24列栅格系统的组件自动填充\r\nexport function autoFillComponentToGrid(\r\n  component: ComponentItemModel,\r\n  columnWidth: number,\r\n  gap: number\r\n): void {\r\n  // 确保最小尺寸\r\n  const minWidth = component.minWidth || columnWidth\r\n  const minHeight = component.minHeight || 60\r\n\r\n  component.width = Math.max(component.width, minWidth)\r\n  component.height = Math.max(component.height, minHeight)\r\n\r\n  // 如果组件宽度未填满栅格，则进行填充\r\n  // 计算组件应该占用的列数\r\n  const requiredCols = Math.ceil(component.width / (columnWidth + gap))\r\n  const actualCols = Math.min(requiredCols, COLUMNS)\r\n\r\n  // 计算填充后的宽度\r\n  const filledWidth = actualCols * columnWidth + (actualCols - 1) * gap\r\n\r\n  // 更新组件宽度为填充后的宽度\r\n  component.width = parseFloat(filledWidth.toFixed(2))\r\n}\r\n\r\n// 修改组件调整大小时也支持自动填充（基于24列栅格）\r\nexport function resizeComponentWithAutoFill(\r\n  component: ComponentItemModel,\r\n  newSize: Size,\r\n  gridConfig: GridConfig,\r\n  containerWidth?: number\r\n): Size {\r\n  const { gap } = gridConfig\r\n\r\n  // 计算每列的宽度（24列固定）\r\n  const columnWidth = containerWidth ?\r\n    (containerWidth - (COLUMNS - 1) * gap) / COLUMNS :\r\n    gridConfig.cellWidth\r\n\r\n  // 确保最小尺寸\r\n  const minWidth = component.minWidth || columnWidth\r\n  const minHeight = component.minHeight || 60\r\n\r\n  const actualWidth = Math.max(newSize.width, minWidth)\r\n  const actualHeight = Math.max(newSize.height, minHeight)\r\n\r\n  // 计算组件应该占用的列数\r\n  const requiredCols = Math.ceil(actualWidth / (columnWidth + gap))\r\n  const actualCols = Math.min(requiredCols, COLUMNS)\r\n\r\n  // 计算填充后的宽度\r\n  const filledWidth = actualCols * columnWidth + (actualCols - 1) * gap\r\n\r\n  // 确保填充后的宽度不小于最小值\r\n  const finalWidth = Math.max(filledWidth, minWidth)\r\n  // 高度不进行栅格填充，保持用户设置的高度\r\n  const finalHeight = Math.max(actualHeight, minHeight)\r\n\r\n  return {\r\n    width: parseFloat(finalWidth.toFixed(2)),\r\n    height: parseFloat(finalHeight.toFixed(2))\r\n  }\r\n}\r\n\r\n// 检查调整大小是否会影响其他组件，并返回需要更新的组件\r\nexport function getAffectedComponents(\r\n  components: ComponentItemModel[],\r\n  resizingComponent: ComponentItemModel,\r\n  newPosition: Position,\r\n  newSize: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): { affected: ComponentItemModel[]; canResize: boolean } {\r\n  const affected: ComponentItemModel[] = []\r\n\r\n  // 检查是否是尺寸增加\r\n  const sizeIncreased = newSize.width > resizingComponent.width || newSize.height > resizingComponent.height\r\n\r\n  // 如果尺寸增加，检查是否需要触发布局调整\r\n  let needsLayoutAdjustment = false;\r\n  if (sizeIncreased) {\r\n    needsLayoutAdjustment = shouldTriggerLayout(\r\n      resizingComponent,\r\n      newPosition,\r\n      newSize,\r\n      components,\r\n      gridConfig.gap\r\n    );\r\n  }\r\n\r\n  // 创建临时组件列表，用于模拟调整后的状态\r\n  const tempComponents = components.map(comp =>\r\n    comp.id === resizingComponent.id\r\n      ? { ...comp, ...newPosition, ...newSize }\r\n      : { ...comp }\r\n  )\r\n\r\n  // 只有在需要布局调整时才进行重新布局\r\n  if (needsLayoutAdjustment) {\r\n    const layoutSuccess = reorganizeLayout(tempComponents, containerInfo, gridConfig, true, false)\r\n\r\n    if (!layoutSuccess) {\r\n      return { affected: [], canResize: false }\r\n    }\r\n\r\n    // 找出位置发生变化的组件\r\n    components.forEach(comp => {\r\n      if (comp.id !== resizingComponent.id) {\r\n        const tempComp = tempComponents.find(tc => tc.id === comp.id)\r\n        if (tempComp && (tempComp.x !== comp.x || tempComp.y !== comp.y)) {\r\n          affected.push({ ...comp, x: tempComp.x, y: tempComp.y })\r\n        }\r\n      }\r\n    })\r\n  } else {\r\n    // 不需要布局调整，只做边界检查\r\n    const layoutSuccess = reorganizeLayout(tempComponents, containerInfo, gridConfig, true, true)\r\n\r\n    if (!layoutSuccess) {\r\n      return { affected: [], canResize: false }\r\n    }\r\n  }\r\n\r\n  return { affected, canResize: true }\r\n}\r\n\r\n// 智能验证位置（考虑动态布局）\r\nexport function validatePositionWithLayout(\r\n  components: ComponentItemModel[],\r\n  currentId: string,\r\n  position: Position,\r\n  size: Size,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): { valid: boolean; affectedComponents: ComponentItemModel[] } {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n\r\n  // 基础边界检查\r\n  if (position.x < 0 ||\r\n    position.y < 0 ||\r\n    position.x + size.width > containerWidth ||\r\n    position.y + size.height > containerHeight) {\r\n    return { valid: false, affectedComponents: [] }\r\n  }\r\n\r\n  // 获取受影响的组件\r\n  const currentComponent = components.find(c => c.id === currentId)\r\n  if (!currentComponent) {\r\n    return { valid: false, affectedComponents: [] }\r\n  }\r\n\r\n  const { affected, canResize } = getAffectedComponents(\r\n    components,\r\n    currentComponent,\r\n    position,\r\n    size,\r\n    containerInfo,\r\n    gridConfig\r\n  )\r\n\r\n  return { valid: canResize, affectedComponents: affected }\r\n}\r\n\r\n// 严格检查组件重叠\r\nfunction hasOverlap(\r\n  pos1: Position,\r\n  size1: Size,\r\n  pos2: Position,\r\n  size2: Size\r\n): boolean {\r\n  const overlapX = pos1.x < pos2.x + size2.width && pos1.x + size1.width > pos2.x\r\n  const overlapY = pos1.y < pos2.y + size2.height && pos1.y + size1.height > pos2.y\r\n  return overlapX && overlapY\r\n}\r\n\r\n// 智能验证拖拽位置（严格防止重叠）\r\nexport function validateDragPosition(\r\n  components: ComponentItemModel[],\r\n  currentId: string,\r\n  newPosition: Position,\r\n  containerInfo: ContainerInfo,\r\n  gridConfig: GridConfig\r\n): { valid: boolean; affectedComponents: ComponentItemModel[]; finalPosition: Position } {\r\n  const { width: containerWidth, height: containerHeight } = containerInfo\r\n\r\n  // 获取当前组件\r\n  const currentComponent = components.find(c => c.id === currentId)\r\n  if (!currentComponent) {\r\n    return { valid: false, affectedComponents: [], finalPosition: newPosition }\r\n  }\r\n\r\n  const currentSize = { width: currentComponent.width, height: currentComponent.height }\r\n\r\n  // 使用智能高度吸附，只在与上面紧邻组件距离小于等于gap时才吸附\r\n  const snappedPosition = snapToColumnGridWithSmartHeight(\r\n    newPosition,\r\n    currentSize,\r\n    components,\r\n    currentId,\r\n    containerInfo,\r\n    gridConfig\r\n  )\r\n\r\n  // 基础边界检查\r\n  if (snappedPosition.x < 0 ||\r\n    snappedPosition.y < 0 ||\r\n    snappedPosition.x + currentSize.width > containerWidth ||\r\n    snappedPosition.y + currentSize.height > containerHeight) {\r\n    return { valid: false, affectedComponents: [], finalPosition: snappedPosition }\r\n  }\r\n\r\n  // 严格检查是否与其他组件重叠\r\n  for (const otherComponent of components) {\r\n    if (otherComponent.id === currentId) continue\r\n\r\n    if (hasOverlap(\r\n      snappedPosition,\r\n      currentSize,\r\n      { x: otherComponent.x, y: otherComponent.y },\r\n      { width: otherComponent.width, height: otherComponent.height }\r\n    )) {\r\n      // 发现重叠，拒绝此位置\r\n      return { valid: false, affectedComponents: [], finalPosition: snappedPosition }\r\n    }\r\n  }\r\n\r\n  // 检查是否需要触发布局调整（仅当距离很近时）\r\n  const needsLayoutAdjustment = shouldTriggerLayout(\r\n    currentComponent,\r\n    snappedPosition,\r\n    currentSize,\r\n    components,\r\n    gridConfig.gap\r\n  )\r\n\r\n  if (!needsLayoutAdjustment) {\r\n    // 没有重叠且不需要布局调整，可以自由拖拽\r\n    return { valid: true, affectedComponents: [], finalPosition: snappedPosition }\r\n  }\r\n\r\n  // 需要布局调整，但要确保调整后不会产生重叠\r\n  const draggedComponent = {\r\n    ...currentComponent,\r\n    x: snappedPosition.x,\r\n    y: snappedPosition.y\r\n  }\r\n\r\n  const tempComponents = components.map(comp =>\r\n    comp.id === currentId ? draggedComponent : { ...comp }\r\n  )\r\n\r\n  const layoutSuccess = reorganizeLayout(tempComponents, containerInfo, gridConfig, true, false)\r\n\r\n  if (!layoutSuccess) {\r\n    return { valid: false, affectedComponents: [], finalPosition: snappedPosition }\r\n  }\r\n\r\n  // 验证布局后是否有重叠\r\n  for (let i = 0; i < tempComponents.length; i++) {\r\n    for (let j = i + 1; j < tempComponents.length; j++) {\r\n      const comp1 = tempComponents[i]\r\n      const comp2 = tempComponents[j]\r\n\r\n      if (comp1 && comp2 && hasOverlap(\r\n        { x: comp1.x, y: comp1.y },\r\n        { width: comp1.width, height: comp1.height },\r\n        { x: comp2.x, y: comp2.y },\r\n        { width: comp2.width, height: comp2.height }\r\n      )) {\r\n        // 布局后仍有重叠，拒绝此操作\r\n        return { valid: false, affectedComponents: [], finalPosition: snappedPosition }\r\n      }\r\n    }\r\n  }\r\n\r\n  // 找出位置发生变化的组件\r\n  const affected: ComponentItemModel[] = []\r\n  components.forEach(comp => {\r\n    if (comp.id !== currentId) {\r\n      const tempComp = tempComponents.find(tc => tc.id === comp.id)\r\n      if (tempComp && (tempComp.x !== comp.x || tempComp.y !== comp.y)) {\r\n        affected.push({ ...comp, x: tempComp.x, y: tempComp.y })\r\n      }\r\n    }\r\n  })\r\n\r\n  return { valid: true, affectedComponents: affected, finalPosition: snappedPosition }\r\n}","<template>\r\n  <div \r\n    class=\"gridster-item\" \r\n    :class=\"{ resizing: isResizing }\" \r\n    :style=\"componentStyle\" \r\n    draggable=\"true\"\r\n    @dragstart=\"onDragStart\" \r\n    @drag=\"onDrag\" \r\n    @dragend=\"onDragEnd\"\r\n  >\r\n\r\n    <slot></slot>\r\n\r\n    <!-- 调整手柄 -->\r\n    <div class=\"resize-overlay\">\r\n      <div class=\"edge top\" @mousedown=\"onEdgeMouseDown('top', $event)\"></div>\r\n      <div class=\"edge right\" @mousedown=\"onEdgeMouseDown('right', $event)\"></div>\r\n      <div class=\"edge bottom\" @mousedown=\"onEdgeMouseDown('bottom', $event)\"></div>\r\n      <div class=\"edge left\" @mousedown=\"onEdgeMouseDown('left', $event)\"></div>\r\n      <div class=\"corner top-left\" @mousedown=\"onCornerMouseDown('top-left', $event)\"></div>\r\n      <div class=\"corner top-right\" @mousedown=\"onCornerMouseDown('top-right', $event)\"></div>\r\n      <div class=\"corner bottom-left\" @mousedown=\"onCornerMouseDown('bottom-left', $event)\"></div>\r\n      <div class=\"corner bottom-right\" @mousedown=\"onCornerMouseDown('bottom-right', $event)\"></div>\r\n    </div>\r\n\r\n    <icon-delete :size=\"16\" class=\"remove-btn\" @click=\"$emit('remove', component.id)\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref } from 'vue';\r\nimport type { ComponentItemModel, GridConfig, Position, Size, ContainerInfo } from '../types/layout';\r\nimport { resizeComponentWithAutoFill } from '../utils/grid'\r\n\r\ninterface Props {\r\n  component: ComponentItemModel\r\n  gridConfig: GridConfig\r\n  containerInfo: ContainerInfo\r\n}\r\n\r\nconst props = defineProps<Props>()\r\nconst emit = defineEmits<{\r\n  resize: [id: string, size: Size & Partial<Position> & { resizeType?: string }]\r\n  drag: [id: string, position: Position]\r\n  remove: [id: string]\r\n}>()\r\n\r\nconst isDragging = ref(false)\r\nconst isResizing = ref(false)\r\nconst currentResizeType = ref<string>('') // 'edge' or 'corner' + direction\r\nconst dragStartPosition = ref<Position>({ x: 0, y: 0 })\r\nconst dragOffset = ref<Position>({ x: 0, y: 0 })\r\n\r\n// 计算组件样式\r\nconst componentStyle = computed((): any => {\r\n  return {\r\n    position: 'absolute',\r\n    left: `${props.component.x}px`,\r\n    top: `${props.component.y}px`,\r\n    width: `${props.component.width}px`,\r\n    height: `${props.component.height}px`,\r\n    zIndex: isDragging.value || isResizing.value ? 100 : 1,\r\n    cursor: isResizing.value ? getResizeCursor(currentResizeType.value) : 'move'\r\n  }\r\n})\r\n\r\n// 获取调整时的光标样式\r\nconst getResizeCursor = (type: string) => {\r\n  const cursorMap: { [key: string]: string } = {\r\n    'top': 'n-resize',\r\n    'right': 'e-resize',\r\n    'bottom': 's-resize',\r\n    'left': 'w-resize',\r\n    'top-left': 'nw-resize',\r\n    'top-right': 'ne-resize',\r\n    'bottom-left': 'sw-resize',\r\n    'bottom-right': 'se-resize'\r\n  }\r\n  return cursorMap[type] || 'move'\r\n}\r\n\r\n// 边缘拖拽调整\r\nconst onEdgeMouseDown = (edge: string, e: MouseEvent) => {\r\n  e.preventDefault()\r\n  e.stopPropagation()\r\n\r\n  onResizeStart(edge, e)\r\n}\r\n\r\n// 角落拖拽调整\r\nconst onCornerMouseDown = (corner: string, e: MouseEvent) => {\r\n  e.preventDefault()\r\n  e.stopPropagation()\r\n\r\n  onResizeStart(corner, e)\r\n}\r\n\r\nconst onDragStart = (e: DragEvent) => {\r\n  isDragging.value = true;\r\n\r\n  e.dataTransfer?.setData('text/plain', props.component.id);\r\n  e.dataTransfer!.effectAllowed = 'move'\r\n\r\n  // 设置拖拽预览\r\n  const dragImage = e.currentTarget as HTMLElement\r\n  e.dataTransfer?.setDragImage(dragImage, 0, 0)\r\n\r\n\r\n  // 记录拖拽起始位置和鼠标偏移\r\n  const rect = dragImage.getBoundingClientRect()\r\n  dragStartPosition.value = {\r\n    x: props.component.x,\r\n    y: props.component.y\r\n  }\r\n  dragOffset.value = {\r\n    x: e.clientX - rect.left,\r\n    y: e.clientY - rect.top\r\n  }\r\n}\r\n\r\n// 添加拖拽过程中的实时位置更新\r\nconst onDrag = (e: DragEvent) => {\r\n  if (!isDragging.value) return\r\n\r\n  // 计算实时拖拽位置\r\n  const containerRect = (e.currentTarget as HTMLElement).parentElement?.getBoundingClientRect()\r\n\r\n  if (!containerRect) return\r\n\r\n  // 计算在容器内的位置\r\n  const pixelX = e.clientX - containerRect.left - dragOffset.value.x\r\n  const pixelY = e.clientY - containerRect.top - dragOffset.value.y\r\n\r\n  // 发射 drag 事件，让父组件处理位置更新\r\n  emit('drag', props.component.id, { x: pixelX, y: pixelY })\r\n}\r\n\r\n\r\nconst onDragEnd = () => {\r\n  isDragging.value = false\r\n  dragStartPosition.value = { x: 0, y: 0 }\r\n  dragOffset.value = { x: 0, y: 0 }\r\n}\r\n\r\n// 调整大小（像素计算）\r\nconst onResizeStart = (type: string, e: MouseEvent) => {\r\n  e.preventDefault()\r\n  e.stopPropagation()\r\n\r\n  const startX = e.clientX\r\n  const startY = e.clientY\r\n  const startWidth = props.component.width\r\n  const startHeight = props.component.height\r\n  const startXPos = props.component.x\r\n  const startYPos = props.component.y\r\n\r\n  const containerWidth = props.containerInfo.width\r\n  const containerHeight = props.containerInfo.height\r\n\r\n  currentResizeType.value = type\r\n  isResizing.value = true\r\n\r\n  const onMouseMove = (moveEvent: MouseEvent) => {\r\n    if (moveEvent.buttons === 0) {\r\n      // 鼠标按钮释放，结束调整\r\n      onMouseUp()\r\n      return\r\n    }\r\n\r\n    const deltaX = moveEvent.clientX - startX\r\n    const deltaY = moveEvent.clientY - startY\r\n\r\n    let newWidth = startWidth\r\n    let newHeight = startHeight\r\n    let newX = startXPos\r\n    let newY = startYPos\r\n\r\n    // 根据手柄位置计算新的像素尺寸（简化逻辑，边缘调整不改变位置）\r\n    switch (type) {\r\n      case 'right':\r\n        // 右边缘：只改变宽度，从右侧扩展，左边缘保持不变\r\n        newWidth = Math.max(props.component.minWidth || 100, startWidth + deltaX)\r\n        // 位置不变\r\n        break\r\n\r\n      case 'left':\r\n        // 左边缘：改变宽度，从左侧变化，右边缘保持不变\r\n        newWidth = Math.max(props.component.minWidth || 100, startWidth - deltaX)\r\n        // 调整位置以保持右边缘不变\r\n        newX = startXPos + startWidth - newWidth\r\n        break\r\n\r\n      case 'bottom':\r\n        // 下边缘：只改变高度，从下侧扩展，上边缘保持不变\r\n        newHeight = Math.max(props.component.minHeight || 60, startHeight + deltaY)\r\n        // 位置不变\r\n        break\r\n\r\n      case 'top':\r\n        // 上边缘：改变高度，从上侧变化，下边缘保持不变\r\n        newHeight = Math.max(props.component.minHeight || 60, startHeight - deltaY)\r\n        // 调整位置以保持下边缘不变\r\n        newY = startYPos + startHeight - newHeight\r\n        break\r\n\r\n      case 'top-right':\r\n        // 右上角：左侧和底部不变\r\n        newWidth = Math.max(props.component.minWidth || 100, startWidth + deltaX)\r\n        newHeight = Math.max(props.component.minHeight || 60, startHeight - deltaY)\r\n        // 调整Y位置以保持底部不变\r\n        newY = startYPos + startHeight - newHeight\r\n        // X位置不变（左侧不变）\r\n        break\r\n\r\n      case 'top-left':\r\n        // 左上角：右侧和底部不变\r\n        newWidth = Math.max(props.component.minWidth || 100, startWidth - deltaX)\r\n        newHeight = Math.max(props.component.minHeight || 60, startHeight - deltaY)\r\n        // 调整位置以保持右侧和底部不变\r\n        newX = startXPos + startWidth - newWidth\r\n        newY = startYPos + startHeight - newHeight\r\n        break\r\n\r\n      case 'bottom-left':\r\n        // 左下角：右侧和上侧不变\r\n        newWidth = Math.max(props.component.minWidth || 100, startWidth - deltaX)\r\n        newHeight = Math.max(props.component.minHeight || 60, startHeight + deltaY)\r\n        // 调整X位置以保持右侧不变\r\n        newX = startXPos + startWidth - newWidth\r\n        // Y位置不变（上侧不变）\r\n        break\r\n\r\n      case 'bottom-right':\r\n        // 右下角：左侧和上侧不变\r\n        newWidth = Math.max(props.component.minWidth || 100, startWidth + deltaX)\r\n        newHeight = Math.max(props.component.minHeight || 60, startHeight + deltaY)\r\n        // 位置不变（左侧和上侧不变）\r\n        break\r\n    }\r\n\r\n    // 边界检查：确保组件不超出容器\r\n    // 确保位置不为负数\r\n    newX = Math.max(0, newX)\r\n    newY = Math.max(0, newY)\r\n    \r\n    // 确保组件不超出容器右边界和下边界\r\n    if (newX + newWidth > containerWidth) {\r\n      if (type.includes('left')) {\r\n        // 如果是从左侧调整，调整位置而不是宽度\r\n        newX = containerWidth - newWidth\r\n        newX = Math.max(0, newX)\r\n      } else {\r\n        // 如果是从右侧调整，调整宽度\r\n        newWidth = containerWidth - newX\r\n      }\r\n    }\r\n    \r\n    if (newY + newHeight > containerHeight) {\r\n      if (type.includes('top')) {\r\n        // 如果是从上侧调整，调整位置而不是高度\r\n        newY = containerHeight - newHeight\r\n        newY = Math.max(0, newY)\r\n      } else {\r\n        // 如果是从下侧调整，调整高度\r\n        newHeight = containerHeight - newY\r\n      }\r\n    }\r\n\r\n    // 确保最小尺寸\r\n    newWidth = Math.max(props.component.minWidth || 100, newWidth)\r\n    newHeight = Math.max(props.component.minHeight || 60, newHeight)\r\n\r\n    // 根据调整类型决定是否应用自动填充\r\n    let filledSize = { width: newWidth, height: newHeight }\r\n\r\n    // 只有在调整宽度相关的操作时才进行栅格填充\r\n    const isWidthResize = ['left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'].includes(type)\r\n\r\n    if (isWidthResize) {\r\n      // 应用自动填充（只对宽度）\r\n      filledSize = resizeComponentWithAutoFill(\r\n        props.component,\r\n        { width: newWidth, height: newHeight },\r\n        props.gridConfig,\r\n        props.containerInfo.width\r\n      )\r\n    }\r\n\r\n    // 填充后的边界检查\r\n    if (newX + filledSize.width > containerWidth) {\r\n      filledSize.width = containerWidth - newX\r\n    }\r\n\r\n    // 高度边界检查（填充不会改变高度）\r\n    if (newY + filledSize.height > containerHeight) {\r\n      filledSize.height = containerHeight - newY\r\n    }\r\n\r\n    // 确保最终尺寸不小于最小值\r\n    filledSize.width = Math.max(props.component.minWidth || 100, filledSize.width)\r\n    filledSize.height = Math.max(props.component.minHeight || 60, filledSize.height)\r\n\r\n    // 发射 resize 事件\r\n    emit('resize', props.component.id, {\r\n      width: parseFloat(filledSize.width.toFixed(2)),\r\n      height: parseFloat(filledSize.height.toFixed(2)),\r\n      x: parseFloat(newX.toFixed(2)),\r\n      y: parseFloat(newY.toFixed(2)),\r\n      resizeType: type\r\n    })\r\n  }\r\n\r\n  const onMouseUp = () => {\r\n    document.removeEventListener('mousemove', onMouseMove)\r\n    document.removeEventListener('mouseup', onMouseUp)\r\n    document.removeEventListener('mouseleave', onMouseUp) // 添加鼠标离开监听\r\n    isResizing.value = false\r\n    currentResizeType.value = ''\r\n  }\r\n\r\n  document.addEventListener('mousemove', onMouseMove)\r\n  document.addEventListener('mouseup', onMouseUp)\r\n  document.addEventListener('mouseleave', onMouseUp) // 鼠标离开窗口时也结束\r\n  isResizing.value = true\r\n  currentResizeType.value = ''\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.gridster-item {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  position: relative;\r\n  cursor: move;\r\n  transition: all 0.2s ease;\r\n  min-height: 0;\r\n  /* 允许收缩 */\r\n  min-width: 0;\r\n  /* 允许收缩 */\r\n\r\n  &:hover {\r\n    border-color: #007bff;\r\n    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.15);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.98);\r\n  }\r\n\r\n  .remove-btn {\r\n    position: absolute;\r\n    top: 2px;\r\n    right: 2px;\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n    cursor: pointer;\r\n    color: red;\r\n  }\r\n}\r\n\r\n.resize-overlay {\r\n  position: absolute;\r\n  top: -6px;\r\n  left: -6px;\r\n  right: -6px;\r\n  bottom: -6px;\r\n  pointer-events: none;\r\n}\r\n\r\n.gridster-item:hover .resize-overlay {\r\n  pointer-events: auto;\r\n}\r\n\r\n\r\n.edge {\r\n  position: absolute;\r\n  background: transparent;\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.edge:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.edge.top {\r\n  top: 0;\r\n  left: 6px;\r\n  right: 6px;\r\n  height: 6px;\r\n  cursor: n-resize;\r\n}\r\n\r\n.edge.right {\r\n  top: 6px;\r\n  right: 0;\r\n  bottom: 6px;\r\n  width: 6px;\r\n  cursor: e-resize;\r\n}\r\n\r\n.edge.bottom {\r\n  bottom: 0;\r\n  left: 6px;\r\n  right: 6px;\r\n  height: 6px;\r\n  cursor: s-resize;\r\n}\r\n\r\n.edge.left {\r\n  top: 6px;\r\n  left: 0;\r\n  bottom: 6px;\r\n  width: 6px;\r\n  cursor: w-resize;\r\n}\r\n\r\n.corner {\r\n  position: absolute;\r\n  background: transparent;\r\n  width: 12px;\r\n  height: 12px;\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.corner:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.corner.top-left {\r\n  top: 0;\r\n  left: 0;\r\n  cursor: nw-resize;\r\n}\r\n\r\n.corner.top-right {\r\n  top: 0;\r\n  right: 0;\r\n  cursor: ne-resize;\r\n}\r\n\r\n.corner.bottom-left {\r\n  bottom: 0;\r\n  left: 0;\r\n  cursor: sw-resize;\r\n}\r\n\r\n.corner.bottom-right {\r\n  bottom: 0;\r\n  right: 0;\r\n  cursor: se-resize;\r\n}\r\n\r\n.gridster-item:hover .remove-btn {\r\n  opacity: 1;\r\n}\r\n</style>","<template>\r\n  <a-modal \r\n    v-model:visible=\"visible\" \r\n    title=\"添加组件 \"\r\n    width=\"1000px\"\r\n    @ok=\"handleOk\" \r\n    @cancel=\"close\"\r\n  >\r\n    <div class=\"add-container\">\r\n      <a-alert>已选择：{{ selectedComponents .length }}</a-alert>\r\n      <div class=\"component-library\">\r\n        <div class=\"search-section\">\r\n          <a-input\r\n            v-model=\"searchQuery\"\r\n            type=\"text\"\r\n            placeholder=\"搜索组件...\"\r\n            class=\"search-input\"\r\n          />\r\n        </div>\r\n        \r\n        <a-scrollbar style=\"height: 500px;overflow: auto;\">\r\n          <div class=\"components-grid\">\r\n            <div\r\n              v-for=\"component in filteredComponents\"\r\n              :key=\"component.type\"\r\n              class=\"component-card\"\r\n              :class=\"{\r\n                'selected': isSelected(component),\r\n              }\"\r\n              @click=\"onComponentClick(component)\"\r\n            >\r\n              <slot name=\"component\" :component=\"component\"></slot>\r\n              <div class=\"selection-indicator\" v-if=\"isSelected(component)\">\r\n                ✓\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a-scrollbar>\r\n        <div class=\"empty-state\" v-if=\"filteredComponents.length === 0\">\r\n          未找到匹配的组件\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-modal>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue';\r\nimport type { ComponentItemModel } from '../types/layout';\r\n\r\ninterface Props {\r\n  componentLibrary: ComponentItemModel[]\r\n}\r\nconst props = defineProps<Props>()\r\nconst visible = ref(false)\r\nconst selectedComponents  = ref<ComponentItemModel[]>([])\r\n\r\ninterface Emits {\r\n  (e: 'confirm', components: ComponentItemModel[]): void\r\n  (e: 'cancel'): void\r\n}\r\n\r\nconst emit = defineEmits<Emits>()\r\n\r\nconst onComponentSelect = (component: ComponentItemModel) => {\r\n  const index = selectedComponents.value.findIndex(\r\n    item => item.type === component.type\r\n  )\r\n  \r\n  if (index > -1) {\r\n    // 如果已存在，则移除\r\n    selectedComponents.value.splice(index, 1)\r\n  } else {\r\n    // 如果不存在，则添加\r\n    selectedComponents.value.push(component)\r\n  }\r\n}\r\n\r\nconst searchQuery = ref('')\r\n\r\n// 过滤组件列表\r\nconst filteredComponents = computed(() => {\r\n  if (!searchQuery.value) {\r\n    return props.componentLibrary\r\n  }\r\n  \r\n  const query = searchQuery.value.toLowerCase()\r\n  return props.componentLibrary.filter(component =>\r\n    component.name.toLowerCase().includes(query) ||\r\n    component.type.toLowerCase().includes(query)\r\n  )\r\n})\r\n\r\n// 检查组件是否被选中\r\nconst isSelected = (component: ComponentItemModel) => {\r\n  return selectedComponents.value.some(\r\n    selected => selected.type === component.type\r\n  )\r\n}\r\n\r\nconst onComponentClick = (component: ComponentItemModel) => {\r\n    // 创建组件副本，确保每次添加都是新的实例\r\n    const componentCopy: ComponentItemModel = {\r\n    ...component,\r\n    id: `${component.type}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\r\n    x: 0,\r\n    y: 0\r\n  }\r\n  onComponentSelect(componentCopy)\r\n}\r\n\r\nconst handleOk = () => {\r\n  if (selectedComponents.value.length > 0) {\r\n    close()\r\n    emit('confirm', selectedComponents.value)\r\n    // 重置选择状态\r\n    selectedComponents.value = []\r\n  }\r\n}\r\n\r\nconst close = () => {\r\n  visible.value = false\r\n}\r\n\r\nconst open = () => {\r\n  visible.value = true\r\n}\r\n\r\ndefineExpose({\r\n  open,\r\n  close\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-container {\r\n\r\n  :deep(.arco-alert) {\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .component-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 20px;\r\n\r\n    .component-item {\r\n      flex: 1;\r\n    }\r\n  }\r\n}\r\n\r\n.component-library {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.search-section {\r\n  padding: 16px 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.components-grid {\r\n  flex: 1;\r\n  padding: 16px 0;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n  gap: 16px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.component-card {\r\n  border: 2px solid #e8e8e8;\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  position: relative;\r\n  background: white;\r\n}\r\n\r\n.component-card:hover {\r\n  border-color: #007bff;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.component-card.selected {\r\n  border-color: #007bff;\r\n  background: #f0f8ff;\r\n}\r\n\r\n.component-card.disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.component-card.disabled:hover {\r\n  border-color: #e8e8e8;\r\n  transform: none;\r\n  box-shadow: none;\r\n}\r\n\r\n\r\n\r\n.selection-indicator {\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 8px;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #007bff;\r\n  color: white;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n}\r\n\r\n.disabled-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  color: #ff4444;\r\n  font-weight: 500;\r\n}\r\n\r\n.empty-state {\r\n  padding: 40px 24px;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 滚动条样式 */\r\n.components-grid::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.components-grid::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 3px;\r\n}\r\n\r\n.components-grid::-webkit-scrollbar-thumb {\r\n  background: #c1c1c1;\r\n  border-radius: 3px;\r\n}\r\n\r\n.components-grid::-webkit-scrollbar-thumb:hover {\r\n  background: #a8a8a8;\r\n}\r\n</style>","const opt = Object.prototype.toString;\nfunction isArray(obj) {\n  return opt.call(obj) === \"[object Array]\";\n}\nfunction isNull(obj) {\n  return opt.call(obj) === \"[object Null]\";\n}\nfunction isBoolean(obj) {\n  return opt.call(obj) === \"[object Boolean]\";\n}\nfunction isObject(obj) {\n  return opt.call(obj) === \"[object Object]\";\n}\nconst isPromise = (obj) => {\n  return opt.call(obj) === \"[object Promise]\";\n};\nfunction isString(obj) {\n  return opt.call(obj) === \"[object String]\";\n}\nfunction isNumber(obj) {\n  return opt.call(obj) === \"[object Number]\" && obj === obj;\n}\nfunction isUndefined(obj) {\n  return obj === void 0;\n}\nfunction isFunction(obj) {\n  return typeof obj === \"function\";\n}\nfunction isEmptyObject(obj) {\n  return isObject(obj) && Object.keys(obj).length === 0;\n}\nfunction isExist(obj) {\n  return obj || obj === 0;\n}\nfunction isWindow(el) {\n  return el === window;\n}\nconst isComponentInstance = (value) => {\n  return (value == null ? void 0 : value.$) !== void 0;\n};\nconst isQuarter = (fromat) => {\n  return /\\[Q]Q/.test(fromat);\n};\nfunction isDayjs(time) {\n  return isObject(time) && \"$y\" in time && \"$M\" in time && \"$D\" in time && \"$d\" in time && \"$H\" in time && \"$m\" in time && \"$s\" in time;\n}\nexport { isArray, isBoolean, isComponentInstance, isDayjs, isEmptyObject, isExist, isFunction, isNull, isNumber, isObject, isPromise, isQuarter, isString, isUndefined, isWindow };\n","const configProviderInjectionKey = Symbol(\"ArcoConfigProvider\");\nexport { configProviderInjectionKey };\n","import { getCurrentInstance, inject } from \"vue\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nconst COMPONENT_PREFIX = \"A\";\nconst CLASS_PREFIX = \"arco\";\nconst GLOBAL_CONFIG_NAME = \"$arco\";\nconst getComponentPrefix = (options) => {\n  var _a;\n  return (_a = options == null ? void 0 : options.componentPrefix) != null ? _a : COMPONENT_PREFIX;\n};\nconst setGlobalConfig = (app, options) => {\n  var _a;\n  if (options && options.classPrefix) {\n    app.config.globalProperties[GLOBAL_CONFIG_NAME] = {\n      ...(_a = app.config.globalProperties[GLOBAL_CONFIG_NAME]) != null ? _a : {},\n      classPrefix: options.classPrefix\n    };\n  }\n};\nconst getPrefixCls = (componentName) => {\n  var _a, _b, _c;\n  const instance = getCurrentInstance();\n  const configProvider = inject(configProviderInjectionKey, void 0);\n  const prefix = (_c = (_b = configProvider == null ? void 0 : configProvider.prefixCls) != null ? _b : (_a = instance == null ? void 0 : instance.appContext.config.globalProperties[GLOBAL_CONFIG_NAME]) == null ? void 0 : _a.classPrefix) != null ? _c : CLASS_PREFIX;\n  if (componentName) {\n    return `${prefix}-${componentName}`;\n  }\n  return prefix;\n};\nexport { getComponentPrefix, getPrefixCls, setGlobalConfig };\n","import { cloneVNode, isVNode, Fragment } from \"vue\";\nimport { isArray, isFunction, isString } from \"./is.js\";\nconst isElement = (vn) => {\n  return Boolean(vn && vn.shapeFlag & 1);\n};\nconst isComponent = (vn, type) => {\n  return Boolean(vn && vn.shapeFlag & 6);\n};\nconst isTextChildren = (child, children) => {\n  return Boolean(child && child.shapeFlag & 8);\n};\nconst isArrayChildren = (vn, children) => {\n  return Boolean(vn && vn.shapeFlag & 16);\n};\nconst isSlotsChildren = (vn, children) => {\n  return Boolean(vn && vn.shapeFlag & 32);\n};\nconst getFirstComponent = (children) => {\n  var _a, _b;\n  if (!children) {\n    return void 0;\n  }\n  for (const child of children) {\n    if (isElement(child) || isComponent(child)) {\n      return child;\n    }\n    if (isArrayChildren(child, child.children)) {\n      const result = getFirstComponent(child.children);\n      if (result)\n        return result;\n    } else if (isSlotsChildren(child, child.children)) {\n      const children2 = (_b = (_a = child.children).default) == null ? void 0 : _b.call(_a);\n      if (children2) {\n        const result = getFirstComponent(children2);\n        if (result)\n          return result;\n      }\n    } else if (isArray(child)) {\n      const result = getFirstComponent(child);\n      if (result)\n        return result;\n    }\n  }\n  return void 0;\n};\nconst isEmptyChildren = (children) => {\n  if (!children) {\n    return true;\n  }\n  for (const item of children) {\n    if (item.children) {\n      return false;\n    }\n  }\n  return true;\n};\nconst mergeFirstChild = (children, extraProps) => {\n  if (children && children.length > 0) {\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (isElement(child) || isComponent(child)) {\n        const props = isFunction(extraProps) ? extraProps(child) : extraProps;\n        children[i] = cloneVNode(child, props, true);\n        return true;\n      }\n      const _children = getChildrenArray(child);\n      if (_children && _children.length > 0) {\n        const result = mergeFirstChild(_children, extraProps);\n        if (result)\n          return true;\n      }\n    }\n  }\n  return false;\n};\nconst getChildrenArray = (vn) => {\n  if (isArrayChildren(vn, vn.children)) {\n    return vn.children;\n  }\n  if (isArray(vn)) {\n    return vn;\n  }\n  return void 0;\n};\nconst getFirstElementFromVNode = (vn) => {\n  var _a, _b;\n  if (isElement(vn)) {\n    return vn.el;\n  }\n  if (isComponent(vn)) {\n    if (((_a = vn.el) == null ? void 0 : _a.nodeType) === 1) {\n      return vn.el;\n    }\n    if ((_b = vn.component) == null ? void 0 : _b.subTree) {\n      const ele = getFirstElementFromVNode(vn.component.subTree);\n      if (ele)\n        return ele;\n    }\n  } else {\n    const children = getChildrenArray(vn);\n    return getFirstElementFromChildren(children);\n  }\n  return void 0;\n};\nconst getFirstElementFromChildren = (children) => {\n  if (children && children.length > 0) {\n    for (const child of children) {\n      const element = getFirstElementFromVNode(child);\n      if (element)\n        return element;\n    }\n  }\n  return void 0;\n};\nconst getAllElements = (children, includeText = false) => {\n  var _a, _b;\n  const results = [];\n  for (const item of children != null ? children : []) {\n    if (isElement(item) || isComponent(item) || includeText && isTextChildren(item, item.children)) {\n      results.push(item);\n    } else if (isArrayChildren(item, item.children)) {\n      results.push(...getAllElements(item.children, includeText));\n    } else if (isSlotsChildren(item, item.children)) {\n      results.push(...getAllElements((_b = (_a = item.children).default) == null ? void 0 : _b.call(_a), includeText));\n    } else if (isArray(item)) {\n      results.push(...getAllElements(item, includeText));\n    }\n  }\n  return results;\n};\nfunction unFragment(nodeList) {\n  function loop(nodes) {\n    const unFragmentNodeList = [];\n    nodes.forEach((node) => {\n      var _a, _b;\n      if (isVNode(node) && node.type === Fragment) {\n        if (isSlotsChildren(node, node.children)) {\n          unFragmentNodeList.push(...loop(((_b = (_a = node.children).default) == null ? void 0 : _b.call(_a)) || []));\n        } else if (isArrayChildren(node, node.children)) {\n          unFragmentNodeList.push(...loop(node.children));\n        } else if (isString(node.children)) {\n          unFragmentNodeList.push(node.children);\n        }\n      } else {\n        unFragmentNodeList.push(node);\n      }\n    });\n    return unFragmentNodeList;\n  }\n  return loop(nodeList);\n}\nconst getSlotFunction = (param) => {\n  if (param) {\n    if (isFunction(param))\n      return param;\n    return () => param;\n  }\n  return void 0;\n};\nconst getComponentsFromVNode = (vn, name) => {\n  var _a;\n  const components = [];\n  if (isComponent(vn, vn.type)) {\n    if (vn.type.name === name) {\n      if (vn.component) {\n        components.push(vn.component.uid);\n      }\n    } else if ((_a = vn.component) == null ? void 0 : _a.subTree) {\n      components.push(...getComponentsFromVNode(vn.component.subTree, name));\n    }\n  } else {\n    const children = getChildrenArray(vn);\n    if (children) {\n      components.push(...getComponentsFromChildren(children, name));\n    }\n  }\n  return components;\n};\nconst getComponentsFromChildren = (children, name) => {\n  const components = [];\n  if (children && children.length > 0) {\n    for (const child of children) {\n      components.push(...getComponentsFromVNode(child, name));\n    }\n  }\n  return components;\n};\nexport { getAllElements, getChildrenArray, getComponentsFromChildren, getComponentsFromVNode, getFirstComponent, getFirstElementFromChildren, getFirstElementFromVNode, getSlotFunction, isArrayChildren, isComponent, isElement, isEmptyChildren, isSlotsChildren, isTextChildren, mergeFirstChild, unFragment };\n","import { isString } from \"./is.js\";\nconst NOOP = () => {\n  return void 0;\n};\nconst getDocumentSize = () => {\n  const { body } = document;\n  const html = document.documentElement;\n  let topBody;\n  try {\n    const topWindow = window.top || window.self || window;\n    topBody = topWindow.document.body;\n  } catch {\n  }\n  return {\n    height: Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight,\n      (topBody == null ? void 0 : topBody.scrollHeight) || 0,\n      (topBody == null ? void 0 : topBody.clientHeight) || 0\n    ),\n    width: Math.max(\n      body.scrollWidth,\n      body.offsetWidth,\n      html.clientWidth,\n      html.scrollWidth,\n      html.offsetWidth,\n      (topBody == null ? void 0 : topBody.scrollWidth) || 0,\n      (topBody == null ? void 0 : topBody.clientWidth) || 0\n    )\n  };\n};\nconst isServerRendering = (() => {\n  try {\n    return !(typeof window !== \"undefined\" && document !== void 0);\n  } catch (e) {\n    return true;\n  }\n})();\nconst on = (() => {\n  if (isServerRendering) {\n    return NOOP;\n  }\n  return (element, event, handler, options = false) => {\n    element.addEventListener(\n      event,\n      handler,\n      options\n    );\n  };\n})();\nconst off = (() => {\n  if (isServerRendering) {\n    return NOOP;\n  }\n  return (element, type, handler, options = false) => {\n    element.removeEventListener(\n      type,\n      handler,\n      options\n    );\n  };\n})();\nconst contains = (root, ele) => {\n  if (!root || !ele) {\n    return false;\n  }\n  let node = ele;\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n};\nconst getOverlay = (type) => {\n  const popper = document.createElement(\"div\");\n  popper.setAttribute(\"class\", `arco-overlay arco-overlay-${type}`);\n  return popper;\n};\nconst querySelector = (selectors, container) => {\n  var _a;\n  if (isServerRendering) {\n    return NOOP();\n  }\n  return (_a = (container != null ? container : document).querySelector(selectors)) != null ? _a : void 0;\n};\nconst getElement = (target, container) => {\n  if (isString(target)) {\n    const selector = target[0] === \"#\" ? `[id='${target.slice(1)}']` : target;\n    return querySelector(selector, container);\n  }\n  return target;\n};\nconst getRelativeRect = (target, relative) => {\n  const targetRect = target.getBoundingClientRect();\n  const relativeRect = relative.getBoundingClientRect();\n  return {\n    top: targetRect.top - relativeRect.top,\n    bottom: relativeRect.bottom - targetRect.bottom,\n    left: targetRect.left - relativeRect.left,\n    right: relativeRect.right - targetRect.right,\n    width: targetRect.width,\n    height: targetRect.height\n  };\n};\nconst isScroll = (element) => {\n  return element.tagName === \"BODY\" ? document.documentElement.scrollHeight > window.innerHeight : element.scrollHeight > element.offsetHeight;\n};\nconst getScrollBarWidth = (element) => {\n  return element.tagName === \"BODY\" ? window.innerWidth - getDocumentSize().width : element.offsetWidth - element.clientWidth;\n};\nexport { NOOP, contains, getDocumentSize, getElement, getOverlay, getRelativeRect, getScrollBarWidth, isScroll, isServerRendering, off, on, querySelector };\n","var _export_sfc = (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val;\n  }\n  return sfc;\n};\nexport { _export_sfc as default };\n","import { defineComponent, openBlock, createElementBlock, normalizeClass, renderSlot } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconHover\",\n  props: {\n    prefix: {\n      type: String\n    },\n    size: {\n      type: String,\n      default: \"medium\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup() {\n    const prefixCls = getPrefixCls(\"icon-hover\");\n    return {\n      prefixCls\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", {\n    class: normalizeClass([\n      _ctx.prefixCls,\n      {\n        [`${_ctx.prefix}-icon-hover`]: _ctx.prefix,\n        [`${_ctx.prefixCls}-size-${_ctx.size}`]: _ctx.size !== \"medium\",\n        [`${_ctx.prefixCls}-disabled`]: _ctx.disabled\n      }\n    ])\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 2);\n}\nvar IconHover = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { IconHover as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconClose\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-close`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", { d: \"M9.857 9.858 24 24m0 0 14.142 14.142M24 24 38.142 9.858M24 24 9.857 38.142\" }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconClose = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconClose as default };\n","import _IconClose from \"./icon-close.js\";\nconst IconClose = Object.assign(_IconClose, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconClose.name, _IconClose);\n  }\n});\nexport { IconClose as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconInfoCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-info-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm2-30a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2Zm0 17h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1v-8a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconInfoCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconInfoCircleFill as default };\n","import _IconInfoCircleFill from \"./icon-info-circle-fill.js\";\nconst IconInfoCircleFill = Object.assign(_IconInfoCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconInfoCircleFill.name, _IconInfoCircleFill);\n  }\n});\nexport { IconInfoCircleFill as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconCheckCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-check-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm10.207-24.379a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0L22 26.172l-4.878-4.88a1 1 0 0 0-1.415 0l-1.414 1.415a1 1 0 0 0 0 1.414l7 7a1 1 0 0 0 1.414 0l11.5-11.5Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconCheckCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconCheckCircleFill as default };\n","import _IconCheckCircleFill from \"./icon-check-circle-fill.js\";\nconst IconCheckCircleFill = Object.assign(_IconCheckCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconCheckCircleFill.name, _IconCheckCircleFill);\n  }\n});\nexport { IconCheckCircleFill as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconExclamationCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-exclamation-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm-2-11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2Zm4-18a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V15Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconExclamationCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconExclamationCircleFill as default };\n","import _IconExclamationCircleFill from \"./icon-exclamation-circle-fill.js\";\nconst IconExclamationCircleFill = Object.assign(_IconExclamationCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconExclamationCircleFill.name, _IconExclamationCircleFill);\n  }\n});\nexport { IconExclamationCircleFill as default };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconCloseCircleFill\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-close-circle-fill`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm4.955-27.771-4.95 4.95-4.95-4.95a1 1 0 0 0-1.414 0l-1.414 1.414a1 1 0 0 0 0 1.414l4.95 4.95-4.95 4.95a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-4.95-4.95 4.95-4.95a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0Z\",\n      fill: \"currentColor\",\n      stroke: \"none\"\n    }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconCloseCircleFill = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconCloseCircleFill as default };\n","import _IconCloseCircleFill from \"./icon-close-circle-fill.js\";\nconst IconCloseCircleFill = Object.assign(_IconCloseCircleFill, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconCloseCircleFill.name, _IconCloseCircleFill);\n  }\n});\nexport { IconCloseCircleFill as default };\n","const MESSAGE_TYPES = [\"info\", \"success\", \"warning\", \"error\"];\nconst INPUT_EVENTS = [\n  \"onFocus\",\n  \"onFocusin\",\n  \"onFocusout\",\n  \"onBlur\",\n  \"onChange\",\n  \"onBeforeinput\",\n  \"onInput\",\n  \"onReset\",\n  \"onSubmit\",\n  \"onInvalid\",\n  \"onKeydown\",\n  \"onKeypress\",\n  \"onKeyup\",\n  \"onCopy\",\n  \"onCut\",\n  \"onPaste\",\n  \"onCompositionstart\",\n  \"onCompositionupdate\",\n  \"onCompositionend\",\n  \"onSelect\",\n  \"autocomplete\",\n  \"autofocus\",\n  \"maxlength\",\n  \"minlength\",\n  \"name\",\n  \"pattern\",\n  \"readonly\",\n  \"required\"\n];\nexport { INPUT_EVENTS, MESSAGE_TYPES };\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode } from \"vue\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nimport { isNumber } from \"../../_utils/is.js\";\nimport _export_sfc from \"../../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"IconLoading\",\n  props: {\n    size: {\n      type: [Number, String]\n    },\n    strokeWidth: {\n      type: Number,\n      default: 4\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"butt\",\n      validator: (value) => {\n        return [\"butt\", \"round\", \"square\"].includes(value);\n      }\n    },\n    strokeLinejoin: {\n      type: String,\n      default: \"miter\",\n      validator: (value) => {\n        return [\"arcs\", \"bevel\", \"miter\", \"miter-clip\", \"round\"].includes(value);\n      }\n    },\n    rotate: Number,\n    spin: Boolean\n  },\n  emits: {\n    click: (ev) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"icon\");\n    const cls = computed(() => [prefixCls, `${prefixCls}-loading`, { [`${prefixCls}-spin`]: props.spin }]);\n    const innerStyle = computed(() => {\n      const styles = {};\n      if (props.size) {\n        styles.fontSize = isNumber(props.size) ? `${props.size}px` : props.size;\n      }\n      if (props.rotate) {\n        styles.transform = `rotate(${props.rotate}deg)`;\n      }\n      return styles;\n    });\n    const onClick = (ev) => {\n      emit(\"click\", ev);\n    };\n    return {\n      cls,\n      innerStyle,\n      onClick\n    };\n  }\n});\nconst _hoisted_1 = [\"stroke-width\", \"stroke-linecap\", \"stroke-linejoin\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"currentColor\",\n    class: normalizeClass(_ctx.cls),\n    style: normalizeStyle(_ctx.innerStyle),\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-linecap\": _ctx.strokeLinecap,\n    \"stroke-linejoin\": _ctx.strokeLinejoin,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onClick && _ctx.onClick(...args))\n  }, _cache[1] || (_cache[1] = [\n    createElementVNode(\"path\", { d: \"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6\" }, null, -1)\n  ]), 14, _hoisted_1);\n}\nvar _IconLoading = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _IconLoading as default };\n","import _IconLoading from \"./icon-loading.js\";\nconst IconLoading = Object.assign(_IconLoading, {\n  install: (app, options) => {\n    var _a;\n    const iconPrefix = (_a = options == null ? void 0 : options.iconPrefix) != null ? _a : \"\";\n    app.component(iconPrefix + _IconLoading.name, _IconLoading);\n  }\n});\nexport { IconLoading as default };\n","import { ref, watch, onMounted, onBeforeUnmount, readonly } from \"vue\";\nconst POPUP_BASE_Z_INDEX = 1e3;\nconst MESSAGE_BASE_Z_INDEX = 5e3;\nconst Z_INDEX_STEP = 1;\nclass PopupManager {\n  constructor() {\n    this.popupStack = {\n      popup: /* @__PURE__ */ new Set(),\n      dialog: /* @__PURE__ */ new Set(),\n      message: /* @__PURE__ */ new Set()\n    };\n    this.getNextZIndex = (type) => {\n      const current = type === \"message\" ? Array.from(this.popupStack.message).pop() || MESSAGE_BASE_Z_INDEX : Array.from(this.popupStack.popup).pop() || POPUP_BASE_Z_INDEX;\n      return current + Z_INDEX_STEP;\n    };\n    this.add = (type) => {\n      const zIndex = this.getNextZIndex(type);\n      this.popupStack[type].add(zIndex);\n      if (type === \"dialog\") {\n        this.popupStack.popup.add(zIndex);\n      }\n      return zIndex;\n    };\n    this.delete = (zIndex, type) => {\n      this.popupStack[type].delete(zIndex);\n      if (type === \"dialog\") {\n        this.popupStack.popup.delete(zIndex);\n      }\n    };\n    this.isLastDialog = (zIndex) => {\n      if (this.popupStack.dialog.size > 1) {\n        return zIndex === Array.from(this.popupStack.dialog).pop();\n      }\n      return true;\n    };\n  }\n}\nconst popupManager = new PopupManager();\nfunction usePopupManager(type, {\n  visible,\n  runOnMounted\n} = {}) {\n  const zIndex = ref(0);\n  const open = () => {\n    zIndex.value = popupManager.add(type);\n  };\n  const close = () => {\n    popupManager.delete(zIndex.value, type);\n  };\n  const isLastDialog = () => {\n    if (type === \"dialog\") {\n      return popupManager.isLastDialog(zIndex.value);\n    }\n    return false;\n  };\n  watch(\n    () => visible == null ? void 0 : visible.value,\n    (visible2) => {\n      if (visible2) {\n        open();\n      } else {\n        close();\n      }\n    },\n    {\n      immediate: true\n    }\n  );\n  if (runOnMounted) {\n    onMounted(() => {\n      open();\n    });\n    onBeforeUnmount(() => {\n      close();\n    });\n  }\n  return {\n    zIndex: readonly(zIndex),\n    open,\n    close,\n    isLastDialog\n  };\n}\nexport { usePopupManager as default };\n","import { defineComponent, onMounted, onUpdated, onUnmounted, resolveComponent, openBlock, createElementBlock, normalizeClass, renderSlot, createBlock, createCommentVNode, createElementVNode, createVNode, withCtx } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconClose from \"../icon/icon-close/index.js\";\nimport IconInfoCircleFill from \"../icon/icon-info-circle-fill/index.js\";\nimport IconCheckCircleFill from \"../icon/icon-check-circle-fill/index.js\";\nimport IconExclamationCircleFill from \"../icon/icon-exclamation-circle-fill/index.js\";\nimport IconCloseCircleFill from \"../icon/icon-close-circle-fill/index.js\";\nimport IconLoading from \"../icon/icon-loading/index.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"Message\",\n  components: {\n    AIconHover: IconHover,\n    IconInfoCircleFill,\n    IconCheckCircleFill,\n    IconExclamationCircleFill,\n    IconCloseCircleFill,\n    IconClose,\n    IconLoading\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"info\"\n    },\n    closable: {\n      type: Boolean,\n      default: false\n    },\n    showIcon: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: Number,\n      default: 3e3\n    },\n    resetOnUpdate: {\n      type: Boolean,\n      default: false\n    },\n    resetOnHover: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"close\"],\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"message\");\n    let timer = 0;\n    const handleClose = () => {\n      emit(\"close\");\n    };\n    const startTimer = () => {\n      if (props.duration > 0) {\n        timer = window.setTimeout(handleClose, props.duration);\n      }\n    };\n    const clearTimer = () => {\n      if (timer) {\n        window.clearTimeout(timer);\n        timer = 0;\n      }\n    };\n    onMounted(() => {\n      startTimer();\n    });\n    onUpdated(() => {\n      if (props.resetOnUpdate) {\n        clearTimer();\n        startTimer();\n      }\n    });\n    onUnmounted(() => {\n      clearTimer();\n    });\n    const handleMouseEnter = () => {\n      if (props.resetOnHover) {\n        clearTimer();\n      }\n    };\n    const handleMouseLeave = () => {\n      if (props.resetOnHover) {\n        startTimer();\n      }\n    };\n    return {\n      handleMouseEnter,\n      handleMouseLeave,\n      prefixCls,\n      handleClose\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_icon_info_circle_fill = resolveComponent(\"icon-info-circle-fill\");\n  const _component_icon_check_circle_fill = resolveComponent(\"icon-check-circle-fill\");\n  const _component_icon_exclamation_circle_fill = resolveComponent(\"icon-exclamation-circle-fill\");\n  const _component_icon_close_circle_fill = resolveComponent(\"icon-close-circle-fill\");\n  const _component_icon_loading = resolveComponent(\"icon-loading\");\n  const _component_icon_close = resolveComponent(\"icon-close\");\n  const _component_a_icon_hover = resolveComponent(\"a-icon-hover\");\n  return openBlock(), createElementBlock(\"li\", {\n    role: \"alert\",\n    class: normalizeClass([\n      _ctx.prefixCls,\n      `${_ctx.prefixCls}-${_ctx.type}`,\n      { [`${_ctx.prefixCls}-closable`]: _ctx.closable }\n    ]),\n    onMouseenter: _cache[1] || (_cache[1] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args))\n  }, [\n    _ctx.showIcon && !(_ctx.type === \"normal\" && !_ctx.$slots.icon) ? (openBlock(), createElementBlock(\"span\", {\n      key: 0,\n      class: normalizeClass(`${_ctx.prefixCls}-icon`)\n    }, [\n      renderSlot(_ctx.$slots, \"icon\", {}, () => [\n        _ctx.type === \"info\" ? (openBlock(), createBlock(_component_icon_info_circle_fill, { key: 0 })) : _ctx.type === \"success\" ? (openBlock(), createBlock(_component_icon_check_circle_fill, { key: 1 })) : _ctx.type === \"warning\" ? (openBlock(), createBlock(_component_icon_exclamation_circle_fill, { key: 2 })) : _ctx.type === \"error\" ? (openBlock(), createBlock(_component_icon_close_circle_fill, { key: 3 })) : _ctx.type === \"loading\" ? (openBlock(), createBlock(_component_icon_loading, { key: 4 })) : createCommentVNode(\"v-if\", true)\n      ])\n    ], 2)) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"span\", {\n      class: normalizeClass(`${_ctx.prefixCls}-content`)\n    }, [\n      renderSlot(_ctx.$slots, \"default\")\n    ], 2),\n    _ctx.closable ? (openBlock(), createElementBlock(\"span\", {\n      key: 1,\n      class: normalizeClass(`${_ctx.prefixCls}-close-btn`),\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleClose && _ctx.handleClose(...args))\n    }, [\n      createVNode(_component_a_icon_hover, null, {\n        default: withCtx(() => [\n          createVNode(_component_icon_close)\n        ]),\n        _: 1\n      })\n    ], 2)) : createCommentVNode(\"v-if\", true)\n  ], 34);\n}\nvar Message = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { Message as default };\n","import { defineComponent, createVNode, TransitionGroup, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport Message from \"./message.js\";\nimport usePopupManager from \"../_hooks/use-popup-manager.js\";\nimport { getSlotFunction } from \"../_utils/vue-utils.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nvar MessageList = defineComponent({\n  name: \"MessageList\",\n  props: {\n    messages: {\n      type: Array,\n      default: () => []\n    },\n    position: {\n      type: String,\n      default: \"top\"\n    }\n  },\n  emits: [\"close\", \"afterClose\"],\n  setup(props, context) {\n    const prefixCls = getPrefixCls(\"message-list\");\n    const {\n      zIndex\n    } = usePopupManager(\"message\", {\n      runOnMounted: true\n    });\n    return () => {\n      let _slot;\n      return createVNode(TransitionGroup, {\n        \"class\": [prefixCls, `${prefixCls}-${props.position}`],\n        \"name\": \"fade-message\",\n        \"tag\": \"ul\",\n        \"style\": {\n          zIndex: zIndex.value\n        },\n        \"onAfterLeave\": () => context.emit(\"afterClose\")\n      }, _isSlot(_slot = props.messages.map((item) => {\n        const slots = {\n          default: getSlotFunction(item.content),\n          icon: getSlotFunction(item.icon)\n        };\n        return createVNode(Message, {\n          \"key\": item.id,\n          \"type\": item.type,\n          \"duration\": item.duration,\n          \"closable\": item.closable,\n          \"resetOnUpdate\": item.resetOnUpdate,\n          \"resetOnHover\": item.resetOnHover,\n          \"onClose\": () => context.emit(\"close\", item.id)\n        }, slots);\n      })) ? _slot : {\n        default: () => [_slot]\n      });\n    };\n  }\n});\nexport { MessageList as default };\n","import { reactive, render, ref, createVNode } from \"vue\";\nimport { MESSAGE_TYPES } from \"../_utils/constant.js\";\nimport { getOverlay } from \"../_utils/dom.js\";\nimport { isString, isUndefined, isFunction } from \"../_utils/is.js\";\nimport MessageList from \"./message-list.js\";\nclass MessageManger {\n  constructor(config, appContext) {\n    this.messageCount = 0;\n    this.add = (config2) => {\n      var _a;\n      this.messageCount++;\n      const id = (_a = config2.id) != null ? _a : `__arco_message_${this.messageCount}`;\n      if (this.messageIds.has(id)) {\n        return this.update(id, config2);\n      }\n      const message2 = reactive({ id, ...config2 });\n      this.messages.value.push(message2);\n      this.messageIds.add(id);\n      return {\n        close: () => this.remove(id)\n      };\n    };\n    this.update = (id, config2) => {\n      for (let i = 0; i < this.messages.value.length; i++) {\n        if (this.messages.value[i].id === id) {\n          const resetOnUpdate = !isUndefined(config2.duration);\n          Object.assign(this.messages.value[i], { ...config2, id, resetOnUpdate });\n          break;\n        }\n      }\n      return {\n        close: () => this.remove(id)\n      };\n    };\n    this.remove = (id) => {\n      for (let i = 0; i < this.messages.value.length; i++) {\n        const item = this.messages.value[i];\n        if (item.id === id) {\n          if (isFunction(item.onClose)) {\n            item.onClose(id);\n          }\n          this.messages.value.splice(i, 1);\n          this.messageIds.delete(id);\n          break;\n        }\n      }\n    };\n    this.clear = () => {\n      this.messages.value.splice(0);\n    };\n    this.destroy = () => {\n      if (this.messages.value.length === 0 && this.container) {\n        render(null, this.container);\n        document.body.removeChild(this.container);\n        this.container = null;\n        messageInstance[this.position] = void 0;\n      }\n    };\n    const { position = \"top\" } = config;\n    this.container = getOverlay(\"message\");\n    this.messageIds = /* @__PURE__ */ new Set();\n    this.messages = ref([]);\n    this.position = position;\n    const vm = createVNode(MessageList, {\n      messages: this.messages.value,\n      position,\n      onClose: this.remove,\n      onAfterClose: this.destroy\n    });\n    if (appContext != null ? appContext : Message._context) {\n      vm.appContext = appContext != null ? appContext : Message._context;\n    }\n    render(vm, this.container);\n    document.body.appendChild(this.container);\n  }\n}\nconst messageInstance = {};\nconst types = [...MESSAGE_TYPES, \"loading\", \"normal\"];\nconst message = types.reduce((pre, value) => {\n  pre[value] = (config, appContext) => {\n    if (isString(config)) {\n      config = { content: config };\n    }\n    const _config = { type: value, ...config };\n    const { position = \"top\" } = _config;\n    if (!messageInstance[position]) {\n      messageInstance[position] = new MessageManger(_config, appContext);\n    }\n    return messageInstance[position].add(_config);\n  };\n  return pre;\n}, {});\nmessage.clear = (position) => {\n  var _a;\n  if (position) {\n    (_a = messageInstance[position]) == null ? void 0 : _a.clear();\n  } else {\n    Object.values(messageInstance).forEach((item) => item == null ? void 0 : item.clear());\n  }\n};\nconst Message = {\n  ...message,\n  install: (app) => {\n    const _message = {\n      clear: message.clear\n    };\n    for (const key of types) {\n      _message[key] = (config, appContext = app._context) => message[key](config, appContext);\n    }\n    app.config.globalProperties.$message = _message;\n  },\n  _context: null\n};\nexport { Message as default };\n","<template>\r\n  <header class=\"grid-header\">\r\n    <div class=\"grid-header_left\"></div>\r\n    <div class=\"grid-header_right\">\r\n      <a-space>\r\n        <a-button type=\"primary\" @click=\"openModal\">添加组件</a-button>\r\n        <slot name=\"extra\"></slot>\r\n      </a-space>\r\n    </div>\r\n  </header>\r\n  <div class=\"grid-container\">\r\n    <div ref=\"gridContainer\" class=\"grid-content\" :style=\"gridStyle\" @dragover=\"onDragOver\">\r\n      <!-- 网格背景 -->\r\n      <div class=\"grid-background\" :style=\"gridBackgroundStyle\">\r\n        <div class=\"grid-cell\" v-for=\"item in COLUMNS\" :key=\"item\">\r\n        </div>\r\n      </div>\r\n      <GridsterItem\r\n        v-for=\"component in addedComponents\" \r\n        :key=\"component.id\" \r\n        :component=\"component\"\r\n        :grid-config=\"gridConfig\" \r\n        :container-info=\"containerInfo\" \r\n        @resize=\"onComponentResize\" \r\n        @drag=\"onComponentDrag\"\r\n        @remove=\"removeComponent\">\r\n        <slot name=\"item\" :itemData=\"component\"></slot>\r\n      </GridsterItem>\r\n    </div>\r\n  </div>\r\n  <AddComponent \r\n    ref=\"addComponentRef\" \r\n    @confirm=\"addComponents\"\r\n    :component-library=\"props.componentLibrary\"\r\n  >\r\n    <template v-for=\"slot in Object.keys($slots)\" :key=\"slot\" #[slot]=\"slotProps\">\r\n      <slot :name=\"slot\" v-bind=\"slotProps || {}\"></slot>\r\n    </template>\r\n  </AddComponent>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, reactive, nextTick, onMounted, onUnmounted, watch } from 'vue';\r\nimport type { ComponentItemModel, GridConfig, Position, Size, ContainerInfo } from '../types/layout';\r\nimport { COLUMNS } from '../utils/constant';\r\nimport GridsterItem from './GridsterItem.vue';\r\nimport AddComponent from './AddComponent.vue';\r\nimport { Message } from '@arco-design/web-vue';\r\n\r\nimport {\r\n  reorganizeLayout,\r\n  resizeComponentWithAutoFill,\r\n  validatePositionWithLayout,\r\n  validateDragPosition,\r\n  findAvailablePosition,\r\n  autoFillComponentToGrid,\r\n} from '../utils/grid';\r\n\r\ninterface Props {\r\n  componentLibrary: ComponentItemModel[]\r\n  addedComponents: ComponentItemModel[]\r\n}\r\nconst props = defineProps<Props>()\r\nconst emit = defineEmits([\r\n  'get-container-size', \r\n  'add-component',\r\n  'update:added-components'\r\n])\r\n\r\nconst components = computed({\r\n  get: () => {\r\n    return props.addedComponents ? props.addedComponents : [];\r\n  },\r\n  set: (val: ComponentItemModel[]) => {\r\n    emit('update:added-components', val);\r\n  },\r\n})\r\n\r\nconst gridConfig = reactive<GridConfig>({\r\n  gap: 10,\r\n  cellWidth: 0, // 动态计算\r\n  cellHeight: 80 // 固定行高\r\n})\r\n\r\nconst containerInfo = reactive<ContainerInfo>({\r\n  width: 0,\r\n  height: 0,\r\n  scrollTop: 0\r\n})\r\nconst gridContainer = ref<HTMLElement>()\r\n\r\n// 计算容器高度 - 不允许超出容器高度\r\nconst containerHeight = computed(() => {\r\n  return containerInfo.height // 直接使用容器高度，不允许滚动\r\n})\r\n\r\n// 计算列宽（自适应）\r\nconst updateCellWidth = () => {\r\n  if (!gridContainer.value) return\r\n\r\n  const container = gridContainer.value\r\n  containerInfo.width = container.clientWidth\r\n  containerInfo.height = container.clientHeight\r\n\r\n  // 固定24列，直接计算列宽\r\n  const totalGapWidth = 23 * gridConfig.gap\r\n  const cellWidth = (containerInfo.width - totalGapWidth) / 24\r\n\r\n  // 保留2位小数，设置最小列宽\r\n  gridConfig.cellWidth = Math.max(parseFloat(cellWidth.toFixed(2)), 20)\r\n}\r\n\r\n\r\n// 计算网格样式\r\nconst gridStyle = computed(() => {\r\n  const gap = gridConfig.gap\r\n  const cols = COLUMNS\r\n\r\n  return {\r\n    gridTemplateColumns: `repeat(${cols}, minmax(0, 1fr))`,\r\n    gridTemplateRows: `repeat(auto-fit, 100%)`,\r\n    gap: `${gap}px`,\r\n    width: '100%',\r\n    minHeight: `${containerHeight.value}px`,\r\n  }\r\n})\r\n\r\n// 计算网格背景样式\r\nconst gridBackgroundStyle = computed(() => {\r\n  const gap = gridConfig.gap\r\n  const cols = COLUMNS\r\n\r\n  return {\r\n    gridTemplateColumns: `repeat(${cols}, minmax(0, 1fr))`,\r\n    gap: `${gap}px`,\r\n    gridTemplateRows: `repeat(auto-fit, 100%)`,\r\n    width: '100%',\r\n  }\r\n})\r\n\r\n\r\n// 在容器大小变化时重新布局\r\nconst updateContainerInfo = () => {\r\n  if (!gridContainer.value) return\r\n\r\n  const container = gridContainer.value\r\n  const oldWidth = containerInfo.width\r\n  const oldHeight = containerInfo.height\r\n\r\n  containerInfo.width = container.clientWidth\r\n  containerInfo.height = container.clientHeight\r\n\r\n  updateCellWidth()\r\n\r\n  // 只有当宽度或高度增加时，才进行重新布局\r\n  const widthIncreased = containerInfo.width > oldWidth\r\n  const heightIncreased = containerInfo.height > oldHeight\r\n  \r\n  if (widthIncreased || heightIncreased) {\r\n    console.log('容器尺寸增加，重新布局')\r\n    reorganizeLayout(components.value, containerInfo, gridConfig)\r\n  } else if (oldWidth !== containerInfo.width || oldHeight !== containerInfo.height) {\r\n    console.log('容器尺寸减小，保持原有布局')\r\n    // 尺寸减小时，只进行边界检查和调整，不重新布局\r\n    reorganizeLayout(components.value, containerInfo, gridConfig, false, true)\r\n  }\r\n}\r\n\r\nconst onComponentResize = (id: string, newData: Size & Partial<Position> & { resizeType?: string }) => {\r\n  const componentIndex = components.value.findIndex(c => c.id === id)\r\n  if (componentIndex === -1) return\r\n\r\n  const component = components.value[componentIndex]!\r\n  \r\n  const newSize: Size = {\r\n    width: newData.width || component!.width,\r\n    height: newData.height || component!.height\r\n  }\r\n\r\n  const newPosition: Position = {\r\n    x: newData.x !== undefined ? newData.x : component!.x,\r\n    y: newData.y !== undefined ? newData.y : component!.y\r\n  }\r\n\r\n  // 根据调整类型决定是否应用自动填充\r\n  let filledSize = newSize\r\n  const resizeType = newData.resizeType || ''\r\n  const isWidthResize = ['left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'].includes(resizeType)\r\n\r\n  if (isWidthResize) {\r\n    // 只有在调整宽度相关的操作时才进行栅格填充\r\n    filledSize = resizeComponentWithAutoFill(component, newSize, gridConfig, containerInfo.width)\r\n  }\r\n\r\n  // 使用智能验证（考虑动态布局）\r\n  const validationResult = validatePositionWithLayout(\r\n    components.value,\r\n    id,\r\n    newPosition,\r\n    filledSize,\r\n    containerInfo,\r\n    gridConfig\r\n  )\r\n\r\n  if (validationResult.valid) {\r\n    component.x = newPosition.x\r\n    component.y = newPosition.y\r\n    component.width = filledSize.width\r\n    component.height = filledSize.height\r\n\r\n    // 更新受影响的组件\r\n    if (validationResult.affectedComponents.length > 0) {\r\n      validationResult.affectedComponents.forEach(affectedComp => {\r\n        const targetComp = components.value.find(c => c.id === affectedComp.id)\r\n        if (targetComp) {\r\n          targetComp.x = affectedComp.x\r\n          targetComp.y = affectedComp.y\r\n        }\r\n      })\r\n    }\r\n\r\n    // 新的碰撞检测逻辑已经在validatePositionWithLayout中处理了布局调整\r\n    // 不需要额外的reorganizeLayout调用\r\n  } else {\r\n    // 可以尝试只调整尺寸不调整位置\r\n    const fallbackResult = validatePositionWithLayout(\r\n      components.value,\r\n      id,\r\n      { x: component.x, y: component.y }, // 保持原位置\r\n      filledSize, // 使用填充后的尺寸\r\n      containerInfo,\r\n      gridConfig\r\n    )\r\n\r\n    if (fallbackResult.valid) {\r\n      component.width = filledSize.width\r\n      component.height = filledSize.height\r\n\r\n      // 更新受影响的组件\r\n      if (fallbackResult.affectedComponents.length > 0) {\r\n        fallbackResult.affectedComponents.forEach(affectedComp => {\r\n          const targetComp = components.value.find(c => c.id === affectedComp.id)\r\n          if (targetComp) {\r\n            targetComp.x = affectedComp.x\r\n            targetComp.y = affectedComp.y\r\n          }\r\n        })\r\n      }\r\n\r\n      // 新的碰撞检测逻辑已经在validatePositionWithLayout中处理了布局调整\r\n      // 不需要额外的reorganizeLayout调用\r\n    }\r\n  }\r\n}\r\n\r\n// 组件拖拽\r\nconst onComponentDrag = (id: string, newPosition: Position) => {\r\n  const component = components.value.find(c => c.id === id)\r\n  if (!component) return\r\n\r\n  // 使用智能拖拽验证（内部包含智能吸附逻辑）\r\n  const dragResult = validateDragPosition(\r\n    components.value,\r\n    id,\r\n    newPosition,\r\n    containerInfo,\r\n    gridConfig\r\n  )\r\n\r\n  if (dragResult.valid) {\r\n    // 使用经过智能吸附处理的最终位置\r\n    component.x = dragResult.finalPosition.x\r\n    component.y = dragResult.finalPosition.y\r\n\r\n    // 更新受影响的组件\r\n    if (dragResult.affectedComponents.length > 0) {\r\n      dragResult.affectedComponents.forEach(affectedComp => {\r\n        const targetComp = components.value.find(c => c.id === affectedComp.id)\r\n        if (targetComp) {\r\n          targetComp.x = affectedComp.x\r\n          targetComp.y = affectedComp.y\r\n        }\r\n      })\r\n    }\r\n\r\n    // 智能拖拽验证已经处理了布局调整，不需要额外的reorganizeLayout调用\r\n  }\r\n}\r\n\r\n// 移除组件\r\nconst removeComponent = (id: string) => {\r\n  const index = components.value.findIndex(c => c.id === id)\r\n  if (index !== -1) {\r\n    components.value.splice(index, 1)\r\n    console.log(`已移除组件: ${id}`)\r\n\r\n    // 移除后重新组织布局\r\n    nextTick(() => {\r\n      reorganizeLayout(components.value, containerInfo, gridConfig)\r\n    })\r\n  }\r\n}\r\n\r\n// 拖拽放置处理\r\nconst onDragOver = (e: DragEvent) => {\r\n  e.preventDefault()\r\n  if (e.dataTransfer) {\r\n    e.dataTransfer.dropEffect = 'move'\r\n  }\r\n}\r\n\r\n\r\n\r\n// ResizeObserver 监听容器大小变化\r\nlet resizeObserver: ResizeObserver | null = null\r\n\r\n// 初始化\r\nonMounted(() => {\r\n  if (gridContainer.value) {\r\n    resizeObserver = new ResizeObserver(() => {\r\n      updateContainerInfo()\r\n    })\r\n    resizeObserver.observe(gridContainer.value)\r\n  }\r\n\r\n  updateContainerInfo()\r\n  window.addEventListener('resize', updateContainerInfo)\r\n})\r\n\r\n// 清理\r\nonUnmounted(() => {\r\n  if (resizeObserver) {\r\n    resizeObserver.disconnect()\r\n  }\r\n  window.removeEventListener('resize', updateContainerInfo)\r\n})\r\n\r\nwatch(\r\n  () => containerInfo,\r\n  () => emit('get-container-size', containerInfo),\r\n  { deep: true }\r\n)\r\n\r\nconst addComponentRef = ref()\r\n\r\nconst openModal = () => {\r\n  addComponentRef.value.open()\r\n}\r\n\r\n// 添加组件时的优化逻辑（自动向后排列，不重新布局）\r\nconst addComponents = (selectedComponents: ComponentItemModel[]) => {\r\n  let addedCount = 0\r\n  const failedComponents: string[] = []\r\n\r\n  selectedComponents.forEach(comp => {\r\n    const position = findAvailablePosition(components.value, comp, containerInfo, gridConfig)\r\n    if (position) {\r\n      const newComponent: ComponentItemModel = {\r\n        ...comp,\r\n        id: `${comp.type}-${Date.now()}-${Math.random().toString(36).substring(2, 11)}`,\r\n        x: position.x,\r\n        y: position.y\r\n      }\r\n\r\n      // 确保组件尺寸正确\r\n      autoFillComponentToGrid(newComponent, gridConfig.cellWidth, gridConfig.gap)\r\n\r\n      // 直接添加组件，不重新布局\r\n      components.value.push(newComponent)\r\n      addedCount++\r\n      console.log(`✓ 成功添加: ${comp.name} 位置: (${position.x}, ${position.y})`)\r\n    } else {\r\n      console.warn(`✗ 找不到合适位置: ${comp.name}`)\r\n      failedComponents.push(comp.name)\r\n    }\r\n  })\r\n\r\n  if (failedComponents.length > 0) {\r\n    Message.warning(`以下组件无法添加（空间不足）：\\n${failedComponents.join('\\n')}`)\r\n    return\r\n  }\r\n\r\n  if (addedCount > 0) {\r\n    console.log(`成功添加 ${addedCount} 个组件`)\r\n  }\r\n\r\n  addComponentRef.value.close()\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.grid-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 60px;\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 0 20px;\r\n\r\n  &_right,\r\n  &_left {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  &_right {\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n\r\n.grid-container {\r\n  display: flex;\r\n  height: calc(100% - 60px);\r\n  overflow: hidden;\r\n  padding: 10px;\r\n  background: #fff;\r\n}\r\n\r\n.grid-content {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n  flex: 1;\r\n  display: grid;\r\n  // background: white;\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  justify-content: start;\r\n  align-content: start;\r\n  min-width: 0;\r\n  /* 防止网格溢出 */\r\n}\r\n\r\n.grid-background {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  pointer-events: none;\r\n  z-index: 0;\r\n  background: #fff;\r\n  display: grid;\r\n\r\n  .grid-cell {\r\n    background: #f0f5f5;\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n","// 导出组件\r\nexport { default as GridDrag } from './components/GridDrag.vue'\r\nexport { default as GridsterItem } from './components/GridsterItem.vue'\r\nexport { default as AddComponent } from './components/AddComponent.vue'\r\n\r\n// 导出类型\r\nexport type {\r\n  ComponentItemModel,\r\n  GridConfig,\r\n  Position,\r\n  Size,\r\n  ContainerInfo\r\n} from './types/layout'\r\n\r\n// 导出工具函数\r\nexport {\r\n  validatePosition,\r\n  validatePositionWithLayout,\r\n  validateDragPosition,\r\n  findAvailablePosition,\r\n  canAddComponent,\r\n  calculateAvailableSpace,\r\n  snapToGrid,\r\n  snapToColumnGrid,\r\n  snapToColumnGridWithSize,\r\n  snapToColumnGridWithSmartHeight,\r\n  reorganizeLayout,\r\n  autoFillComponentToGrid,\r\n  resizeComponentWithAutoFill,\r\n  getAffectedComponents\r\n} from './utils/grid'\r\n\r\n// 导出常量\r\nexport { COLUMNS } from './utils/constant'\r\n\r\n// Vue插件安装函数\r\nimport type { App } from 'vue'\r\nimport GridDrag from './components/GridDrag.vue'\r\nimport GridsterItem from './components/GridsterItem.vue'\r\nimport AddComponent from './components/AddComponent.vue'\r\n\r\nexport function install(app: App): void {\r\n  app.component('GridDrag', GridDrag)\r\n  app.component('GridsterItem', GridsterItem)\r\n  app.component('AddComponent', AddComponent)\r\n}\r\n\r\n// 插件对象\r\nexport interface VueGridLayoutPlugin {\r\n  install: (app: App) => void\r\n  GridDrag: typeof GridDrag\r\n  GridsterItem: typeof GridsterItem\r\n  AddComponent: typeof AddComponent\r\n}\r\n\r\n// 默认导出\r\nconst plugin: VueGridLayoutPlugin = {\r\n  install,\r\n  GridDrag,\r\n  GridsterItem,\r\n  AddComponent\r\n}\r\n\r\nexport default plugin"],"names":["_createElementBlock","_normalizeClass","_renderSlot","_createElementVNode","_hoisted_1","_createVNode","$emit","_createBlock","_toDisplayString","_hoisted_2","_hoisted_3","_Fragment","_renderList","_sfc_main","_sfc_render","Message","_unref","$slots","_withCtx","_normalizeProps","_guardReactiveProps"],"mappings":"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","x_google_ignoreList":[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]}